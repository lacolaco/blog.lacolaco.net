[{"object":"block","id":"f5d30b9d-f609-4c9e-b3c6-bbb6baabeba9","parent":{"type":"page_id","page_id":"f2915bdd-b7a5-4468-b295-cd685099ce5f"},"created_time":"2024-07-10T02:32:00.000Z","last_edited_time":"2024-07-10T02:36:00.000Z","created_by":{"object":"user","id":"f4f222d4-d508-405d-ba6c-da82ee26ee54"},"last_edited_by":{"object":"user","id":"f4f222d4-d508-405d-ba6c-da82ee26ee54"},"has_children":false,"archived":false,"in_trash":false,"type":"paragraph","paragraph":{"rich_text":[{"type":"text","text":{"content":"Angularでカスタムコントロールとして機能するコンポーネントを実装する場合、そのコントロールに ","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default"},"plain_text":"Angularでカスタムコントロールとして機能するコンポーネントを実装する場合、そのコントロールに ","href":null},{"type":"text","text":{"content":"disabled","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":true,"color":"default"},"plain_text":"disabled","href":null},{"type":"text","text":{"content":" プロパティがある場合、Signals で実装するのは少し工夫が必要になる。端的に言えば ","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default"},"plain_text":" プロパティがある場合、Signals で実装するのは少し工夫が必要になる。端的に言えば ","href":null},{"type":"text","text":{"content":"input()","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":true,"color":"default"},"plain_text":"input()","href":null},{"type":"text","text":{"content":" と ","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default"},"plain_text":" と ","href":null},{"type":"text","text":{"content":"model()","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":true,"color":"default"},"plain_text":"model()","href":null},{"type":"text","text":{"content":" だけでは実現できない。","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default"},"plain_text":" だけでは実現できない。","href":null}],"color":"default"}},{"object":"block","id":"cb1c503c-32b4-4585-9755-8ae1e62e9597","parent":{"type":"page_id","page_id":"f2915bdd-b7a5-4468-b295-cd685099ce5f"},"created_time":"2024-07-10T02:36:00.000Z","last_edited_time":"2024-07-10T02:43:00.000Z","created_by":{"object":"user","id":"f4f222d4-d508-405d-ba6c-da82ee26ee54"},"last_edited_by":{"object":"user","id":"f4f222d4-d508-405d-ba6c-da82ee26ee54"},"has_children":false,"archived":false,"in_trash":false,"type":"heading_2","heading_2":{"rich_text":[{"type":"text","text":{"content":"disabled の実装","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default"},"plain_text":"disabled の実装","href":null}],"is_toggleable":false,"color":"default"}},{"object":"block","id":"47195d6d-62ae-4e18-a7a9-e5f640da0c7e","parent":{"type":"page_id","page_id":"f2915bdd-b7a5-4468-b295-cd685099ce5f"},"created_time":"2024-07-10T02:39:00.000Z","last_edited_time":"2024-07-10T02:42:00.000Z","created_by":{"object":"user","id":"f4f222d4-d508-405d-ba6c-da82ee26ee54"},"last_edited_by":{"object":"user","id":"f4f222d4-d508-405d-ba6c-da82ee26ee54"},"has_children":false,"archived":false,"in_trash":false,"type":"paragraph","paragraph":{"rich_text":[{"type":"text","text":{"content":"次のようなテンプレートで用いられる ","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default"},"plain_text":"次のようなテンプレートで用いられる ","href":null},{"type":"text","text":{"content":"<app-checkbox>","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":true,"color":"default"},"plain_text":"<app-checkbox>","href":null},{"type":"text","text":{"content":" コンポーネントを想定する。このコンポーネントはHTML標準の","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default"},"plain_text":" コンポーネントを想定する。このコンポーネントはHTML標準の","href":null},{"type":"text","text":{"content":"<input>","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":true,"color":"default"},"plain_text":"<input>","href":null},{"type":"text","text":{"content":"によるチェックボックスと同じくコントロールを不活性にする ","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default"},"plain_text":"によるチェックボックスと同じくコントロールを不活性にする ","href":null},{"type":"text","text":{"content":"disabled","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":true,"color":"default"},"plain_text":"disabled","href":null},{"type":"text","text":{"content":" プロパティを持つとする。また、","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default"},"plain_text":" プロパティを持つとする。また、","href":null},{"type":"text","text":{"content":"<input>","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":true,"color":"default"},"plain_text":"<input>","href":null},{"type":"text","text":{"content":" と同じく ","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default"},"plain_text":" と同じく ","href":null},{"type":"text","text":{"content":"disabled","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":true,"color":"default"},"plain_text":"disabled","href":null},{"type":"text","text":{"content":" 属性によって不活性にすることもできるとする。さらに、AngularのForms APIによってフォームコントロールの ","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default"},"plain_text":" 属性によって不活性にすることもできるとする。さらに、AngularのForms APIによってフォームコントロールの ","href":null},{"type":"text","text":{"content":"disable()","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":true,"color":"default"},"plain_text":"disable()","href":null},{"type":"text","text":{"content":" メソッドから不活性にもできるとする。この3つの要件を満たせるカスタムコントロールを作ることを考える。","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default"},"plain_text":" メソッドから不活性にもできるとする。この3つの要件を満たせるカスタムコントロールを作ることを考える。","href":null}],"color":"default"}},{"object":"block","id":"7a479179-7c6d-4387-97f7-f37e9b353d24","parent":{"type":"page_id","page_id":"f2915bdd-b7a5-4468-b295-cd685099ce5f"},"created_time":"2024-07-10T02:39:00.000Z","last_edited_time":"2024-07-10T02:40:00.000Z","created_by":{"object":"user","id":"f4f222d4-d508-405d-ba6c-da82ee26ee54"},"last_edited_by":{"object":"user","id":"f4f222d4-d508-405d-ba6c-da82ee26ee54"},"has_children":false,"archived":false,"in_trash":false,"type":"code","code":{"caption":[],"rich_text":[{"type":"text","text":{"content":"@Component({\n  selector: 'app-root',\n  standalone: true,\n  imports: [AppCheckbox, ReactiveFormsModule],\n  template: `\n  <div>\n    <app-checkbox disabled />\n    <app-checkbox [disabled]=\"true\" />\n    <app-checkbox [formControl]=\"formControl\" /> \n  </div>\n  `,\n})\nexport class App {\n  formControl = new FormControl(false);\n\n  constructor() {\n    this.formControl.disable();\n  }\n}","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default"},"plain_text":"@Component({\n  selector: 'app-root',\n  standalone: true,\n  imports: [AppCheckbox, ReactiveFormsModule],\n  template: `\n  <div>\n    <app-checkbox disabled />\n    <app-checkbox [disabled]=\"true\" />\n    <app-checkbox [formControl]=\"formControl\" /> \n  </div>\n  `,\n})\nexport class App {\n  formControl = new FormControl(false);\n\n  constructor() {\n    this.formControl.disable();\n  }\n}","href":null}],"language":"typescript"}},{"object":"block","id":"da1dad15-acc4-4d9a-a29b-01bf4e67ee0f","parent":{"type":"page_id","page_id":"f2915bdd-b7a5-4468-b295-cd685099ce5f"},"created_time":"2024-07-10T02:43:00.000Z","last_edited_time":"2024-07-10T02:43:00.000Z","created_by":{"object":"user","id":"f4f222d4-d508-405d-ba6c-da82ee26ee54"},"last_edited_by":{"object":"user","id":"f4f222d4-d508-405d-ba6c-da82ee26ee54"},"has_children":false,"archived":false,"in_trash":false,"type":"paragraph","paragraph":{"rich_text":[],"color":"default"}},{"object":"block","id":"261ea34b-45a4-481b-9cf1-ccb9f212cec8","parent":{"type":"page_id","page_id":"f2915bdd-b7a5-4468-b295-cd685099ce5f"},"created_time":"2024-07-10T02:39:00.000Z","last_edited_time":"2024-07-10T02:48:00.000Z","created_by":{"object":"user","id":"f4f222d4-d508-405d-ba6c-da82ee26ee54"},"last_edited_by":{"object":"user","id":"f4f222d4-d508-405d-ba6c-da82ee26ee54"},"has_children":false,"archived":false,"in_trash":false,"type":"paragraph","paragraph":{"rich_text":[{"type":"text","text":{"content":"Angular v18.0の現状では、この要件すべてを満たすには ","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default"},"plain_text":"Angular v18.0の現状では、この要件すべてを満たすには ","href":null},{"type":"text","text":{"content":"input()","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":true,"color":"default"},"plain_text":"input()","href":null},{"type":"text","text":{"content":"や","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default"},"plain_text":"や","href":null},{"type":"text","text":{"content":"model()","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":true,"color":"default"},"plain_text":"model()","href":null},{"type":"text","text":{"content":"だけではなく","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default"},"plain_text":"だけではなく","href":null},{"type":"text","text":{"content":"@Input()","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":true,"color":"default"},"plain_text":"@Input()","href":null},{"type":"text","text":{"content":" デコレータを使った実装が必要になる。具体的には次のような実装がSignalを使った最も簡素なものになるだろう。不活性化状態を保持するのはプライベートフィールドの","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default"},"plain_text":" デコレータを使った実装が必要になる。具体的には次のような実装がSignalを使った最も簡素なものになるだろう。不活性化状態を保持するのはプライベートフィールドの","href":null},{"type":"text","text":{"content":"#disabled","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":true,"color":"default"},"plain_text":"#disabled","href":null},{"type":"text","text":{"content":" で、WritableなSignalである。そして、","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default"},"plain_text":" で、WritableなSignalである。そして、","href":null},{"type":"text","text":{"content":"@Input()","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":true,"color":"default"},"plain_text":"@Input()","href":null},{"type":"text","text":{"content":"デコレータを付与したセッターによって","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default"},"plain_text":"デコレータを付与したセッターによって","href":null},{"type":"text","text":{"content":"#disabled","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":true,"color":"default"},"plain_text":"#disabled","href":null},{"type":"text","text":{"content":"に受け取った値をセットしており、同様に","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default"},"plain_text":"に受け取った値をセットしており、同様に","href":null},{"type":"text","text":{"content":"ControlValueAccessor","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":true,"color":"default"},"plain_text":"ControlValueAccessor","href":null},{"type":"text","text":{"content":"として","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default"},"plain_text":"として","href":null},{"type":"text","text":{"content":"setDisabledState","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":true,"color":"default"},"plain_text":"setDisabledState","href":null},{"type":"text","text":{"content":"メソッドでも受け取った値をセットしている。そして","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default"},"plain_text":"メソッドでも受け取った値をセットしている。そして","href":null},{"type":"text","text":{"content":"transform: booleanAttribute","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":true,"color":"default"},"plain_text":"transform: booleanAttribute","href":null},{"type":"text","text":{"content":"設定によって ","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default"},"plain_text":"設定によって ","href":null},{"type":"text","text":{"content":"disabled","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":true,"color":"default"},"plain_text":"disabled","href":null},{"type":"text","text":{"content":" 属性でも不活性化できる。","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default"},"plain_text":" 属性でも不活性化できる。","href":null}],"color":"default"}},{"object":"block","id":"1f1b1b10-41b1-4617-9ad7-9b5c4d189abf","parent":{"type":"page_id","page_id":"f2915bdd-b7a5-4468-b295-cd685099ce5f"},"created_time":"2024-07-10T02:44:00.000Z","last_edited_time":"2024-07-10T02:44:00.000Z","created_by":{"object":"user","id":"f4f222d4-d508-405d-ba6c-da82ee26ee54"},"last_edited_by":{"object":"user","id":"f4f222d4-d508-405d-ba6c-da82ee26ee54"},"has_children":false,"archived":false,"in_trash":false,"type":"code","code":{"caption":[],"rich_text":[{"type":"text","text":{"content":"@Component({\n  selector: 'app-checkbox',\n  standalone: true,\n  template: `\n  <label>\n    <input type=\"checkbox\" \n      #input \n      [checked]=\"checked\" \n      (change)=\"onInputChange(input.checked)\" \n      [disabled]=\"disabled\"> \n    <span [style.textDecoration]=\"disabled ? 'line-through' : 'unset'\">checkbox<span>\n  <label>\n  `,\n  providers: [\n    { provide: NG_VALUE_ACCESSOR, useExisting: AppCheckbox, multi: true },\n  ],\n})\nexport class AppCheckbox implements ControlValueAccessor {\n  readonly #disabled = signal(false);\n  \n  @Input({ transform: booleanAttribute })\n  set disabled(value: boolean) {\n    this.#disabled.set(value);\n  }\n  get disabled(): boolean {\n    return this.#disabled();\n  }\n\n  setDisabledState(isDisabled: boolean) {\n    this.#disabled.set(isDisabled);\n  }\n}","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default"},"plain_text":"@Component({\n  selector: 'app-checkbox',\n  standalone: true,\n  template: `\n  <label>\n    <input type=\"checkbox\" \n      #input \n      [checked]=\"checked\" \n      (change)=\"onInputChange(input.checked)\" \n      [disabled]=\"disabled\"> \n    <span [style.textDecoration]=\"disabled ? 'line-through' : 'unset'\">checkbox<span>\n  <label>\n  `,\n  providers: [\n    { provide: NG_VALUE_ACCESSOR, useExisting: AppCheckbox, multi: true },\n  ],\n})\nexport class AppCheckbox implements ControlValueAccessor {\n  readonly #disabled = signal(false);\n  \n  @Input({ transform: booleanAttribute })\n  set disabled(value: boolean) {\n    this.#disabled.set(value);\n  }\n  get disabled(): boolean {\n    return this.#disabled();\n  }\n\n  setDisabledState(isDisabled: boolean) {\n    this.#disabled.set(isDisabled);\n  }\n}","href":null}],"language":"typescript"}},{"object":"block","id":"1726cff6-686f-408f-8d2e-4442e83771df","parent":{"type":"page_id","page_id":"f2915bdd-b7a5-4468-b295-cd685099ce5f"},"created_time":"2024-07-10T02:48:00.000Z","last_edited_time":"2024-07-10T02:49:00.000Z","created_by":{"object":"user","id":"f4f222d4-d508-405d-ba6c-da82ee26ee54"},"last_edited_by":{"object":"user","id":"f4f222d4-d508-405d-ba6c-da82ee26ee54"},"has_children":false,"archived":false,"in_trash":false,"type":"paragraph","paragraph":{"rich_text":[{"type":"text","text":{"content":"ここからはなぜこのような実装が必要になるのかを説明する。","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default"},"plain_text":"ここからはなぜこのような実装が必要になるのかを説明する。","href":null}],"color":"default"}},{"object":"block","id":"5d556e8d-a2a7-4126-bdf9-eafe45ee875b","parent":{"type":"page_id","page_id":"f2915bdd-b7a5-4468-b295-cd685099ce5f"},"created_time":"2024-07-10T02:49:00.000Z","last_edited_time":"2024-07-10T02:49:00.000Z","created_by":{"object":"user","id":"f4f222d4-d508-405d-ba6c-da82ee26ee54"},"last_edited_by":{"object":"user","id":"f4f222d4-d508-405d-ba6c-da82ee26ee54"},"has_children":false,"archived":false,"in_trash":false,"type":"heading_3","heading_3":{"rich_text":[{"type":"text","text":{"content":"Input Signalは読み取り専用である","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default"},"plain_text":"Input Signalは読み取り専用である","href":null}],"is_toggleable":false,"color":"default"}},{"object":"block","id":"7f9c2685-968d-4ba2-a60f-9504631e4532","parent":{"type":"page_id","page_id":"f2915bdd-b7a5-4468-b295-cd685099ce5f"},"created_time":"2024-07-10T02:49:00.000Z","last_edited_time":"2024-07-10T02:52:00.000Z","created_by":{"object":"user","id":"f4f222d4-d508-405d-ba6c-da82ee26ee54"},"last_edited_by":{"object":"user","id":"f4f222d4-d508-405d-ba6c-da82ee26ee54"},"has_children":false,"archived":false,"in_trash":false,"type":"paragraph","paragraph":{"rich_text":[{"type":"text","text":{"content":"@Input()","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":true,"color":"default"},"plain_text":"@Input()","href":null},{"type":"text","text":{"content":" デコレータに代わるコンポーネントのインプット宣言方法として ","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default"},"plain_text":" デコレータに代わるコンポーネントのインプット宣言方法として ","href":null},{"type":"text","text":{"content":"input()","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":true,"color":"default"},"plain_text":"input()","href":null},{"type":"text","text":{"content":" 関数が導入されたが、この関数が返すInput Signalはコンポーネント内部からは読み取り専用である。したがって、","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default"},"plain_text":" 関数が導入されたが、この関数が返すInput Signalはコンポーネント内部からは読み取り専用である。したがって、","href":null},{"type":"text","text":{"content":"setDisabledState","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":true,"color":"default"},"plain_text":"setDisabledState","href":null},{"type":"text","text":{"content":"メソッドが実装できなくなる。よって、","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default"},"plain_text":"メソッドが実装できなくなる。よって、","href":null},{"type":"text","text":{"content":"disabled","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":true,"color":"default"},"plain_text":"disabled","href":null},{"type":"text","text":{"content":"にInput Signalは使えない。","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default"},"plain_text":"にInput Signalは使えない。","href":null}],"color":"default"}},{"object":"block","id":"361e5741-962e-47f9-9bc4-ad965f00b877","parent":{"type":"page_id","page_id":"f2915bdd-b7a5-4468-b295-cd685099ce5f"},"created_time":"2024-07-10T02:50:00.000Z","last_edited_time":"2024-07-10T02:51:00.000Z","created_by":{"object":"user","id":"f4f222d4-d508-405d-ba6c-da82ee26ee54"},"last_edited_by":{"object":"user","id":"f4f222d4-d508-405d-ba6c-da82ee26ee54"},"has_children":false,"archived":false,"in_trash":false,"type":"code","code":{"caption":[],"rich_text":[{"type":"text","text":{"content":"export class AppCheckbox implements ControlValueAccessor {\n  readonly disabled = input(false, { transform: booleanAttribute });\n\n  setDisabledState(isDisabled: boolean) {\n    this.disabled.set(isDisabled); // <-- ERROR!!\n  }\n}","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default"},"plain_text":"export class AppCheckbox implements ControlValueAccessor {\n  readonly disabled = input(false, { transform: booleanAttribute });\n\n  setDisabledState(isDisabled: boolean) {\n    this.disabled.set(isDisabled); // <-- ERROR!!\n  }\n}","href":null}],"language":"typescript"}},{"object":"block","id":"4a758695-df81-48d2-839b-cc5bac78ae62","parent":{"type":"page_id","page_id":"f2915bdd-b7a5-4468-b295-cd685099ce5f"},"created_time":"2024-07-10T02:49:00.000Z","last_edited_time":"2024-07-10T02:53:00.000Z","created_by":{"object":"user","id":"f4f222d4-d508-405d-ba6c-da82ee26ee54"},"last_edited_by":{"object":"user","id":"f4f222d4-d508-405d-ba6c-da82ee26ee54"},"has_children":false,"archived":false,"in_trash":false,"type":"heading_3","heading_3":{"rich_text":[{"type":"text","text":{"content":"Model Inputは変換できない","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default"},"plain_text":"Model Inputは変換できない","href":null}],"is_toggleable":false,"color":"default"}},{"object":"block","id":"c47aa1d8-20e9-40f3-b2fe-ea000c3208fd","parent":{"type":"page_id","page_id":"f2915bdd-b7a5-4468-b295-cd685099ce5f"},"created_time":"2024-07-10T02:52:00.000Z","last_edited_time":"2024-07-10T02:54:00.000Z","created_by":{"object":"user","id":"f4f222d4-d508-405d-ba6c-da82ee26ee54"},"last_edited_by":{"object":"user","id":"f4f222d4-d508-405d-ba6c-da82ee26ee54"},"has_children":false,"archived":false,"in_trash":false,"type":"paragraph","paragraph":{"rich_text":[{"type":"text","text":{"content":" ","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default"},"plain_text":" ","href":null},{"type":"text","text":{"content":"input()","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":true,"color":"default"},"plain_text":"input()","href":null},{"type":"text","text":{"content":" 関数と違ってコンポーネント内部で書き込み可能なものとして","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default"},"plain_text":" 関数と違ってコンポーネント内部で書き込み可能なものとして","href":null},{"type":"text","text":{"content":"model()","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":true,"color":"default"},"plain_text":"model()","href":null},{"type":"text","text":{"content":"関数も導入されているが、こちらの場合は ","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default"},"plain_text":"関数も導入されているが、こちらの場合は ","href":null},{"type":"text","text":{"content":"disabled","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":true,"color":"default"},"plain_text":"disabled","href":null},{"type":"text","text":{"content":" 属性による不活性化を可能にするための transform オプションを持たない。よって、","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default"},"plain_text":" 属性による不活性化を可能にするための transform オプションを持たない。よって、","href":null},{"type":"text","text":{"content":"disabled","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":true,"color":"default"},"plain_text":"disabled","href":null},{"type":"text","text":{"content":"にModel Inputも使えない。","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default"},"plain_text":"にModel Inputも使えない。","href":null}],"color":"default"}},{"object":"block","id":"14230ec2-6760-46f5-94a9-364a9c3fa41a","parent":{"type":"page_id","page_id":"f2915bdd-b7a5-4468-b295-cd685099ce5f"},"created_time":"2024-07-10T02:52:00.000Z","last_edited_time":"2024-07-10T02:54:00.000Z","created_by":{"object":"user","id":"f4f222d4-d508-405d-ba6c-da82ee26ee54"},"last_edited_by":{"object":"user","id":"f4f222d4-d508-405d-ba6c-da82ee26ee54"},"has_children":false,"archived":false,"in_trash":false,"type":"code","code":{"caption":[],"rich_text":[{"type":"text","text":{"content":"export class AppCheckbox implements ControlValueAccessor {\n  readonly disabled = model(false, { \n    transform: booleanAttribute // <-- ERROR!!\n  });\n\n  setDisabledState(isDisabled: boolean) {\n    this.disabled.set(isDisabled);\n  }\n}","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default"},"plain_text":"export class AppCheckbox implements ControlValueAccessor {\n  readonly disabled = model(false, { \n    transform: booleanAttribute // <-- ERROR!!\n  });\n\n  setDisabledState(isDisabled: boolean) {\n    this.disabled.set(isDisabled);\n  }\n}","href":null}],"language":"typescript"}},{"object":"block","id":"f5cca520-7685-49f4-973a-5abe660d8c70","parent":{"type":"page_id","page_id":"f2915bdd-b7a5-4468-b295-cd685099ce5f"},"created_time":"2024-07-10T02:54:00.000Z","last_edited_time":"2024-07-10T02:56:00.000Z","created_by":{"object":"user","id":"f4f222d4-d508-405d-ba6c-da82ee26ee54"},"last_edited_by":{"object":"user","id":"f4f222d4-d508-405d-ba6c-da82ee26ee54"},"has_children":false,"archived":false,"in_trash":false,"type":"paragraph","paragraph":{"rich_text":[{"type":"text","text":{"content":"なぜModel Inputが値の変換をサポートしていないのかについては、GitHubのIssueでAngularチームのテクニカルリードであるAlexからコメントがされている。双方向バインディングのメンタルモデルからすると、親からバインディングした値と内部で保持される値が違うというのは混乱を招きやすいということが主な理由だ。","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default"},"plain_text":"なぜModel Inputが値の変換をサポートしていないのかについては、GitHubのIssueでAngularチームのテクニカルリードであるAlexからコメントがされている。双方向バインディングのメンタルモデルからすると、親からバインディングした値と内部で保持される値が違うというのは混乱を招きやすいということが主な理由だ。","href":null}],"color":"default"}},{"object":"block","id":"5827cbaa-a2a5-48f1-9708-afbc17a48977","parent":{"type":"page_id","page_id":"f2915bdd-b7a5-4468-b295-cd685099ce5f"},"created_time":"2024-07-10T02:55:00.000Z","last_edited_time":"2024-07-10T02:55:00.000Z","created_by":{"object":"user","id":"f4f222d4-d508-405d-ba6c-da82ee26ee54"},"last_edited_by":{"object":"user","id":"f4f222d4-d508-405d-ba6c-da82ee26ee54"},"has_children":false,"archived":false,"in_trash":false,"type":"bookmark","bookmark":{"caption":[],"url":"https://github.com/angular/angular/issues/55166#issuecomment-2032150999"}},{"object":"block","id":"01584cff-9676-4118-8765-bd4cb0ed4c4c","parent":{"type":"page_id","page_id":"f2915bdd-b7a5-4468-b295-cd685099ce5f"},"created_time":"2024-07-10T02:56:00.000Z","last_edited_time":"2024-07-10T02:56:00.000Z","created_by":{"object":"user","id":"f4f222d4-d508-405d-ba6c-da82ee26ee54"},"last_edited_by":{"object":"user","id":"f4f222d4-d508-405d-ba6c-da82ee26ee54"},"has_children":false,"archived":false,"in_trash":false,"type":"paragraph","paragraph":{"rich_text":[],"color":"default"}},{"object":"block","id":"3dc21465-1bf0-440b-8711-1f9026c13899","parent":{"type":"page_id","page_id":"f2915bdd-b7a5-4468-b295-cd685099ce5f"},"created_time":"2024-07-10T02:56:00.000Z","last_edited_time":"2024-07-10T03:09:00.000Z","created_by":{"object":"user","id":"f4f222d4-d508-405d-ba6c-da82ee26ee54"},"last_edited_by":{"object":"user","id":"f4f222d4-d508-405d-ba6c-da82ee26ee54"},"has_children":false,"archived":false,"in_trash":false,"type":"paragraph","paragraph":{"rich_text":[{"type":"text","text":{"content":"以上の理由から、現状のSignal APIでは","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default"},"plain_text":"以上の理由から、現状のSignal APIでは","href":null},{"type":"text","text":{"content":"@Input()","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":true,"color":"default"},"plain_text":"@Input()","href":null},{"type":"text","text":{"content":"デコレータを使わずに冒頭の3つの要件を満たすことはできない。もちろん ","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default"},"plain_text":"デコレータを使わずに冒頭の3つの要件を満たすことはできない。もちろん ","href":null},{"type":"text","text":{"content":"disabled","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":true,"color":"default"},"plain_text":"disabled","href":null},{"type":"text","text":{"content":" 属性によって不活性化できる要件を無視すれば","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default"},"plain_text":" 属性によって不活性化できる要件を無視すれば","href":null},{"type":"text","text":{"content":"model()","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":true,"color":"default"},"plain_text":"model()","href":null},{"type":"text","text":{"content":"で満足できるが、Signalsで統一された実装のために要件を妥協するかといわれればそれは選ばないだろう。","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default"},"plain_text":"で満足できるが、Signalsで統一された実装のために要件を妥協するかといわれればそれは選ばないだろう。","href":null},{"type":"text","text":{"content":"@Input()","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":true,"color":"default"},"plain_text":"@Input()","href":null},{"type":"text","text":{"content":"デコレータを使っていても現状では非推奨化もされていないし、状態の保持がSignal化されていればそれだけでパフォーマンスの最適化やZoneless化には寄与するわけだから、特に何も失うことはない。","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default"},"plain_text":"デコレータを使っていても現状では非推奨化もされていないし、状態の保持がSignal化されていればそれだけでパフォーマンスの最適化やZoneless化には寄与するわけだから、特に何も失うことはない。","href":null}],"color":"default"}},{"object":"block","id":"b86292bc-eeb2-4221-9d63-41f0a889eab1","parent":{"type":"page_id","page_id":"f2915bdd-b7a5-4468-b295-cd685099ce5f"},"created_time":"2024-07-10T03:04:00.000Z","last_edited_time":"2024-07-10T03:05:00.000Z","created_by":{"object":"user","id":"f4f222d4-d508-405d-ba6c-da82ee26ee54"},"last_edited_by":{"object":"user","id":"f4f222d4-d508-405d-ba6c-da82ee26ee54"},"has_children":false,"archived":false,"in_trash":false,"type":"paragraph","paragraph":{"rich_text":[{"type":"text","text":{"content":"また、現状のSignalsとForm APIsが噛み合っていないことについてはAngular開発ロードマップの中で高い優先度で取り組まれているので、今回説明したワークアラウンドについてはそのうち不要になるだろう。それまではこのやり方が無難だと思われる。","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default"},"plain_text":"また、現状のSignalsとForm APIsが噛み合っていないことについてはAngular開発ロードマップの中で高い優先度で取り組まれているので、今回説明したワークアラウンドについてはそのうち不要になるだろう。それまではこのやり方が無難だと思われる。","href":null}],"color":"default"}}]