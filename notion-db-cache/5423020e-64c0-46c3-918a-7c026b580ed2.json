[{"object":"block","id":"e4b8fdc2-8092-43ad-aa6b-f421450bf897","parent":{"type":"page_id","page_id":"5423020e-64c0-46c3-918a-7c026b580ed2"},"created_time":"2023-05-21T00:19:00.000Z","last_edited_time":"2023-05-21T00:19:00.000Z","created_by":{"object":"user","id":"f4f222d4-d508-405d-ba6c-da82ee26ee54"},"last_edited_by":{"object":"user","id":"f4f222d4-d508-405d-ba6c-da82ee26ee54"},"has_children":false,"archived":false,"in_trash":false,"type":"paragraph","paragraph":{"rich_text":[{"type":"text","text":{"content":"この記事では NgRx v7.4で導入される ","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default"},"plain_text":"この記事では NgRx v7.4で導入される ","href":null},{"type":"text","text":{"content":"Action Creator","link":null},"annotations":{"bold":true,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default"},"plain_text":"Action Creator","href":null},{"type":"text","text":{"content":" 機能と、それを使った実装パターンを紹介します。 Action Creatorはまだ ","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default"},"plain_text":" 機能と、それを使った実装パターンを紹介します。 Action Creatorはまだ ","href":null},{"type":"text","text":{"content":"ngrx.io","link":{"url":"https://ngrx.io/"}},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default"},"plain_text":"ngrx.io","href":"https://ngrx.io/"},{"type":"text","text":{"content":" のドキュメンテーションに含まれていませんが、将来的に追加された後はそちらを参照するようにしてください。","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default"},"plain_text":" のドキュメンテーションに含まれていませんが、将来的に追加された後はそちらを参照するようにしてください。","href":null}],"color":"default"}},{"object":"block","id":"75775c70-668d-459c-b8b8-c1b13a088d2b","parent":{"type":"page_id","page_id":"5423020e-64c0-46c3-918a-7c026b580ed2"},"created_time":"2023-05-21T00:19:00.000Z","last_edited_time":"2023-05-21T00:19:00.000Z","created_by":{"object":"user","id":"f4f222d4-d508-405d-ba6c-da82ee26ee54"},"last_edited_by":{"object":"user","id":"f4f222d4-d508-405d-ba6c-da82ee26ee54"},"has_children":false,"archived":false,"in_trash":false,"type":"heading_2","heading_2":{"rich_text":[{"type":"text","text":{"content":"アクションの定義","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default"},"plain_text":"アクションの定義","href":null}],"is_toggleable":false,"color":"default"}},{"object":"block","id":"5d074167-51ba-48b1-8744-29d0de501f0b","parent":{"type":"page_id","page_id":"5423020e-64c0-46c3-918a-7c026b580ed2"},"created_time":"2023-05-21T00:19:00.000Z","last_edited_time":"2023-05-21T00:19:00.000Z","created_by":{"object":"user","id":"f4f222d4-d508-405d-ba6c-da82ee26ee54"},"last_edited_by":{"object":"user","id":"f4f222d4-d508-405d-ba6c-da82ee26ee54"},"has_children":false,"archived":false,"in_trash":false,"type":"paragraph","paragraph":{"rich_text":[{"type":"text","text":{"content":"簡単なカウンターを実装しながら、これまでのNgRxの書き方をおさらいしましょう。 今回のカウンターは、任意の数値を受け取って加算する ","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default"},"plain_text":"簡単なカウンターを実装しながら、これまでのNgRxの書き方をおさらいしましょう。 今回のカウンターは、任意の数値を受け取って加算する ","href":null},{"type":"text","text":{"content":"Increment","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":true,"color":"default"},"plain_text":"Increment","href":null},{"type":"text","text":{"content":" と、カウンターをリセットする ","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default"},"plain_text":" と、カウンターをリセットする ","href":null},{"type":"text","text":{"content":"Reset","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":true,"color":"default"},"plain_text":"Reset","href":null},{"type":"text","text":{"content":" をアクションとして定義します。","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default"},"plain_text":" をアクションとして定義します。","href":null}],"color":"default"}},{"object":"block","id":"9921bb6c-1f45-4829-a38f-fbab8623e1d1","parent":{"type":"page_id","page_id":"5423020e-64c0-46c3-918a-7c026b580ed2"},"created_time":"2023-05-21T00:19:00.000Z","last_edited_time":"2023-05-21T00:19:00.000Z","created_by":{"object":"user","id":"f4f222d4-d508-405d-ba6c-da82ee26ee54"},"last_edited_by":{"object":"user","id":"f4f222d4-d508-405d-ba6c-da82ee26ee54"},"has_children":false,"archived":false,"in_trash":false,"type":"paragraph","paragraph":{"rich_text":[{"type":"text","text":{"content":"これまでのアクション定義では、アクションタイプのEnum と、それを持つ各アクションクラス、そしてそのクラス型のUnion Typeを定義するのが一般的でした。 たとえば ","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default"},"plain_text":"これまでのアクション定義では、アクションタイプのEnum と、それを持つ各アクションクラス、そしてそのクラス型のUnion Typeを定義するのが一般的でした。 たとえば ","href":null},{"type":"text","text":{"content":"Increment","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":true,"color":"default"},"plain_text":"Increment","href":null},{"type":"text","text":{"content":" と ","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default"},"plain_text":" と ","href":null},{"type":"text","text":{"content":"Reset","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":true,"color":"default"},"plain_text":"Reset","href":null},{"type":"text","text":{"content":" というアクションとする ","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default"},"plain_text":" というアクションとする ","href":null},{"type":"text","text":{"content":"counter.actions.ts","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":true,"color":"default"},"plain_text":"counter.actions.ts","href":null},{"type":"text","text":{"content":" を定義すると次のようになります。 ","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default"},"plain_text":" を定義すると次のようになります。 ","href":null},{"type":"text","text":{"content":"Increment","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":true,"color":"default"},"plain_text":"Increment","href":null},{"type":"text","text":{"content":" は与えられた数だけカウントを進め、 ","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default"},"plain_text":" は与えられた数だけカウントを進め、 ","href":null},{"type":"text","text":{"content":"Reset","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":true,"color":"default"},"plain_text":"Reset","href":null},{"type":"text","text":{"content":" は カウントを 0 に戻すためのアクションです。","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default"},"plain_text":" は カウントを 0 に戻すためのアクションです。","href":null}],"color":"default"}},{"object":"block","id":"ca6efaf6-b769-47ee-bdfc-2f377f5f98d5","parent":{"type":"page_id","page_id":"5423020e-64c0-46c3-918a-7c026b580ed2"},"created_time":"2023-05-21T00:19:00.000Z","last_edited_time":"2023-05-21T00:19:00.000Z","created_by":{"object":"user","id":"f4f222d4-d508-405d-ba6c-da82ee26ee54"},"last_edited_by":{"object":"user","id":"f4f222d4-d508-405d-ba6c-da82ee26ee54"},"has_children":false,"archived":false,"in_trash":false,"type":"code","code":{"caption":[],"rich_text":[{"type":"text","text":{"content":"// counter.actions.ts\nimport { Action } from '@ngrx/store';\n\nexport enum ActionTypes {\n  Increment = '[Counter] Increment',\n  Reset = '[Counter] Reset',\n}\n\nexport class Increment implements Action {\n  readonly type = ActionTypes.Increment;\n\n  constructor(public payload: number) { }\n}\n\nexport class Reset implements Action {\n  readonly type = ActionTypes.Reset;\n}\n\nexport type ActionsUnion = Increment | Reset;","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default"},"plain_text":"// counter.actions.ts\nimport { Action } from '@ngrx/store';\n\nexport enum ActionTypes {\n  Increment = '[Counter] Increment',\n  Reset = '[Counter] Reset',\n}\n\nexport class Increment implements Action {\n  readonly type = ActionTypes.Increment;\n\n  constructor(public payload: number) { }\n}\n\nexport class Reset implements Action {\n  readonly type = ActionTypes.Reset;\n}\n\nexport type ActionsUnion = Increment | Reset;","href":null}],"language":"typescript"}},{"object":"block","id":"b1fe7cf2-1720-40bf-85b2-df4703f756bd","parent":{"type":"page_id","page_id":"5423020e-64c0-46c3-918a-7c026b580ed2"},"created_time":"2023-05-21T00:19:00.000Z","last_edited_time":"2023-05-21T00:19:00.000Z","created_by":{"object":"user","id":"f4f222d4-d508-405d-ba6c-da82ee26ee54"},"last_edited_by":{"object":"user","id":"f4f222d4-d508-405d-ba6c-da82ee26ee54"},"has_children":false,"archived":false,"in_trash":false,"type":"paragraph","paragraph":{"rich_text":[{"type":"text","text":{"content":"このファイルはAction Creatorによって次のように書き換えられます。","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default"},"plain_text":"このファイルはAction Creatorによって次のように書き換えられます。","href":null}],"color":"default"}},{"object":"block","id":"93fced57-53d1-40dc-982d-2e43decdd942","parent":{"type":"page_id","page_id":"5423020e-64c0-46c3-918a-7c026b580ed2"},"created_time":"2023-05-21T00:19:00.000Z","last_edited_time":"2023-05-21T00:19:00.000Z","created_by":{"object":"user","id":"f4f222d4-d508-405d-ba6c-da82ee26ee54"},"last_edited_by":{"object":"user","id":"f4f222d4-d508-405d-ba6c-da82ee26ee54"},"has_children":false,"archived":false,"in_trash":false,"type":"code","code":{"caption":[],"rich_text":[{"type":"text","text":{"content":"// counter.actions.ts\nimport { createAction, union } from '@ngrx/store';\n\nexport const increment = createAction(\n  '[Counter] Increment',\n  (payload: number) => ({ payload })\n);\n\nexport const reset = createAction(\n  '[Counter] Reset'\n);\n\nconst actions = union({\n  increment,\n  reset,\n});\n\nexport type ActionsUnion = typeof actions;","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default"},"plain_text":"// counter.actions.ts\nimport { createAction, union } from '@ngrx/store';\n\nexport const increment = createAction(\n  '[Counter] Increment',\n  (payload: number) => ({ payload })\n);\n\nexport const reset = createAction(\n  '[Counter] Reset'\n);\n\nconst actions = union({\n  increment,\n  reset,\n});\n\nexport type ActionsUnion = typeof actions;","href":null}],"language":"typescript"}},{"object":"block","id":"2ecf555b-f63d-45ad-adb4-1b018b3268aa","parent":{"type":"page_id","page_id":"5423020e-64c0-46c3-918a-7c026b580ed2"},"created_time":"2023-05-21T00:19:00.000Z","last_edited_time":"2023-05-21T00:19:00.000Z","created_by":{"object":"user","id":"f4f222d4-d508-405d-ba6c-da82ee26ee54"},"last_edited_by":{"object":"user","id":"f4f222d4-d508-405d-ba6c-da82ee26ee54"},"has_children":false,"archived":false,"in_trash":false,"type":"heading_3","heading_3":{"rich_text":[{"type":"text","text":{"content":"createAction","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":true,"color":"default"},"plain_text":"createAction","href":null},{"type":"text","text":{"content":" 関数","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default"},"plain_text":" 関数","href":null}],"is_toggleable":false,"color":"default"}},{"object":"block","id":"c46c4933-e715-4a55-868b-4dd2f839683a","parent":{"type":"page_id","page_id":"5423020e-64c0-46c3-918a-7c026b580ed2"},"created_time":"2023-05-21T00:19:00.000Z","last_edited_time":"2023-05-21T00:19:00.000Z","created_by":{"object":"user","id":"f4f222d4-d508-405d-ba6c-da82ee26ee54"},"last_edited_by":{"object":"user","id":"f4f222d4-d508-405d-ba6c-da82ee26ee54"},"has_children":false,"archived":false,"in_trash":false,"type":"paragraph","paragraph":{"rich_text":[{"type":"text","text":{"content":"まずクラス定義を置き換えている ","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default"},"plain_text":"まずクラス定義を置き換えている ","href":null},{"type":"text","text":{"content":"createAction","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":true,"color":"default"},"plain_text":"createAction","href":null},{"type":"text","text":{"content":" 関数について解説します。 この関数は Action Creatorを返します。Action Creatorはアクションオブジェクトを返す関数です。 つまり、ディスパッチするアクションが、クラスをnewしたインスタンスから関数の戻り値に変わります。","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default"},"plain_text":" 関数について解説します。 この関数は Action Creatorを返します。Action Creatorはアクションオブジェクトを返す関数です。 つまり、ディスパッチするアクションが、クラスをnewしたインスタンスから関数の戻り値に変わります。","href":null}],"color":"default"}},{"object":"block","id":"aaa1a663-0ac1-43c6-95dc-dcbf7ceca4fe","parent":{"type":"page_id","page_id":"5423020e-64c0-46c3-918a-7c026b580ed2"},"created_time":"2023-05-21T00:19:00.000Z","last_edited_time":"2023-05-21T00:19:00.000Z","created_by":{"object":"user","id":"f4f222d4-d508-405d-ba6c-da82ee26ee54"},"last_edited_by":{"object":"user","id":"f4f222d4-d508-405d-ba6c-da82ee26ee54"},"has_children":false,"archived":false,"in_trash":false,"type":"code","code":{"caption":[],"rich_text":[{"type":"text","text":{"content":"import * as Actions from './actions';\n\n// アクションクラスのインスタンス\nstore.dispatch(new Actions.Increment(1));\n\n// Action Creator\n// 関数がActionを返す\nstore.dispatch(Actions.increment(1));","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default"},"plain_text":"import * as Actions from './actions';\n\n// アクションクラスのインスタンス\nstore.dispatch(new Actions.Increment(1));\n\n// Action Creator\n// 関数がActionを返す\nstore.dispatch(Actions.increment(1));","href":null}],"language":"typescript"}},{"object":"block","id":"be517e4c-dce6-432c-a13e-eeeb7f25dbf1","parent":{"type":"page_id","page_id":"5423020e-64c0-46c3-918a-7c026b580ed2"},"created_time":"2023-05-21T00:19:00.000Z","last_edited_time":"2023-05-21T00:19:00.000Z","created_by":{"object":"user","id":"f4f222d4-d508-405d-ba6c-da82ee26ee54"},"last_edited_by":{"object":"user","id":"f4f222d4-d508-405d-ba6c-da82ee26ee54"},"has_children":false,"archived":false,"in_trash":false,"type":"paragraph","paragraph":{"rich_text":[{"type":"text","text":{"content":"引数を取るアクションは、 ","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default"},"plain_text":"引数を取るアクションは、 ","href":null},{"type":"text","text":{"content":"createAction","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":true,"color":"default"},"plain_text":"createAction","href":null},{"type":"text","text":{"content":" 関数の第2引数に関数を渡します。 この関数は任意の引数を取り、任意のオブジェクトを返します。 これは従来のアクションクラスにおけるコンストラクタとクラスフィールドの定義と同じです。","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default"},"plain_text":" 関数の第2引数に関数を渡します。 この関数は任意の引数を取り、任意のオブジェクトを返します。 これは従来のアクションクラスにおけるコンストラクタとクラスフィールドの定義と同じです。","href":null}],"color":"default"}},{"object":"block","id":"d08fc5ad-bb9a-4cd1-bc1c-3ea63e6fcf42","parent":{"type":"page_id","page_id":"5423020e-64c0-46c3-918a-7c026b580ed2"},"created_time":"2023-05-21T00:19:00.000Z","last_edited_time":"2023-05-21T00:19:00.000Z","created_by":{"object":"user","id":"f4f222d4-d508-405d-ba6c-da82ee26ee54"},"last_edited_by":{"object":"user","id":"f4f222d4-d508-405d-ba6c-da82ee26ee54"},"has_children":false,"archived":false,"in_trash":false,"type":"paragraph","paragraph":{"rich_text":[{"type":"text","text":{"content":"increment","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":true,"color":"default"},"plain_text":"increment","href":null},{"type":"text","text":{"content":" アクションをもう一度見てみましょう。 第2引数は数値を ","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default"},"plain_text":" アクションをもう一度見てみましょう。 第2引数は数値を ","href":null},{"type":"text","text":{"content":"payload","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":true,"color":"default"},"plain_text":"payload","href":null},{"type":"text","text":{"content":" 引数として受け取る関数で、戻り値は ","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default"},"plain_text":" 引数として受け取る関数で、戻り値は ","href":null},{"type":"text","text":{"content":"payload","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":true,"color":"default"},"plain_text":"payload","href":null},{"type":"text","text":{"content":" プロパティをもつオブジェクトです。。 この関数の戻り値は第1引数から作られるアクションオブジェクトとマージされ、 最終的に ","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default"},"plain_text":" プロパティをもつオブジェクトです。。 この関数の戻り値は第1引数から作られるアクションオブジェクトとマージされ、 最終的に ","href":null},{"type":"text","text":{"content":"{ type: '[Counter] Increment'', payload }","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":true,"color":"default"},"plain_text":"{ type: '[Counter] Increment'', payload }","href":null},{"type":"text","text":{"content":" というアクションオブジェクトを作成することになります。","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default"},"plain_text":" というアクションオブジェクトを作成することになります。","href":null}],"color":"default"}},{"object":"block","id":"6bc362d9-b80b-46e3-a165-fe9621aad7da","parent":{"type":"page_id","page_id":"5423020e-64c0-46c3-918a-7c026b580ed2"},"created_time":"2023-05-21T00:19:00.000Z","last_edited_time":"2023-05-21T00:19:00.000Z","created_by":{"object":"user","id":"f4f222d4-d508-405d-ba6c-da82ee26ee54"},"last_edited_by":{"object":"user","id":"f4f222d4-d508-405d-ba6c-da82ee26ee54"},"has_children":false,"archived":false,"in_trash":false,"type":"code","code":{"caption":[],"rich_text":[{"type":"text","text":{"content":"// アクションを作成する\nconst action = Actions.increment(1);\n\n// アクションオブジェクトは `type` を持つ\nconsole.log(action.type); // => '[Counter] Increment'\n// 第2引数で返したオブジェクトがマージされている\nconsole.log(action.payload); // => 1","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default"},"plain_text":"// アクションを作成する\nconst action = Actions.increment(1);\n\n// アクションオブジェクトは `type` を持つ\nconsole.log(action.type); // => '[Counter] Increment'\n// 第2引数で返したオブジェクトがマージされている\nconsole.log(action.payload); // => 1","href":null}],"language":"typescript"}},{"object":"block","id":"d3ee4f2a-d22d-4ec5-bee9-1bac4342bbd1","parent":{"type":"page_id","page_id":"5423020e-64c0-46c3-918a-7c026b580ed2"},"created_time":"2023-05-21T00:19:00.000Z","last_edited_time":"2023-05-21T00:19:00.000Z","created_by":{"object":"user","id":"f4f222d4-d508-405d-ba6c-da82ee26ee54"},"last_edited_by":{"object":"user","id":"f4f222d4-d508-405d-ba6c-da82ee26ee54"},"has_children":false,"archived":false,"in_trash":false,"type":"paragraph","paragraph":{"rich_text":[{"type":"text","text":{"content":"ちなみに、これまで Enumで管理していたアクションタイプの文字列は、これまではクラスインスタンスを作らないと ","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default"},"plain_text":"ちなみに、これまで Enumで管理していたアクションタイプの文字列は、これまではクラスインスタンスを作らないと ","href":null},{"type":"text","text":{"content":"type","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":true,"color":"default"},"plain_text":"type","href":null},{"type":"text","text":{"content":" が手に入らないためにクラスと別にEnumを置いていましたが、 今後は ","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default"},"plain_text":" が手に入らないためにクラスと別にEnumを置いていましたが、 今後は ","href":null},{"type":"text","text":{"content":"increment.type","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":true,"color":"default"},"plain_text":"increment.type","href":null},{"type":"text","text":{"content":" という形でアクセスできるため、いちいちEnumを作る必要はありません。 これについては後述する Reducerの変更部分で詳しくわかります。","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default"},"plain_text":" という形でアクセスできるため、いちいちEnumを作る必要はありません。 これについては後述する Reducerの変更部分で詳しくわかります。","href":null}],"color":"default"}},{"object":"block","id":"001d91de-b673-427c-8a95-10d459670d44","parent":{"type":"page_id","page_id":"5423020e-64c0-46c3-918a-7c026b580ed2"},"created_time":"2023-05-21T00:19:00.000Z","last_edited_time":"2023-05-21T00:19:00.000Z","created_by":{"object":"user","id":"f4f222d4-d508-405d-ba6c-da82ee26ee54"},"last_edited_by":{"object":"user","id":"f4f222d4-d508-405d-ba6c-da82ee26ee54"},"has_children":false,"archived":false,"in_trash":false,"type":"heading_3","heading_3":{"rich_text":[{"type":"text","text":{"content":"union","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":true,"color":"default"},"plain_text":"union","href":null},{"type":"text","text":{"content":" 関数","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default"},"plain_text":" 関数","href":null}],"is_toggleable":false,"color":"default"}},{"object":"block","id":"2b78cf0f-5d50-4e34-ac72-a6ce8decd0c4","parent":{"type":"page_id","page_id":"5423020e-64c0-46c3-918a-7c026b580ed2"},"created_time":"2023-05-21T00:19:00.000Z","last_edited_time":"2023-05-21T00:19:00.000Z","created_by":{"object":"user","id":"f4f222d4-d508-405d-ba6c-da82ee26ee54"},"last_edited_by":{"object":"user","id":"f4f222d4-d508-405d-ba6c-da82ee26ee54"},"has_children":false,"archived":false,"in_trash":false,"type":"paragraph","paragraph":{"rich_text":[{"type":"text","text":{"content":"一連のアクションの型を合成した","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default"},"plain_text":"一連のアクションの型を合成した","href":null},{"type":"text","text":{"content":"ActionsUnion","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":true,"color":"default"},"plain_text":"ActionsUnion","href":null},{"type":"text","text":{"content":" 型は、ReducerやEffectなどいくつかの場所で必要となります。 従来のアクションクラスでは、クラス型の Union Type をそのまま扱えたが、関数の場合はその関数の戻り値の型を合成する必要があります。 それを補助してくれるのが NgRxの ","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default"},"plain_text":" 型は、ReducerやEffectなどいくつかの場所で必要となります。 従来のアクションクラスでは、クラス型の Union Type をそのまま扱えたが、関数の場合はその関数の戻り値の型を合成する必要があります。 それを補助してくれるのが NgRxの ","href":null},{"type":"text","text":{"content":"union","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":true,"color":"default"},"plain_text":"union","href":null},{"type":"text","text":{"content":" 関数です。","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default"},"plain_text":" 関数です。","href":null}],"color":"default"}},{"object":"block","id":"145b304a-9d7e-4a10-93c7-65e5de4c2d90","parent":{"type":"page_id","page_id":"5423020e-64c0-46c3-918a-7c026b580ed2"},"created_time":"2023-05-21T00:19:00.000Z","last_edited_time":"2023-05-21T00:19:00.000Z","created_by":{"object":"user","id":"f4f222d4-d508-405d-ba6c-da82ee26ee54"},"last_edited_by":{"object":"user","id":"f4f222d4-d508-405d-ba6c-da82ee26ee54"},"has_children":false,"archived":false,"in_trash":false,"type":"paragraph","paragraph":{"rich_text":[{"type":"text","text":{"content":"すべてのAction Creatorを ","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default"},"plain_text":"すべてのAction Creatorを ","href":null},{"type":"text","text":{"content":"union","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":true,"color":"default"},"plain_text":"union","href":null},{"type":"text","text":{"content":" 関数に渡し、その戻り値を ","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default"},"plain_text":" 関数に渡し、その戻り値を ","href":null},{"type":"text","text":{"content":"エクスポートせず","link":null},"annotations":{"bold":true,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default"},"plain_text":"エクスポートせず","href":null},{"type":"text","text":{"content":" 宣言します。 なぜエクスポートしないかというと、欲しいのはその型だけだからでです。エクスポートして外部から参照可能にしたところで使いみちはありません。 ","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default"},"plain_text":" 宣言します。 なぜエクスポートしないかというと、欲しいのはその型だけだからでです。エクスポートして外部から参照可能にしたところで使いみちはありません。 ","href":null},{"type":"text","text":{"content":"actions","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":true,"color":"default"},"plain_text":"actions","href":null},{"type":"text","text":{"content":" 変数を宣言したら、","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default"},"plain_text":" 変数を宣言したら、","href":null},{"type":"text","text":{"content":"typeof","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":true,"color":"default"},"plain_text":"typeof","href":null},{"type":"text","text":{"content":" を使ってその型を ","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default"},"plain_text":" を使ってその型を ","href":null},{"type":"text","text":{"content":"Union","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":true,"color":"default"},"plain_text":"Union","href":null},{"type":"text","text":{"content":" 型として外部にエクスポートします。","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default"},"plain_text":" 型として外部にエクスポートします。","href":null}],"color":"default"}},{"object":"block","id":"b1658adf-4f0a-497e-9d32-8335e40b717c","parent":{"type":"page_id","page_id":"5423020e-64c0-46c3-918a-7c026b580ed2"},"created_time":"2023-05-21T00:19:00.000Z","last_edited_time":"2023-05-21T00:19:00.000Z","created_by":{"object":"user","id":"f4f222d4-d508-405d-ba6c-da82ee26ee54"},"last_edited_by":{"object":"user","id":"f4f222d4-d508-405d-ba6c-da82ee26ee54"},"has_children":false,"archived":false,"in_trash":false,"type":"code","code":{"caption":[],"rich_text":[{"type":"text","text":{"content":"// 戻り値はエクスポートしない\nconst actions = union({\n  increment,\n  reset,\n});\n\n// 型だけエクスポートする\nexport type ActionsUnion = typeof actions;","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default"},"plain_text":"// 戻り値はエクスポートしない\nconst actions = union({\n  increment,\n  reset,\n});\n\n// 型だけエクスポートする\nexport type ActionsUnion = typeof actions;","href":null}],"language":"typescript"}},{"object":"block","id":"59e009d2-0af6-4934-a7eb-5b38167d12f7","parent":{"type":"page_id","page_id":"5423020e-64c0-46c3-918a-7c026b580ed2"},"created_time":"2023-05-21T00:19:00.000Z","last_edited_time":"2023-05-21T00:19:00.000Z","created_by":{"object":"user","id":"f4f222d4-d508-405d-ba6c-da82ee26ee54"},"last_edited_by":{"object":"user","id":"f4f222d4-d508-405d-ba6c-da82ee26ee54"},"has_children":false,"archived":false,"in_trash":false,"type":"heading_2","heading_2":{"rich_text":[{"type":"text","text":{"content":"Reducerの作成","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default"},"plain_text":"Reducerの作成","href":null}],"is_toggleable":false,"color":"default"}},{"object":"block","id":"225e3b32-b50b-401f-bdda-5e0298b4b027","parent":{"type":"page_id","page_id":"5423020e-64c0-46c3-918a-7c026b580ed2"},"created_time":"2023-05-21T00:19:00.000Z","last_edited_time":"2023-05-21T00:19:00.000Z","created_by":{"object":"user","id":"f4f222d4-d508-405d-ba6c-da82ee26ee54"},"last_edited_by":{"object":"user","id":"f4f222d4-d508-405d-ba6c-da82ee26ee54"},"has_children":false,"archived":false,"in_trash":false,"type":"paragraph","paragraph":{"rich_text":[{"type":"text","text":{"content":"Action Creatorを定義したら、次はReducerを対応させます。 もともとアクションクラスとEnumを使っていたときは、次のような Reducerになっていました。 引数に渡されるアクションの型は ","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default"},"plain_text":"Action Creatorを定義したら、次はReducerを対応させます。 もともとアクションクラスとEnumを使っていたときは、次のような Reducerになっていました。 引数に渡されるアクションの型は ","href":null},{"type":"text","text":{"content":"ActionsUnion","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":true,"color":"default"},"plain_text":"ActionsUnion","href":null},{"type":"text","text":{"content":" 型で、 ","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default"},"plain_text":" 型で、 ","href":null},{"type":"text","text":{"content":"action.type","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":true,"color":"default"},"plain_text":"action.type","href":null},{"type":"text","text":{"content":" を ","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default"},"plain_text":" を ","href":null},{"type":"text","text":{"content":"ActionTypes","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":true,"color":"default"},"plain_text":"ActionTypes","href":null},{"type":"text","text":{"content":" のEnum文字列と照らし合わせるswitch文を記述します。","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default"},"plain_text":" のEnum文字列と照らし合わせるswitch文を記述します。","href":null}],"color":"default"}},{"object":"block","id":"fddfa6c5-98f1-4a0a-9b20-e205ecd276de","parent":{"type":"page_id","page_id":"5423020e-64c0-46c3-918a-7c026b580ed2"},"created_time":"2023-05-21T00:19:00.000Z","last_edited_time":"2023-05-21T00:19:00.000Z","created_by":{"object":"user","id":"f4f222d4-d508-405d-ba6c-da82ee26ee54"},"last_edited_by":{"object":"user","id":"f4f222d4-d508-405d-ba6c-da82ee26ee54"},"has_children":false,"archived":false,"in_trash":false,"type":"code","code":{"caption":[],"rich_text":[{"type":"text","text":{"content":"import { ActionsUnion, ActionTypes } from './actions';\nimport { State, initialState } from './state';\n\nexport function reducer(state = initialState, action: ActionsUnion): State {\n  switch (action.type) {\n    case ActionTypes.Increment: {\n      return {\n        ...state,\n        count: state.count + action.payload,\n      };\n    }\n    case ActionTypes.Reset: {\n      return {\n        ...state,\n        count: 0,\n      };\n    }\n    default: {\n      return state;\n    }\n  }\n}","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default"},"plain_text":"import { ActionsUnion, ActionTypes } from './actions';\nimport { State, initialState } from './state';\n\nexport function reducer(state = initialState, action: ActionsUnion): State {\n  switch (action.type) {\n    case ActionTypes.Increment: {\n      return {\n        ...state,\n        count: state.count + action.payload,\n      };\n    }\n    case ActionTypes.Reset: {\n      return {\n        ...state,\n        count: 0,\n      };\n    }\n    default: {\n      return state;\n    }\n  }\n}","href":null}],"language":"typescript"}},{"object":"block","id":"dddb5f81-4c9b-4fb9-a8be-22c429fddd73","parent":{"type":"page_id","page_id":"5423020e-64c0-46c3-918a-7c026b580ed2"},"created_time":"2023-05-21T00:19:00.000Z","last_edited_time":"2023-05-21T00:19:00.000Z","created_by":{"object":"user","id":"f4f222d4-d508-405d-ba6c-da82ee26ee54"},"last_edited_by":{"object":"user","id":"f4f222d4-d508-405d-ba6c-da82ee26ee54"},"has_children":false,"archived":false,"in_trash":false,"type":"paragraph","paragraph":{"rich_text":[{"type":"text","text":{"content":"このReducerに先ほどの アクション定義の変更を反映すると、次のようになります。 変わったのはcase文だけです。 case文で指定するアクションタイプは、Action Creatorがもつ ","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default"},"plain_text":"このReducerに先ほどの アクション定義の変更を反映すると、次のようになります。 変わったのはcase文だけです。 case文で指定するアクションタイプは、Action Creatorがもつ ","href":null},{"type":"text","text":{"content":"type","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":true,"color":"default"},"plain_text":"type","href":null},{"type":"text","text":{"content":" プロパティに変わりました。 このように Action Creatorから直接取得できるため、アクション定義側でEnumに分離する必要がなくなっています。","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default"},"plain_text":" プロパティに変わりました。 このように Action Creatorから直接取得できるため、アクション定義側でEnumに分離する必要がなくなっています。","href":null}],"color":"default"}},{"object":"block","id":"dcf66303-753e-402c-98a0-449b1d54f0cf","parent":{"type":"page_id","page_id":"5423020e-64c0-46c3-918a-7c026b580ed2"},"created_time":"2023-05-21T00:19:00.000Z","last_edited_time":"2023-05-21T00:19:00.000Z","created_by":{"object":"user","id":"f4f222d4-d508-405d-ba6c-da82ee26ee54"},"last_edited_by":{"object":"user","id":"f4f222d4-d508-405d-ba6c-da82ee26ee54"},"has_children":false,"archived":false,"in_trash":false,"type":"code","code":{"caption":[],"rich_text":[{"type":"text","text":{"content":"import { ActionsUnion, increment, reset} from './actions';\nimport { State, initialState } from './state';\n\nexport function reducer(state = initialState, action: ActionsUnion): State {\n  switch (action.type) {\n    case increment.type: {\n      return {\n        ...state,\n        count: state.count + action.payload,\n      };\n    }\n    case reset.type: {\n      return {\n        ...state,\n        count: 0,\n      };\n    }\n    default: {\n      return state;\n    }\n  }\n}","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default"},"plain_text":"import { ActionsUnion, increment, reset} from './actions';\nimport { State, initialState } from './state';\n\nexport function reducer(state = initialState, action: ActionsUnion): State {\n  switch (action.type) {\n    case increment.type: {\n      return {\n        ...state,\n        count: state.count + action.payload,\n      };\n    }\n    case reset.type: {\n      return {\n        ...state,\n        count: 0,\n      };\n    }\n    default: {\n      return state;\n    }\n  }\n}","href":null}],"language":"typescript"}},{"object":"block","id":"0b4b89bd-ea53-4b85-a7f4-c6887e8874e6","parent":{"type":"page_id","page_id":"5423020e-64c0-46c3-918a-7c026b580ed2"},"created_time":"2023-05-21T00:19:00.000Z","last_edited_time":"2023-05-21T00:19:00.000Z","created_by":{"object":"user","id":"f4f222d4-d508-405d-ba6c-da82ee26ee54"},"last_edited_by":{"object":"user","id":"f4f222d4-d508-405d-ba6c-da82ee26ee54"},"has_children":false,"archived":false,"in_trash":false,"type":"heading_2","heading_2":{"rich_text":[{"type":"text","text":{"content":"Effectsの作成","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default"},"plain_text":"Effectsの作成","href":null}],"is_toggleable":false,"color":"default"}},{"object":"block","id":"38d78f2a-9639-4f75-b11f-6ceb3ccf5f3d","parent":{"type":"page_id","page_id":"5423020e-64c0-46c3-918a-7c026b580ed2"},"created_time":"2023-05-21T00:19:00.000Z","last_edited_time":"2023-05-21T00:19:00.000Z","created_by":{"object":"user","id":"f4f222d4-d508-405d-ba6c-da82ee26ee54"},"last_edited_by":{"object":"user","id":"f4f222d4-d508-405d-ba6c-da82ee26ee54"},"has_children":false,"archived":false,"in_trash":false,"type":"paragraph","paragraph":{"rich_text":[{"type":"text","text":{"content":"NgRxのEffectsを使って、カウンターの加算とリセットがおこなわれるたびにログを出力する副作用を定義します。 従来のアクション定義では次のようになります。","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default"},"plain_text":"NgRxのEffectsを使って、カウンターの加算とリセットがおこなわれるたびにログを出力する副作用を定義します。 従来のアクション定義では次のようになります。","href":null}],"color":"default"}},{"object":"block","id":"e37cb62b-8d60-4fc9-be16-66d628c40379","parent":{"type":"page_id","page_id":"5423020e-64c0-46c3-918a-7c026b580ed2"},"created_time":"2023-05-21T00:19:00.000Z","last_edited_time":"2023-05-21T00:19:00.000Z","created_by":{"object":"user","id":"f4f222d4-d508-405d-ba6c-da82ee26ee54"},"last_edited_by":{"object":"user","id":"f4f222d4-d508-405d-ba6c-da82ee26ee54"},"has_children":false,"archived":false,"in_trash":false,"type":"code","code":{"caption":[],"rich_text":[{"type":"text","text":{"content":"import { Injectable } from '@angular/core';\nimport { Effect, Actions, ofType } from '@ngrx/effects';\nimport { tap } from 'rxjs/operators';\n\nimport { ActionsUnion, ActionTypes } from './actions';\n\n@Injectable()\nexport class CounterEffects {\n\n  constructor(private actions$: Actions<ActionsUnion>) { }\n\n  @Effect({ dispatch: false })\n  logger$ = this.actions$.pipe(\n    ofType(ActionTypes.Increment, ActionTypes.Reset),\n    tap(action => {\n      console.log(action);\n    }),\n  )\n}","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default"},"plain_text":"import { Injectable } from '@angular/core';\nimport { Effect, Actions, ofType } from '@ngrx/effects';\nimport { tap } from 'rxjs/operators';\n\nimport { ActionsUnion, ActionTypes } from './actions';\n\n@Injectable()\nexport class CounterEffects {\n\n  constructor(private actions$: Actions<ActionsUnion>) { }\n\n  @Effect({ dispatch: false })\n  logger$ = this.actions$.pipe(\n    ofType(ActionTypes.Increment, ActionTypes.Reset),\n    tap(action => {\n      console.log(action);\n    }),\n  )\n}","href":null}],"language":"typescript"}},{"object":"block","id":"32b0b451-e911-417e-a58f-6f6eef153edc","parent":{"type":"page_id","page_id":"5423020e-64c0-46c3-918a-7c026b580ed2"},"created_time":"2023-05-21T00:19:00.000Z","last_edited_time":"2023-05-21T00:19:00.000Z","created_by":{"object":"user","id":"f4f222d4-d508-405d-ba6c-da82ee26ee54"},"last_edited_by":{"object":"user","id":"f4f222d4-d508-405d-ba6c-da82ee26ee54"},"has_children":false,"archived":false,"in_trash":false,"type":"paragraph","paragraph":{"rich_text":[{"type":"text","text":{"content":"これも Reducerと同じように、アクションタイプの部分だけに影響があります。","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default"},"plain_text":"これも Reducerと同じように、アクションタイプの部分だけに影響があります。","href":null}],"color":"default"}},{"object":"block","id":"5b6a21ef-40e6-438a-a6c7-bf7561963b11","parent":{"type":"page_id","page_id":"5423020e-64c0-46c3-918a-7c026b580ed2"},"created_time":"2023-05-21T00:19:00.000Z","last_edited_time":"2023-05-21T00:19:00.000Z","created_by":{"object":"user","id":"f4f222d4-d508-405d-ba6c-da82ee26ee54"},"last_edited_by":{"object":"user","id":"f4f222d4-d508-405d-ba6c-da82ee26ee54"},"has_children":false,"archived":false,"in_trash":false,"type":"code","code":{"caption":[],"rich_text":[{"type":"text","text":{"content":"import { Injectable } from '@angular/core';\nimport { Effect, Actions, ofType } from '@ngrx/effects';\nimport { tap } from 'rxjs/operators';\n\nimport { ActionsUnion, increment, reset } from './actions';\n\n@Injectable()\nexport class CounterEffects {\n\n  constructor(private actions$: Actions<ActionsUnion>) { }\n\n  @Effect({ dispatch: false })\n  logger$ = this.actions$.pipe(\n    ofType(increment.type, reset.type),\n    tap(action => {\n      console.log(action);\n    }),\n  )\n}","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default"},"plain_text":"import { Injectable } from '@angular/core';\nimport { Effect, Actions, ofType } from '@ngrx/effects';\nimport { tap } from 'rxjs/operators';\n\nimport { ActionsUnion, increment, reset } from './actions';\n\n@Injectable()\nexport class CounterEffects {\n\n  constructor(private actions$: Actions<ActionsUnion>) { }\n\n  @Effect({ dispatch: false })\n  logger$ = this.actions$.pipe(\n    ofType(increment.type, reset.type),\n    tap(action => {\n      console.log(action);\n    }),\n  )\n}","href":null}],"language":"typescript"}},{"object":"block","id":"b5309a76-d621-4c1e-8996-cf95ddb79c99","parent":{"type":"page_id","page_id":"5423020e-64c0-46c3-918a-7c026b580ed2"},"created_time":"2023-05-21T00:19:00.000Z","last_edited_time":"2023-05-21T00:19:00.000Z","created_by":{"object":"user","id":"f4f222d4-d508-405d-ba6c-da82ee26ee54"},"last_edited_by":{"object":"user","id":"f4f222d4-d508-405d-ba6c-da82ee26ee54"},"has_children":false,"archived":false,"in_trash":false,"type":"heading_2","heading_2":{"rich_text":[{"type":"text","text":{"content":"アクションのディスパッチ","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default"},"plain_text":"アクションのディスパッチ","href":null}],"is_toggleable":false,"color":"default"}},{"object":"block","id":"2a4c6aa3-44dc-41fa-9327-69430fcd4d90","parent":{"type":"page_id","page_id":"5423020e-64c0-46c3-918a-7c026b580ed2"},"created_time":"2023-05-21T00:19:00.000Z","last_edited_time":"2023-05-21T00:19:00.000Z","created_by":{"object":"user","id":"f4f222d4-d508-405d-ba6c-da82ee26ee54"},"last_edited_by":{"object":"user","id":"f4f222d4-d508-405d-ba6c-da82ee26ee54"},"has_children":false,"archived":false,"in_trash":false,"type":"paragraph","paragraph":{"rich_text":[{"type":"text","text":{"content":"最後にアクションをディスパッチする部分です。 従来のアクションクラスでは、クラスインスタンスを生成して次のようにディスパッチしていました。","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default"},"plain_text":"最後にアクションをディスパッチする部分です。 従来のアクションクラスでは、クラスインスタンスを生成して次のようにディスパッチしていました。","href":null}],"color":"default"}},{"object":"block","id":"26874ffe-9776-4c21-be42-71d8056afe38","parent":{"type":"page_id","page_id":"5423020e-64c0-46c3-918a-7c026b580ed2"},"created_time":"2023-05-21T00:19:00.000Z","last_edited_time":"2023-05-21T00:19:00.000Z","created_by":{"object":"user","id":"f4f222d4-d508-405d-ba6c-da82ee26ee54"},"last_edited_by":{"object":"user","id":"f4f222d4-d508-405d-ba6c-da82ee26ee54"},"has_children":false,"archived":false,"in_trash":false,"type":"code","code":{"caption":[],"rich_text":[{"type":"text","text":{"content":"import * as CounterActions from './state/counter/actions';\n\n@Component({\n  selector: 'my-app',\n  template: `\n     <div>{{ count$ | async }}</div>\n     <button (click)=\"incrementOne()\">+1</button>\n     <button (click)=\"reset()\">Reset</button>\n  `,\n})\nexport class AppComponent {\n\n  count$ = this.store.pipe(\n    select(state => state.counter.count),\n  );\n\n  constructor(private store: Store<AppState>) { }\n\n  incrementOne() {\n    this.store.dispatch(new CounterActions.Increment(1));\n  }\n\n  reset() {\n    this.store.dispatch(new CounterActions.Reset());\n  }\n}","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default"},"plain_text":"import * as CounterActions from './state/counter/actions';\n\n@Component({\n  selector: 'my-app',\n  template: `\n     <div>{{ count$ | async }}</div>\n     <button (click)=\"incrementOne()\">+1</button>\n     <button (click)=\"reset()\">Reset</button>\n  `,\n})\nexport class AppComponent {\n\n  count$ = this.store.pipe(\n    select(state => state.counter.count),\n  );\n\n  constructor(private store: Store<AppState>) { }\n\n  incrementOne() {\n    this.store.dispatch(new CounterActions.Increment(1));\n  }\n\n  reset() {\n    this.store.dispatch(new CounterActions.Reset());\n  }\n}","href":null}],"language":"typescript"}},{"object":"block","id":"f5d09353-bdbf-4a78-8659-16e89664c7e9","parent":{"type":"page_id","page_id":"5423020e-64c0-46c3-918a-7c026b580ed2"},"created_time":"2023-05-21T00:19:00.000Z","last_edited_time":"2023-05-21T00:19:00.000Z","created_by":{"object":"user","id":"f4f222d4-d508-405d-ba6c-da82ee26ee54"},"last_edited_by":{"object":"user","id":"f4f222d4-d508-405d-ba6c-da82ee26ee54"},"has_children":false,"archived":false,"in_trash":false,"type":"paragraph","paragraph":{"rich_text":[{"type":"text","text":{"content":"これはすでに説明したとおり、Action Creatorの関数を呼び出した戻り値をディスパッチするように変わります。","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default"},"plain_text":"これはすでに説明したとおり、Action Creatorの関数を呼び出した戻り値をディスパッチするように変わります。","href":null}],"color":"default"}},{"object":"block","id":"1f7c31f6-05f3-4f40-aa29-a17956bdf862","parent":{"type":"page_id","page_id":"5423020e-64c0-46c3-918a-7c026b580ed2"},"created_time":"2023-05-21T00:19:00.000Z","last_edited_time":"2023-05-21T00:19:00.000Z","created_by":{"object":"user","id":"f4f222d4-d508-405d-ba6c-da82ee26ee54"},"last_edited_by":{"object":"user","id":"f4f222d4-d508-405d-ba6c-da82ee26ee54"},"has_children":false,"archived":false,"in_trash":false,"type":"code","code":{"caption":[],"rich_text":[{"type":"text","text":{"content":"import * as CounterActions from './state/counter/actions';\n\n@Component({\n  selector: 'my-app',\n  template: `\n     <div>{{ count$ | async }}</div>\n     <button (click)=\"incrementOne()\">+1</button>\n     <button (click)=\"reset()\">Reset</button>\n  `,\n})\nexport class AppComponent {\n\n  count$ = this.store.pipe(\n    select(state => state.counter.count),\n  );\n\n  constructor(private store: Store<AppState>) { }\n\n  incrementOne() {\n    this.store.dispatch(CounterActions.increment(1));\n  }\n\n  reset() {\n    this.store.dispatch(CounterActions.reset());\n  }\n}","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default"},"plain_text":"import * as CounterActions from './state/counter/actions';\n\n@Component({\n  selector: 'my-app',\n  template: `\n     <div>{{ count$ | async }}</div>\n     <button (click)=\"incrementOne()\">+1</button>\n     <button (click)=\"reset()\">Reset</button>\n  `,\n})\nexport class AppComponent {\n\n  count$ = this.store.pipe(\n    select(state => state.counter.count),\n  );\n\n  constructor(private store: Store<AppState>) { }\n\n  incrementOne() {\n    this.store.dispatch(CounterActions.increment(1));\n  }\n\n  reset() {\n    this.store.dispatch(CounterActions.reset());\n  }\n}","href":null}],"language":"typescript"}},{"object":"block","id":"f0598bac-ca25-4b3e-b3e7-020d25efec27","parent":{"type":"page_id","page_id":"5423020e-64c0-46c3-918a-7c026b580ed2"},"created_time":"2023-05-21T00:19:00.000Z","last_edited_time":"2023-05-21T00:19:00.000Z","created_by":{"object":"user","id":"f4f222d4-d508-405d-ba6c-da82ee26ee54"},"last_edited_by":{"object":"user","id":"f4f222d4-d508-405d-ba6c-da82ee26ee54"},"has_children":false,"archived":false,"in_trash":false,"type":"paragraph","paragraph":{"rich_text":[{"type":"text","text":{"content":"これですべての置き換えが終わりました。","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default"},"plain_text":"これですべての置き換えが終わりました。","href":null}],"color":"default"}},{"object":"block","id":"dc3729e5-8c25-4238-a8bb-6d6901702007","parent":{"type":"page_id","page_id":"5423020e-64c0-46c3-918a-7c026b580ed2"},"created_time":"2023-05-21T00:19:00.000Z","last_edited_time":"2023-05-21T00:19:00.000Z","created_by":{"object":"user","id":"f4f222d4-d508-405d-ba6c-da82ee26ee54"},"last_edited_by":{"object":"user","id":"f4f222d4-d508-405d-ba6c-da82ee26ee54"},"has_children":false,"archived":false,"in_trash":false,"type":"heading_2","heading_2":{"rich_text":[{"type":"text","text":{"content":"Action Creatorのメリット","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default"},"plain_text":"Action Creatorのメリット","href":null}],"is_toggleable":false,"color":"default"}},{"object":"block","id":"73fae014-35b8-4fa3-953b-9c5bc544c482","parent":{"type":"page_id","page_id":"5423020e-64c0-46c3-918a-7c026b580ed2"},"created_time":"2023-05-21T00:19:00.000Z","last_edited_time":"2023-05-21T00:19:00.000Z","created_by":{"object":"user","id":"f4f222d4-d508-405d-ba6c-da82ee26ee54"},"last_edited_by":{"object":"user","id":"f4f222d4-d508-405d-ba6c-da82ee26ee54"},"has_children":false,"archived":false,"in_trash":false,"type":"paragraph","paragraph":{"rich_text":[{"type":"text","text":{"content":"クラスで定義されるアクションは、インスタンスを作るまで ","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default"},"plain_text":"クラスで定義されるアクションは、インスタンスを作るまで ","href":null},{"type":"text","text":{"content":"type","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":true,"color":"default"},"plain_text":"type","href":null},{"type":"text","text":{"content":" にアクセスできない不便さや、形式的に書かなければならないコードの量が多かったのが課題でした。","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default"},"plain_text":" にアクセスできない不便さや、形式的に書かなければならないコードの量が多かったのが課題でした。","href":null}],"color":"default"}},{"object":"block","id":"829d0f57-c2be-4bc0-97f8-c45c1000ebf1","parent":{"type":"page_id","page_id":"5423020e-64c0-46c3-918a-7c026b580ed2"},"created_time":"2023-05-21T00:19:00.000Z","last_edited_time":"2023-05-21T00:19:00.000Z","created_by":{"object":"user","id":"f4f222d4-d508-405d-ba6c-da82ee26ee54"},"last_edited_by":{"object":"user","id":"f4f222d4-d508-405d-ba6c-da82ee26ee54"},"has_children":false,"archived":false,"in_trash":false,"type":"paragraph","paragraph":{"rich_text":[{"type":"text","text":{"content":"Action Creatorでは関数で記述できるので、無駄なコードが大きく減ります。 そして機能やテスタビリティは以前と変わらず、特にデメリットはありません。","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default"},"plain_text":"Action Creatorでは関数で記述できるので、無駄なコードが大きく減ります。 そして機能やテスタビリティは以前と変わらず、特にデメリットはありません。","href":null}],"color":"default"}},{"object":"block","id":"f4804342-7e7f-49f4-bce7-067eccb2baec","parent":{"type":"page_id","page_id":"5423020e-64c0-46c3-918a-7c026b580ed2"},"created_time":"2023-05-21T00:19:00.000Z","last_edited_time":"2023-05-21T00:19:00.000Z","created_by":{"object":"user","id":"f4f222d4-d508-405d-ba6c-da82ee26ee54"},"last_edited_by":{"object":"user","id":"f4f222d4-d508-405d-ba6c-da82ee26ee54"},"has_children":false,"archived":false,"in_trash":false,"type":"paragraph","paragraph":{"rich_text":[{"type":"text","text":{"content":"プロジェクトのNgRxをv7.4にアップデートしたら、基本的にはAction Creatorへの置き換えを進めるべきです。","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default"},"plain_text":"プロジェクトのNgRxをv7.4にアップデートしたら、基本的にはAction Creatorへの置き換えを進めるべきです。","href":null}],"color":"default"}},{"object":"block","id":"bcf551f4-a3ca-4678-bd8c-b3e12cd0284a","parent":{"type":"page_id","page_id":"5423020e-64c0-46c3-918a-7c026b580ed2"},"created_time":"2023-05-21T00:19:00.000Z","last_edited_time":"2023-05-21T00:19:00.000Z","created_by":{"object":"user","id":"f4f222d4-d508-405d-ba6c-da82ee26ee54"},"last_edited_by":{"object":"user","id":"f4f222d4-d508-405d-ba6c-da82ee26ee54"},"has_children":false,"archived":false,"in_trash":false,"type":"heading_2","heading_2":{"rich_text":[{"type":"text","text":{"content":"まとめ","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default"},"plain_text":"まとめ","href":null}],"is_toggleable":false,"color":"default"}},{"object":"block","id":"cdfbbb40-628b-4287-8734-5b8095bdd494","parent":{"type":"page_id","page_id":"5423020e-64c0-46c3-918a-7c026b580ed2"},"created_time":"2023-05-21T00:19:00.000Z","last_edited_time":"2023-05-21T00:19:00.000Z","created_by":{"object":"user","id":"f4f222d4-d508-405d-ba6c-da82ee26ee54"},"last_edited_by":{"object":"user","id":"f4f222d4-d508-405d-ba6c-da82ee26ee54"},"has_children":false,"archived":false,"in_trash":false,"type":"bulleted_list_item","bulleted_list_item":{"rich_text":[{"type":"text","text":{"content":"アクションをクラスではなく関数で定義する Action Creator を作る ","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default"},"plain_text":"アクションをクラスではなく関数で定義する Action Creator を作る ","href":null},{"type":"text","text":{"content":"createAction","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":true,"color":"default"},"plain_text":"createAction","href":null},{"type":"text","text":{"content":" 関数が導入された","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default"},"plain_text":" 関数が導入された","href":null}],"color":"default"}},{"object":"block","id":"5b7a2b68-1f30-4f15-88fc-e769fc44956a","parent":{"type":"page_id","page_id":"5423020e-64c0-46c3-918a-7c026b580ed2"},"created_time":"2023-05-21T00:19:00.000Z","last_edited_time":"2023-05-21T00:19:00.000Z","created_by":{"object":"user","id":"f4f222d4-d508-405d-ba6c-da82ee26ee54"},"last_edited_by":{"object":"user","id":"f4f222d4-d508-405d-ba6c-da82ee26ee54"},"has_children":false,"archived":false,"in_trash":false,"type":"bulleted_list_item","bulleted_list_item":{"rich_text":[{"type":"text","text":{"content":"ActionTypeのEnumはもう必要ない","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default"},"plain_text":"ActionTypeのEnumはもう必要ない","href":null}],"color":"default"}},{"object":"block","id":"71beab41-792c-47b9-8d65-343c59886723","parent":{"type":"page_id","page_id":"5423020e-64c0-46c3-918a-7c026b580ed2"},"created_time":"2023-05-21T00:19:00.000Z","last_edited_time":"2023-05-21T00:19:00.000Z","created_by":{"object":"user","id":"f4f222d4-d508-405d-ba6c-da82ee26ee54"},"last_edited_by":{"object":"user","id":"f4f222d4-d508-405d-ba6c-da82ee26ee54"},"has_children":false,"archived":false,"in_trash":false,"type":"bulleted_list_item","bulleted_list_item":{"rich_text":[{"type":"text","text":{"content":"ReducerやEffects、ディスパッチ側への影響はとても軽微","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default"},"plain_text":"ReducerやEffects、ディスパッチ側への影響はとても軽微","href":null}],"color":"default"}},{"object":"block","id":"0c9c7127-6de7-4fc4-a16d-42b375ec88f1","parent":{"type":"page_id","page_id":"5423020e-64c0-46c3-918a-7c026b580ed2"},"created_time":"2023-05-21T00:19:00.000Z","last_edited_time":"2023-05-21T00:19:00.000Z","created_by":{"object":"user","id":"f4f222d4-d508-405d-ba6c-da82ee26ee54"},"last_edited_by":{"object":"user","id":"f4f222d4-d508-405d-ba6c-da82ee26ee54"},"has_children":false,"archived":false,"in_trash":false,"type":"paragraph","paragraph":{"rich_text":[{"type":"text","text":{"content":"この記事で扱ったカウンターアプリケーションが実際に動作する様子を確認してみてください。","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default"},"plain_text":"この記事で扱ったカウンターアプリケーションが実際に動作する様子を確認してみてください。","href":null}],"color":"default"}},{"object":"block","id":"0fffae41-4aa9-4651-9e27-d234ea514478","parent":{"type":"page_id","page_id":"5423020e-64c0-46c3-918a-7c026b580ed2"},"created_time":"2023-05-21T00:19:00.000Z","last_edited_time":"2023-05-21T05:40:00.000Z","created_by":{"object":"user","id":"f4f222d4-d508-405d-ba6c-da82ee26ee54"},"last_edited_by":{"object":"user","id":"f4f222d4-d508-405d-ba6c-da82ee26ee54"},"has_children":false,"archived":false,"in_trash":false,"type":"paragraph","paragraph":{"rich_text":[{"type":"text","text":{"content":"https://stackblitz.com/edit/angular-pj4f4p?file=src%2Fapp%2Fapp.component.ts","link":{"url":"https://stackblitz.com/edit/angular-pj4f4p?file=src%2Fapp%2Fapp.component.ts"}},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default"},"plain_text":"https://stackblitz.com/edit/angular-pj4f4p?file=src%2Fapp%2Fapp.component.ts","href":"https://stackblitz.com/edit/angular-pj4f4p?file=src%2Fapp%2Fapp.component.ts"},{"type":"text","text":{"content":" ","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default"},"plain_text":" ","href":null}],"color":"default"}}]