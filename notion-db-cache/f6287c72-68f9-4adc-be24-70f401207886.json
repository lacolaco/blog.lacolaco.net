[{"object":"block","id":"ccea9585-d68a-46af-b4c4-0cc148433cab","parent":{"type":"page_id","page_id":"f6287c72-68f9-4adc-be24-70f401207886"},"created_time":"2023-05-21T00:20:00.000Z","last_edited_time":"2023-05-21T00:20:00.000Z","created_by":{"object":"user","id":"f4f222d4-d508-405d-ba6c-da82ee26ee54"},"last_edited_by":{"object":"user","id":"f4f222d4-d508-405d-ba6c-da82ee26ee54"},"has_children":false,"archived":false,"in_trash":false,"type":"paragraph","paragraph":{"rich_text":[{"type":"text","text":{"content":"これまで Firebase Hosting を使ったプロジェクトで production/staging の環境を分けたいときには Firebase プロジェクトごと分離していた。プロジェクトごとクローンしてしまえばいいので考えることはシンプルではあるけども、管理する Firebase プロジェクトが増えるのはうれしくないし、課金設定の把握も数が増えると一苦労になる。","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default"},"plain_text":"これまで Firebase Hosting を使ったプロジェクトで production/staging の環境を分けたいときには Firebase プロジェクトごと分離していた。プロジェクトごとクローンしてしまえばいいので考えることはシンプルではあるけども、管理する Firebase プロジェクトが増えるのはうれしくないし、課金設定の把握も数が増えると一苦労になる。","href":null}],"color":"default"}},{"object":"block","id":"f861f7c1-c8fe-4d91-adda-e1992148735e","parent":{"type":"page_id","page_id":"f6287c72-68f9-4adc-be24-70f401207886"},"created_time":"2023-05-21T00:20:00.000Z","last_edited_time":"2023-05-21T00:20:00.000Z","created_by":{"object":"user","id":"f4f222d4-d508-405d-ba6c-da82ee26ee54"},"last_edited_by":{"object":"user","id":"f4f222d4-d508-405d-ba6c-da82ee26ee54"},"has_children":false,"archived":false,"in_trash":false,"type":"paragraph","paragraph":{"rich_text":[{"type":"text","text":{"content":"Firestore のインスタンスを分けなくていいという条件付きなら Firebase プロジェクトで分けなくても Firebase Hosting の Multiple Sites 機能を使えばいいんじゃないかと思い至り、やってみたら案外簡単だったのでメモ。","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default"},"plain_text":"Firestore のインスタンスを分けなくていいという条件付きなら Firebase プロジェクトで分けなくても Firebase Hosting の Multiple Sites 機能を使えばいいんじゃないかと思い至り、やってみたら案外簡単だったのでメモ。","href":null}],"color":"default"}},{"object":"block","id":"99611dac-2372-4173-b6b9-d3c61ea7372c","parent":{"type":"page_id","page_id":"f6287c72-68f9-4adc-be24-70f401207886"},"created_time":"2023-05-21T00:20:00.000Z","last_edited_time":"2023-05-21T00:20:00.000Z","created_by":{"object":"user","id":"f4f222d4-d508-405d-ba6c-da82ee26ee54"},"last_edited_by":{"object":"user","id":"f4f222d4-d508-405d-ba6c-da82ee26ee54"},"has_children":false,"archived":false,"in_trash":false,"type":"heading_2","heading_2":{"rich_text":[{"type":"text","text":{"content":"動いているもの","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default"},"plain_text":"動いているもの","href":null}],"is_toggleable":false,"color":"default"}},{"object":"block","id":"68e69db0-2255-4a86-acf1-00f55ee50186","parent":{"type":"page_id","page_id":"f6287c72-68f9-4adc-be24-70f401207886"},"created_time":"2023-05-21T00:20:00.000Z","last_edited_time":"2023-05-21T00:20:00.000Z","created_by":{"object":"user","id":"f4f222d4-d508-405d-ba6c-da82ee26ee54"},"last_edited_by":{"object":"user","id":"f4f222d4-d508-405d-ba6c-da82ee26ee54"},"has_children":false,"archived":false,"in_trash":false,"type":"paragraph","paragraph":{"rich_text":[{"type":"text","text":{"content":"趣味で作っている Web アプリ","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default"},"plain_text":"趣味で作っている Web アプリ","href":null}],"color":"default"}},{"object":"block","id":"330c4552-8fb3-4b6f-9dd7-02f10e512bcd","parent":{"type":"page_id","page_id":"f6287c72-68f9-4adc-be24-70f401207886"},"created_time":"2023-05-21T00:20:00.000Z","last_edited_time":"2023-05-21T00:20:00.000Z","created_by":{"object":"user","id":"f4f222d4-d508-405d-ba6c-da82ee26ee54"},"last_edited_by":{"object":"user","id":"f4f222d4-d508-405d-ba6c-da82ee26ee54"},"has_children":false,"archived":false,"in_trash":false,"type":"paragraph","paragraph":{"rich_text":[{"type":"text","text":{"content":"pokepartymatch | ポケモン構築支援ツール","link":{"url":"https://pokepartymatch.web.app/"}},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default"},"plain_text":"pokepartymatch | ポケモン構築支援ツール","href":"https://pokepartymatch.web.app/"}],"color":"default"}},{"object":"block","id":"10b531e2-4ccf-4154-8087-66a79452eb35","parent":{"type":"page_id","page_id":"f6287c72-68f9-4adc-be24-70f401207886"},"created_time":"2023-05-21T00:20:00.000Z","last_edited_time":"2023-05-21T00:20:00.000Z","created_by":{"object":"user","id":"f4f222d4-d508-405d-ba6c-da82ee26ee54"},"last_edited_by":{"object":"user","id":"f4f222d4-d508-405d-ba6c-da82ee26ee54"},"has_children":false,"archived":false,"in_trash":false,"type":"paragraph","paragraph":{"rich_text":[{"type":"text","text":{"content":"これの staging 環境を作った。","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default"},"plain_text":"これの staging 環境を作った。","href":null}],"color":"default"}},{"object":"block","id":"57e520a1-6384-44eb-9f69-10f6efbb165b","parent":{"type":"page_id","page_id":"f6287c72-68f9-4adc-be24-70f401207886"},"created_time":"2023-05-21T00:20:00.000Z","last_edited_time":"2023-05-21T00:20:00.000Z","created_by":{"object":"user","id":"f4f222d4-d508-405d-ba6c-da82ee26ee54"},"last_edited_by":{"object":"user","id":"f4f222d4-d508-405d-ba6c-da82ee26ee54"},"has_children":false,"archived":false,"in_trash":false,"type":"paragraph","paragraph":{"rich_text":[{"type":"text","text":{"content":"https://pokepartymatch-dev.web.app/","link":{"url":"https://pokepartymatch-dev.web.app/"}},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default"},"plain_text":"https://pokepartymatch-dev.web.app/","href":"https://pokepartymatch-dev.web.app/"}],"color":"default"}},{"object":"block","id":"97f74358-3ec4-4f0f-9bbb-c0618fc32726","parent":{"type":"page_id","page_id":"f6287c72-68f9-4adc-be24-70f401207886"},"created_time":"2023-05-21T00:20:00.000Z","last_edited_time":"2023-05-21T00:20:00.000Z","created_by":{"object":"user","id":"f4f222d4-d508-405d-ba6c-da82ee26ee54"},"last_edited_by":{"object":"user","id":"f4f222d4-d508-405d-ba6c-da82ee26ee54"},"has_children":false,"archived":false,"in_trash":false,"type":"paragraph","paragraph":{"rich_text":[{"type":"text","text":{"content":"リポジトリはこちら","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default"},"plain_text":"リポジトリはこちら","href":null}],"color":"default"}},{"object":"block","id":"8abc001e-6cb9-42cf-9e11-6a9441bdf2e5","parent":{"type":"page_id","page_id":"f6287c72-68f9-4adc-be24-70f401207886"},"created_time":"2023-05-21T00:20:00.000Z","last_edited_time":"2023-05-21T04:39:00.000Z","created_by":{"object":"user","id":"f4f222d4-d508-405d-ba6c-da82ee26ee54"},"last_edited_by":{"object":"user","id":"f4f222d4-d508-405d-ba6c-da82ee26ee54"},"has_children":false,"archived":false,"in_trash":false,"type":"paragraph","paragraph":{"rich_text":[{"type":"text","text":{"content":"https://github.com/lacolaco/pokepartymatch","link":{"url":"https://github.com/lacolaco/pokepartymatch"}},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default"},"plain_text":"https://github.com/lacolaco/pokepartymatch","href":"https://github.com/lacolaco/pokepartymatch"},{"type":"text","text":{"content":" ","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default"},"plain_text":" ","href":null}],"color":"default"}},{"object":"block","id":"182fd3de-87b5-4ac7-94f9-cf05529b8d3f","parent":{"type":"page_id","page_id":"f6287c72-68f9-4adc-be24-70f401207886"},"created_time":"2023-05-21T00:20:00.000Z","last_edited_time":"2023-05-21T00:20:00.000Z","created_by":{"object":"user","id":"f4f222d4-d508-405d-ba6c-da82ee26ee54"},"last_edited_by":{"object":"user","id":"f4f222d4-d508-405d-ba6c-da82ee26ee54"},"has_children":false,"archived":false,"in_trash":false,"type":"paragraph","paragraph":{"rich_text":[{"type":"text","text":{"content":"GitHub Actions を使い、master ブランチへの push で staging 環境で自動デプロイし、 バージョンタグを打った commit を push したときに production 環境へ自動デプロイするようにした。","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default"},"plain_text":"GitHub Actions を使い、master ブランチへの push で staging 環境で自動デプロイし、 バージョンタグを打った commit を push したときに production 環境へ自動デプロイするようにした。","href":null}],"color":"default"}},{"object":"block","id":"07011b01-216f-4d40-bf8a-90e925bb4638","parent":{"type":"page_id","page_id":"f6287c72-68f9-4adc-be24-70f401207886"},"created_time":"2023-05-21T00:20:00.000Z","last_edited_time":"2023-05-21T00:20:00.000Z","created_by":{"object":"user","id":"f4f222d4-d508-405d-ba6c-da82ee26ee54"},"last_edited_by":{"object":"user","id":"f4f222d4-d508-405d-ba6c-da82ee26ee54"},"has_children":false,"archived":false,"in_trash":false,"type":"bulleted_list_item","bulleted_list_item":{"rich_text":[{"type":"text","text":{"content":"https://github.com/lacolaco/pokepartymatch/blob/master/.github/workflows/deployment-staging.yml","link":{"url":"https://github.com/lacolaco/pokepartymatch/blob/master/.github/workflows/deployment-staging.yml"}},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default"},"plain_text":"https://github.com/lacolaco/pokepartymatch/blob/master/.github/workflows/deployment-staging.yml","href":"https://github.com/lacolaco/pokepartymatch/blob/master/.github/workflows/deployment-staging.yml"}],"color":"default"}},{"object":"block","id":"395b32c9-6cd5-4f01-9e88-14f0f6d642fe","parent":{"type":"page_id","page_id":"f6287c72-68f9-4adc-be24-70f401207886"},"created_time":"2023-05-21T00:20:00.000Z","last_edited_time":"2023-05-21T00:20:00.000Z","created_by":{"object":"user","id":"f4f222d4-d508-405d-ba6c-da82ee26ee54"},"last_edited_by":{"object":"user","id":"f4f222d4-d508-405d-ba6c-da82ee26ee54"},"has_children":false,"archived":false,"in_trash":false,"type":"bulleted_list_item","bulleted_list_item":{"rich_text":[{"type":"text","text":{"content":"https://github.com/lacolaco/pokepartymatch/blob/master/.github/workflows/deployment-production.yml","link":{"url":"https://github.com/lacolaco/pokepartymatch/blob/master/.github/workflows/deployment-production.yml"}},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default"},"plain_text":"https://github.com/lacolaco/pokepartymatch/blob/master/.github/workflows/deployment-production.yml","href":"https://github.com/lacolaco/pokepartymatch/blob/master/.github/workflows/deployment-production.yml"}],"color":"default"}},{"object":"block","id":"23694618-ef97-4f40-98ca-a1eaf7605463","parent":{"type":"page_id","page_id":"f6287c72-68f9-4adc-be24-70f401207886"},"created_time":"2023-05-21T00:20:00.000Z","last_edited_time":"2023-05-21T00:20:00.000Z","created_by":{"object":"user","id":"f4f222d4-d508-405d-ba6c-da82ee26ee54"},"last_edited_by":{"object":"user","id":"f4f222d4-d508-405d-ba6c-da82ee26ee54"},"has_children":false,"archived":false,"in_trash":false,"type":"heading_2","heading_2":{"rich_text":[{"type":"text","text":{"content":"手順","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default"},"plain_text":"手順","href":null}],"is_toggleable":false,"color":"default"}},{"object":"block","id":"1b5bde7c-6df7-45b7-a954-bea39147fd99","parent":{"type":"page_id","page_id":"f6287c72-68f9-4adc-be24-70f401207886"},"created_time":"2023-05-21T00:20:00.000Z","last_edited_time":"2023-05-21T00:20:00.000Z","created_by":{"object":"user","id":"f4f222d4-d508-405d-ba6c-da82ee26ee54"},"last_edited_by":{"object":"user","id":"f4f222d4-d508-405d-ba6c-da82ee26ee54"},"has_children":false,"archived":false,"in_trash":false,"type":"paragraph","paragraph":{"rich_text":[{"type":"text","text":{"content":"前提として、まず単一の Firebase Hosting でデプロイできる状態になっていることとする。","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default"},"plain_text":"前提として、まず単一の Firebase Hosting でデプロイできる状態になっていることとする。","href":null}],"color":"default"}},{"object":"block","id":"b717425c-5573-4582-83f5-754a6f3cbe2e","parent":{"type":"page_id","page_id":"f6287c72-68f9-4adc-be24-70f401207886"},"created_time":"2023-05-21T00:20:00.000Z","last_edited_time":"2023-05-21T00:20:00.000Z","created_by":{"object":"user","id":"f4f222d4-d508-405d-ba6c-da82ee26ee54"},"last_edited_by":{"object":"user","id":"f4f222d4-d508-405d-ba6c-da82ee26ee54"},"has_children":false,"archived":false,"in_trash":false,"type":"heading_3","heading_3":{"rich_text":[{"type":"text","text":{"content":"1. Firebase コンソールで staging 用の Site を追加する。","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default"},"plain_text":"1. Firebase コンソールで staging 用の Site を追加する。","href":null}],"is_toggleable":false,"color":"default"}},{"object":"block","id":"6294c7c9-9037-4f92-bb6e-e8a8472865c2","parent":{"type":"page_id","page_id":"f6287c72-68f9-4adc-be24-70f401207886"},"created_time":"2023-05-21T00:20:00.000Z","last_edited_time":"2023-05-21T00:20:00.000Z","created_by":{"object":"user","id":"f4f222d4-d508-405d-ba6c-da82ee26ee54"},"last_edited_by":{"object":"user","id":"f4f222d4-d508-405d-ba6c-da82ee26ee54"},"has_children":false,"archived":false,"in_trash":false,"type":"paragraph","paragraph":{"rich_text":[{"type":"text","text":{"content":"Web コンソール上でポチっと押せばすぐできる。リンクの場所ははじめて Site 追加するときば場所が違うと思うが、探せば見つかる。","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default"},"plain_text":"Web コンソール上でポチっと押せばすぐできる。リンクの場所ははじめて Site 追加するときば場所が違うと思うが、探せば見つかる。","href":null}],"color":"default"}},{"object":"block","id":"cd25a52d-6cf4-4d71-92fc-3306e41d1b0f","parent":{"type":"page_id","page_id":"f6287c72-68f9-4adc-be24-70f401207886"},"created_time":"2023-05-21T00:20:00.000Z","last_edited_time":"2023-05-21T04:39:00.000Z","created_by":{"object":"user","id":"f4f222d4-d508-405d-ba6c-da82ee26ee54"},"last_edited_by":{"object":"user","id":"f4f222d4-d508-405d-ba6c-da82ee26ee54"},"has_children":false,"archived":false,"in_trash":false,"type":"paragraph","paragraph":{"rich_text":[{"type":"text","text":{"content":"サブドメインの入力を求められるがこれがそのまま Site の ID？のような識別子になる。今回はたまたま ","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default"},"plain_text":"サブドメインの入力を求められるがこれがそのまま Site の ID？のような識別子になる。今回はたまたま ","href":null},{"type":"text","text":{"content":"-dev","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":true,"color":"default"},"plain_text":"-dev","href":null},{"type":"text","text":{"content":" が空いていたので使ったが何でも良い。","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default"},"plain_text":" が空いていたので使ったが何でも良い。","href":null}],"color":"default"}},{"object":"block","id":"126d381f-160f-4fbb-ab5b-686b08c0598a","parent":{"type":"page_id","page_id":"f6287c72-68f9-4adc-be24-70f401207886"},"created_time":"2023-05-21T00:20:00.000Z","last_edited_time":"2023-05-21T04:39:00.000Z","created_by":{"object":"user","id":"f4f222d4-d508-405d-ba6c-da82ee26ee54"},"last_edited_by":{"object":"user","id":"f4f222d4-d508-405d-ba6c-da82ee26ee54"},"has_children":false,"archived":false,"in_trash":false,"type":"image","image":{"caption":[],"type":"file","file":{"url":"https://prod-files-secure.s3.us-west-2.amazonaws.com/3c6255ea-b6c7-4055-8126-638d2819f0c3/4908aaaf-fc91-44a9-a495-a424997d807e/Untitled.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=AKIAT73L2G45HZZMZUHI%2F20240710%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20240710T102524Z&X-Amz-Expires=3600&X-Amz-Signature=dc2287f79abd959b80632e3438ba38d589a9fbce6565c2555fd8df22782fb3f7&X-Amz-SignedHeaders=host&x-id=GetObject","expiry_time":"2024-07-10T11:25:24.596Z"}}},{"object":"block","id":"441fbc62-99a6-4039-b53d-507f18efa921","parent":{"type":"page_id","page_id":"f6287c72-68f9-4adc-be24-70f401207886"},"created_time":"2023-05-21T00:20:00.000Z","last_edited_time":"2023-05-21T00:20:00.000Z","created_by":{"object":"user","id":"f4f222d4-d508-405d-ba6c-da82ee26ee54"},"last_edited_by":{"object":"user","id":"f4f222d4-d508-405d-ba6c-da82ee26ee54"},"has_children":false,"archived":false,"in_trash":false,"type":"heading_3","heading_3":{"rich_text":[{"type":"text","text":{"content":"2. プロジェクトの ","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default"},"plain_text":"2. プロジェクトの ","href":null},{"type":"text","text":{"content":".firebaserc","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":true,"color":"default"},"plain_text":".firebaserc","href":null},{"type":"text","text":{"content":" にターゲットを追加する","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default"},"plain_text":" にターゲットを追加する","href":null}],"is_toggleable":false,"color":"default"}},{"object":"block","id":"daa2f598-bc29-4822-9807-d840325aeb49","parent":{"type":"page_id","page_id":"f6287c72-68f9-4adc-be24-70f401207886"},"created_time":"2023-05-21T00:20:00.000Z","last_edited_time":"2023-05-21T00:20:00.000Z","created_by":{"object":"user","id":"f4f222d4-d508-405d-ba6c-da82ee26ee54"},"last_edited_by":{"object":"user","id":"f4f222d4-d508-405d-ba6c-da82ee26ee54"},"has_children":false,"archived":false,"in_trash":false,"type":"paragraph","paragraph":{"rich_text":[{"type":"text","text":{"content":"Firebase プロジェクト上に作った Site を、Firebase CLI が備える ","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default"},"plain_text":"Firebase プロジェクト上に作った Site を、Firebase CLI が備える ","href":null},{"type":"text","text":{"content":"Deploy Targets","link":null},"annotations":{"bold":true,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default"},"plain_text":"Deploy Targets","href":null},{"type":"text","text":{"content":" という設定と紐付ける。","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default"},"plain_text":" という設定と紐付ける。","href":null}],"color":"default"}},{"object":"block","id":"4919b5c6-0bd5-4910-9151-e724b41e6db4","parent":{"type":"page_id","page_id":"f6287c72-68f9-4adc-be24-70f401207886"},"created_time":"2023-05-21T00:20:00.000Z","last_edited_time":"2023-05-21T00:20:00.000Z","created_by":{"object":"user","id":"f4f222d4-d508-405d-ba6c-da82ee26ee54"},"last_edited_by":{"object":"user","id":"f4f222d4-d508-405d-ba6c-da82ee26ee54"},"has_children":false,"archived":false,"in_trash":false,"type":"paragraph","paragraph":{"rich_text":[{"type":"text","text":{"content":"Deploy targets | Firebase","link":{"url":"https://firebase.google.com/docs/cli/targets?hl=en"}},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default"},"plain_text":"Deploy targets | Firebase","href":"https://firebase.google.com/docs/cli/targets?hl=en"}],"color":"default"}},{"object":"block","id":"6a6f50ca-fe54-4362-9891-d09cc00df9a3","parent":{"type":"page_id","page_id":"f6287c72-68f9-4adc-be24-70f401207886"},"created_time":"2023-05-21T00:20:00.000Z","last_edited_time":"2023-05-21T00:20:00.000Z","created_by":{"object":"user","id":"f4f222d4-d508-405d-ba6c-da82ee26ee54"},"last_edited_by":{"object":"user","id":"f4f222d4-d508-405d-ba6c-da82ee26ee54"},"has_children":false,"archived":false,"in_trash":false,"type":"paragraph","paragraph":{"rich_text":[{"type":"text","text":{"content":"直接編集してもよいが、CLI でやれば実際にその ID の Site が存在するかをサーバーに問い合わせてくれるので Typo に気づけて安心。 ","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default"},"plain_text":"直接編集してもよいが、CLI でやれば実際にその ID の Site が存在するかをサーバーに問い合わせてくれるので Typo に気づけて安心。 ","href":null},{"type":"text","text":{"content":"TARGET_NAME","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":true,"color":"default"},"plain_text":"TARGET_NAME","href":null},{"type":"text","text":{"content":" は任意の名前で、 ","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default"},"plain_text":" は任意の名前で、 ","href":null},{"type":"text","text":{"content":"RESOURCE_NAME","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":true,"color":"default"},"plain_text":"RESOURCE_NAME","href":null},{"type":"text","text":{"content":" はさきほど作成した Site のサブドメイン部分。","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default"},"plain_text":" はさきほど作成した Site のサブドメイン部分。","href":null}],"color":"default"}},{"object":"block","id":"277878cb-8c4f-4371-ac67-5dd19fd95adb","parent":{"type":"page_id","page_id":"f6287c72-68f9-4adc-be24-70f401207886"},"created_time":"2023-05-21T00:20:00.000Z","last_edited_time":"2023-05-21T00:20:00.000Z","created_by":{"object":"user","id":"f4f222d4-d508-405d-ba6c-da82ee26ee54"},"last_edited_by":{"object":"user","id":"f4f222d4-d508-405d-ba6c-da82ee26ee54"},"has_children":false,"archived":false,"in_trash":false,"type":"code","code":{"caption":[],"rich_text":[{"type":"text","text":{"content":"> firebase target:apply hosting staging pokepartymatch-dev","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default"},"plain_text":"> firebase target:apply hosting staging pokepartymatch-dev","href":null}],"language":"shell"}},{"object":"block","id":"c9270cfe-89f0-406e-ae98-3b4d9f161d28","parent":{"type":"page_id","page_id":"f6287c72-68f9-4adc-be24-70f401207886"},"created_time":"2023-05-21T00:20:00.000Z","last_edited_time":"2023-05-21T00:20:00.000Z","created_by":{"object":"user","id":"f4f222d4-d508-405d-ba6c-da82ee26ee54"},"last_edited_by":{"object":"user","id":"f4f222d4-d508-405d-ba6c-da82ee26ee54"},"has_children":false,"archived":false,"in_trash":false,"type":"paragraph","paragraph":{"rich_text":[{"type":"text","text":{"content":"完成形はこちら。production の設定も追加している。","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default"},"plain_text":"完成形はこちら。production の設定も追加している。","href":null}],"color":"default"}},{"object":"block","id":"ea4d0bec-a996-42f5-ac9c-5fc2b3269fc7","parent":{"type":"page_id","page_id":"f6287c72-68f9-4adc-be24-70f401207886"},"created_time":"2023-05-21T00:20:00.000Z","last_edited_time":"2023-05-21T00:20:00.000Z","created_by":{"object":"user","id":"f4f222d4-d508-405d-ba6c-da82ee26ee54"},"last_edited_by":{"object":"user","id":"f4f222d4-d508-405d-ba6c-da82ee26ee54"},"has_children":false,"archived":false,"in_trash":false,"type":"paragraph","paragraph":{"rich_text":[{"type":"text","text":{"content":"https://github.com/lacolaco/pokepartymatch/blob/master/.firebaserc","link":{"url":"https://github.com/lacolaco/pokepartymatch/blob/master/.firebaserc"}},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default"},"plain_text":"https://github.com/lacolaco/pokepartymatch/blob/master/.firebaserc","href":"https://github.com/lacolaco/pokepartymatch/blob/master/.firebaserc"}],"color":"default"}},{"object":"block","id":"8c93567e-5027-418a-91dc-9b7b5205d402","parent":{"type":"page_id","page_id":"f6287c72-68f9-4adc-be24-70f401207886"},"created_time":"2023-05-21T00:20:00.000Z","last_edited_time":"2023-05-21T00:20:00.000Z","created_by":{"object":"user","id":"f4f222d4-d508-405d-ba6c-da82ee26ee54"},"last_edited_by":{"object":"user","id":"f4f222d4-d508-405d-ba6c-da82ee26ee54"},"has_children":false,"archived":false,"in_trash":false,"type":"heading_3","heading_3":{"rich_text":[{"type":"text","text":{"content":"3. ","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default"},"plain_text":"3. ","href":null},{"type":"text","text":{"content":"firebase.json","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":true,"color":"default"},"plain_text":"firebase.json","href":null},{"type":"text","text":{"content":" で Hosting の Site と Deploy Targets を紐付ける","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default"},"plain_text":" で Hosting の Site と Deploy Targets を紐付ける","href":null}],"is_toggleable":false,"color":"default"}},{"object":"block","id":"1878f6ab-45b6-4163-98c2-554131139443","parent":{"type":"page_id","page_id":"f6287c72-68f9-4adc-be24-70f401207886"},"created_time":"2023-05-21T00:20:00.000Z","last_edited_time":"2023-05-21T00:20:00.000Z","created_by":{"object":"user","id":"f4f222d4-d508-405d-ba6c-da82ee26ee54"},"last_edited_by":{"object":"user","id":"f4f222d4-d508-405d-ba6c-da82ee26ee54"},"has_children":false,"archived":false,"in_trash":false,"type":"paragraph","paragraph":{"rich_text":[{"type":"text","text":{"content":"firebase.json","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":true,"color":"default"},"plain_text":"firebase.json","href":null},{"type":"text","text":{"content":" ファイルの ","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default"},"plain_text":" ファイルの ","href":null},{"type":"text","text":{"content":"hosting","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":true,"color":"default"},"plain_text":"hosting","href":null},{"type":"text","text":{"content":" 設定で、各ターゲットごとの Hosting の設定をする。設定を分ける必要がなかったとしても ","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default"},"plain_text":" 設定で、各ターゲットごとの Hosting の設定をする。設定を分ける必要がなかったとしても ","href":null},{"type":"text","text":{"content":"target","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":true,"color":"default"},"plain_text":"target","href":null},{"type":"text","text":{"content":" フィールドで探されるのでそれぞれ対応する設定が存在しないとエラーになる。","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default"},"plain_text":" フィールドで探されるのでそれぞれ対応する設定が存在しないとエラーになる。","href":null}],"color":"default"}},{"object":"block","id":"880391ac-5496-40e4-9deb-67e7bc2c3609","parent":{"type":"page_id","page_id":"f6287c72-68f9-4adc-be24-70f401207886"},"created_time":"2023-05-21T00:20:00.000Z","last_edited_time":"2023-05-21T00:20:00.000Z","created_by":{"object":"user","id":"f4f222d4-d508-405d-ba6c-da82ee26ee54"},"last_edited_by":{"object":"user","id":"f4f222d4-d508-405d-ba6c-da82ee26ee54"},"has_children":false,"archived":false,"in_trash":false,"type":"paragraph","paragraph":{"rich_text":[{"type":"text","text":{"content":"https://github.com/lacolaco/pokepartymatch/blob/master/firebase.json#L2","link":{"url":"https://github.com/lacolaco/pokepartymatch/blob/master/firebase.json#L2"}},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default"},"plain_text":"https://github.com/lacolaco/pokepartymatch/blob/master/firebase.json#L2","href":"https://github.com/lacolaco/pokepartymatch/blob/master/firebase.json#L2"}],"color":"default"}},{"object":"block","id":"179026d1-5e26-4699-961e-25a9bab5055d","parent":{"type":"page_id","page_id":"f6287c72-68f9-4adc-be24-70f401207886"},"created_time":"2023-05-21T00:20:00.000Z","last_edited_time":"2023-05-21T00:20:00.000Z","created_by":{"object":"user","id":"f4f222d4-d508-405d-ba6c-da82ee26ee54"},"last_edited_by":{"object":"user","id":"f4f222d4-d508-405d-ba6c-da82ee26ee54"},"has_children":false,"archived":false,"in_trash":false,"type":"heading_3","heading_3":{"rich_text":[{"type":"text","text":{"content":"4. デプロイ時にターゲットを指定する","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default"},"plain_text":"4. デプロイ時にターゲットを指定する","href":null}],"is_toggleable":false,"color":"default"}},{"object":"block","id":"fc243cfb-e49f-4484-8f6b-426fa8c8ae4b","parent":{"type":"page_id","page_id":"f6287c72-68f9-4adc-be24-70f401207886"},"created_time":"2023-05-21T00:20:00.000Z","last_edited_time":"2023-05-21T00:20:00.000Z","created_by":{"object":"user","id":"f4f222d4-d508-405d-ba6c-da82ee26ee54"},"last_edited_by":{"object":"user","id":"f4f222d4-d508-405d-ba6c-da82ee26ee54"},"has_children":false,"archived":false,"in_trash":false,"type":"paragraph","paragraph":{"rich_text":[{"type":"text","text":{"content":"あとは ","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default"},"plain_text":"あとは ","href":null},{"type":"text","text":{"content":"firebase deploy","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":true,"color":"default"},"plain_text":"firebase deploy","href":null},{"type":"text","text":{"content":" コマンドを実行するときに production か staging かを指定するだけ。production 時のみ Firestore などほかのコンポーネントも同時デプロイするようにしている。","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default"},"plain_text":" コマンドを実行するときに production か staging かを指定するだけ。production 時のみ Firestore などほかのコンポーネントも同時デプロイするようにしている。","href":null}],"color":"default"}},{"object":"block","id":"94b1930e-4b01-462c-8f64-61d93159074d","parent":{"type":"page_id","page_id":"f6287c72-68f9-4adc-be24-70f401207886"},"created_time":"2023-05-21T00:20:00.000Z","last_edited_time":"2023-05-21T00:20:00.000Z","created_by":{"object":"user","id":"f4f222d4-d508-405d-ba6c-da82ee26ee54"},"last_edited_by":{"object":"user","id":"f4f222d4-d508-405d-ba6c-da82ee26ee54"},"has_children":false,"archived":false,"in_trash":false,"type":"code","code":{"caption":[],"rich_text":[{"type":"text","text":{"content":"\"deploy:staging\": \"firebase deploy --only hosting:staging\",\n\"deploy:production\": \"firebase deploy --only hosting:production,firestore\",","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default"},"plain_text":"\"deploy:staging\": \"firebase deploy --only hosting:staging\",\n\"deploy:production\": \"firebase deploy --only hosting:production,firestore\",","href":null}],"language":"plain text"}},{"object":"block","id":"de070ee4-14de-41e4-a20c-6206f26ce8de","parent":{"type":"page_id","page_id":"f6287c72-68f9-4adc-be24-70f401207886"},"created_time":"2023-05-21T00:20:00.000Z","last_edited_time":"2023-05-21T00:20:00.000Z","created_by":{"object":"user","id":"f4f222d4-d508-405d-ba6c-da82ee26ee54"},"last_edited_by":{"object":"user","id":"f4f222d4-d508-405d-ba6c-da82ee26ee54"},"has_children":false,"archived":false,"in_trash":false,"type":"heading_2","heading_2":{"rich_text":[{"type":"text","text":{"content":"振り返り","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default"},"plain_text":"振り返り","href":null}],"is_toggleable":false,"color":"default"}},{"object":"block","id":"0ffcebb5-b82d-4318-94c3-faade53e0380","parent":{"type":"page_id","page_id":"f6287c72-68f9-4adc-be24-70f401207886"},"created_time":"2023-05-21T00:20:00.000Z","last_edited_time":"2023-05-21T00:20:00.000Z","created_by":{"object":"user","id":"f4f222d4-d508-405d-ba6c-da82ee26ee54"},"last_edited_by":{"object":"user","id":"f4f222d4-d508-405d-ba6c-da82ee26ee54"},"has_children":false,"archived":false,"in_trash":false,"type":"bulleted_list_item","bulleted_list_item":{"rich_text":[{"type":"text","text":{"content":"ある程度割り切れば Multiple Sites での production/staging は運用が楽そう","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default"},"plain_text":"ある程度割り切れば Multiple Sites での production/staging は運用が楽そう","href":null}],"color":"default"}},{"object":"block","id":"92b17d54-b150-467e-9e9e-bac926ddfcd4","parent":{"type":"page_id","page_id":"f6287c72-68f9-4adc-be24-70f401207886"},"created_time":"2023-05-21T00:20:00.000Z","last_edited_time":"2023-05-21T00:20:00.000Z","created_by":{"object":"user","id":"f4f222d4-d508-405d-ba6c-da82ee26ee54"},"last_edited_by":{"object":"user","id":"f4f222d4-d508-405d-ba6c-da82ee26ee54"},"has_children":false,"archived":false,"in_trash":false,"type":"bulleted_list_item","bulleted_list_item":{"rich_text":[{"type":"text","text":{"content":"Storage は Bucket を分ければいいし、Functions や Firestore は完全には分離できないが URL 設計や Collection 設計次第でどうにかできそう。特に Firestore は情報がセンシティブならやめたほうがいいけどルートレベルで production/staging の分岐することはできそう","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default"},"plain_text":"Storage は Bucket を分ければいいし、Functions や Firestore は完全には分離できないが URL 設計や Collection 設計次第でどうにかできそう。特に Firestore は情報がセンシティブならやめたほうがいいけどルートレベルで production/staging の分岐することはできそう","href":null}],"color":"default"}},{"object":"block","id":"3e96d7fc-ff82-4a39-bf83-43cba4ee3891","parent":{"type":"page_id","page_id":"f6287c72-68f9-4adc-be24-70f401207886"},"created_time":"2023-05-21T00:20:00.000Z","last_edited_time":"2023-05-21T00:20:00.000Z","created_by":{"object":"user","id":"f4f222d4-d508-405d-ba6c-da82ee26ee54"},"last_edited_by":{"object":"user","id":"f4f222d4-d508-405d-ba6c-da82ee26ee54"},"has_children":false,"archived":false,"in_trash":false,"type":"bulleted_list_item","bulleted_list_item":{"rich_text":[{"type":"text","text":{"content":"そもそも真に Staging なのであれば production と同じデータを使用しているべきではという話もある。（Functions で production→staging の自動コピーしてあげてもよさそうだが）","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default"},"plain_text":"そもそも真に Staging なのであれば production と同じデータを使用しているべきではという話もある。（Functions で production→staging の自動コピーしてあげてもよさそうだが）","href":null}],"color":"default"}}]