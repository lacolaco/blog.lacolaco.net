[{"object":"block","id":"080d9cdb-29c0-4db0-8d07-99d5178c1872","parent":{"type":"page_id","page_id":"5cd15f39-e63e-48b7-828e-af1224f8d884"},"created_time":"2023-12-18T12:25:00.000Z","last_edited_time":"2023-12-18T12:28:00.000Z","created_by":{"object":"user","id":"f4f222d4-d508-405d-ba6c-da82ee26ee54"},"last_edited_by":{"object":"user","id":"f4f222d4-d508-405d-ba6c-da82ee26ee54"},"has_children":false,"archived":false,"type":"paragraph","paragraph":{"rich_text":[{"type":"text","text":{"content":"要素の高さを0から自動計算されたサイズとの間でアニメーションするのは一筋縄ではいかないものだったが、つい最近のブラウザのアップデートによってCSS Gridを使ったアプローチが可能になったらしい。","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default"},"plain_text":"要素の高さを0から自動計算されたサイズとの間でアニメーションするのは一筋縄ではいかないものだったが、つい最近のブラウザのアップデートによってCSS Gridを使ったアプローチが可能になったらしい。","href":null}],"color":"default"}},{"object":"block","id":"44515c0f-cb27-46f2-9dc2-f34e9d3097c4","parent":{"type":"page_id","page_id":"5cd15f39-e63e-48b7-828e-af1224f8d884"},"created_time":"2023-12-18T12:28:00.000Z","last_edited_time":"2023-12-18T12:28:00.000Z","created_by":{"object":"user","id":"f4f222d4-d508-405d-ba6c-da82ee26ee54"},"last_edited_by":{"object":"user","id":"f4f222d4-d508-405d-ba6c-da82ee26ee54"},"has_children":false,"archived":false,"type":"bookmark","bookmark":{"caption":[],"url":"https://dev.to/francescovetere/css-trick-transition-from-height-0-to-auto-21de"}},{"object":"block","id":"7ef46c4c-063d-47fa-a2ae-880018fd38ad","parent":{"type":"page_id","page_id":"5cd15f39-e63e-48b7-828e-af1224f8d884"},"created_time":"2023-12-18T12:25:00.000Z","last_edited_time":"2023-12-18T12:25:00.000Z","created_by":{"object":"user","id":"f4f222d4-d508-405d-ba6c-da82ee26ee54"},"last_edited_by":{"object":"user","id":"f4f222d4-d508-405d-ba6c-da82ee26ee54"},"has_children":false,"archived":false,"type":"bookmark","bookmark":{"caption":[],"url":"https://coliss.com/articles/build-websites/operation/css/css-transition-from-height-0-to-auto.html"}},{"object":"block","id":"e4a76d7a-8f3d-4784-b606-8d90595bca22","parent":{"type":"page_id","page_id":"5cd15f39-e63e-48b7-828e-af1224f8d884"},"created_time":"2023-12-18T12:26:00.000Z","last_edited_time":"2023-12-18T12:29:00.000Z","created_by":{"object":"user","id":"f4f222d4-d508-405d-ba6c-da82ee26ee54"},"last_edited_by":{"object":"user","id":"f4f222d4-d508-405d-ba6c-da82ee26ee54"},"has_children":false,"archived":false,"type":"paragraph","paragraph":{"rich_text":[],"color":"default"}},{"object":"block","id":"0d326318-4334-4ff1-aefe-a19b67563fda","parent":{"type":"page_id","page_id":"5cd15f39-e63e-48b7-828e-af1224f8d884"},"created_time":"2023-12-18T12:26:00.000Z","last_edited_time":"2023-12-18T12:40:00.000Z","created_by":{"object":"user","id":"f4f222d4-d508-405d-ba6c-da82ee26ee54"},"last_edited_by":{"object":"user","id":"f4f222d4-d508-405d-ba6c-da82ee26ee54"},"has_children":false,"archived":false,"type":"paragraph","paragraph":{"rich_text":[{"type":"text","text":{"content":"この方法をAngularアプリケーションの中で使いやすいパーツとしてディレクティブを実装してみたのが次のサンプルコードだ。実際に動作するので試してもらいたい。もし自身のプロジェクトに取り入れたいと思ったら自由にしてもらって構わない。","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default"},"plain_text":"この方法をAngularアプリケーションの中で使いやすいパーツとしてディレクティブを実装してみたのが次のサンプルコードだ。実際に動作するので試してもらいたい。もし自身のプロジェクトに取り入れたいと思ったら自由にしてもらって構わない。","href":null}],"color":"default"}},{"object":"block","id":"ca63742e-1ada-4e71-a1b6-3f36ab8a42a7","parent":{"type":"page_id","page_id":"5cd15f39-e63e-48b7-828e-af1224f8d884"},"created_time":"2023-12-18T12:26:00.000Z","last_edited_time":"2023-12-18T12:41:00.000Z","created_by":{"object":"user","id":"f4f222d4-d508-405d-ba6c-da82ee26ee54"},"last_edited_by":{"object":"user","id":"f4f222d4-d508-405d-ba6c-da82ee26ee54"},"has_children":false,"archived":false,"type":"embed","embed":{"caption":[],"url":"https://stackblitz.com/edit/angular-kyt4lx?ctl=1&embed=1&file=src/main.ts"}},{"object":"block","id":"504540d5-f63f-4bff-b01e-10e4dfaa36ce","parent":{"type":"page_id","page_id":"5cd15f39-e63e-48b7-828e-af1224f8d884"},"created_time":"2023-12-18T12:30:00.000Z","last_edited_time":"2023-12-18T12:30:00.000Z","created_by":{"object":"user","id":"f4f222d4-d508-405d-ba6c-da82ee26ee54"},"last_edited_by":{"object":"user","id":"f4f222d4-d508-405d-ba6c-da82ee26ee54"},"has_children":false,"archived":false,"type":"heading_2","heading_2":{"rich_text":[{"type":"text","text":{"content":"Expandable","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":true,"color":"default"},"plain_text":"Expandable","href":null},{"type":"text","text":{"content":" ディレクティブ","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default"},"plain_text":" ディレクティブ","href":null}],"is_toggleable":false,"color":"default"}},{"object":"block","id":"776a380e-d62f-474e-a53c-9fa521c2a0ea","parent":{"type":"page_id","page_id":"5cd15f39-e63e-48b7-828e-af1224f8d884"},"created_time":"2023-12-18T12:30:00.000Z","last_edited_time":"2023-12-18T12:33:00.000Z","created_by":{"object":"user","id":"f4f222d4-d508-405d-ba6c-da82ee26ee54"},"last_edited_by":{"object":"user","id":"f4f222d4-d508-405d-ba6c-da82ee26ee54"},"has_children":false,"archived":false,"type":"paragraph","paragraph":{"rich_text":[{"type":"text","text":{"content":"Expandable","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":true,"color":"default"},"plain_text":"Expandable","href":null},{"type":"text","text":{"content":" ディレクティブは、ディレクティブが付与されたホスト要素にスタイルを付与する。冒頭の記事で紹介されているように、エキスパンションパネルのコンテナとなる要素には ","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default"},"plain_text":" ディレクティブは、ディレクティブが付与されたホスト要素にスタイルを付与する。冒頭の記事で紹介されているように、エキスパンションパネルのコンテナとなる要素には ","href":null},{"type":"text","text":{"content":"display: grid","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":true,"color":"default"},"plain_text":"display: grid","href":null},{"type":"text","text":{"content":" と ","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default"},"plain_text":" と ","href":null},{"type":"text","text":{"content":"grid-template-rows","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":true,"color":"default"},"plain_text":"grid-template-rows","href":null},{"type":"text","text":{"content":" を記述し、 ","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default"},"plain_text":" を記述し、 ","href":null},{"type":"text","text":{"content":"transition-property: grid-template-rows","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":true,"color":"default"},"plain_text":"transition-property: grid-template-rows","href":null},{"type":"text","text":{"content":" でグリッド構造の変更をアニメーション可能にする。 ","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default"},"plain_text":" でグリッド構造の変更をアニメーション可能にする。 ","href":null},{"type":"text","text":{"content":"duration","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":true,"color":"default"},"plain_text":"duration","href":null},{"type":"text","text":{"content":" や ","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default"},"plain_text":" や ","href":null},{"type":"text","text":{"content":"timing-function","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":true,"color":"default"},"plain_text":"timing-function","href":null},{"type":"text","text":{"content":" は何でもよい。","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default"},"plain_text":" は何でもよい。","href":null}],"color":"default"}},{"object":"block","id":"56d296af-2263-4f04-8fbb-a1ab9027813b","parent":{"type":"page_id","page_id":"5cd15f39-e63e-48b7-828e-af1224f8d884"},"created_time":"2023-12-18T12:33:00.000Z","last_edited_time":"2023-12-20T14:26:00.000Z","created_by":{"object":"user","id":"f4f222d4-d508-405d-ba6c-da82ee26ee54"},"last_edited_by":{"object":"user","id":"f4f222d4-d508-405d-ba6c-da82ee26ee54"},"has_children":false,"archived":false,"type":"paragraph","paragraph":{"rich_text":[{"type":"text","text":{"content":"ディレクティブを使ってスタイルを付与する場合は、ホストバインディングで ","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default"},"plain_text":"ディレクティブを使ってスタイルを付与する場合は、ホストバインディングで ","href":null},{"type":"text","text":{"content":"style","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":true,"color":"default"},"plain_text":"style","href":null},{"type":"text","text":{"content":" プロパティへオブジェクトを渡してあげればよい。 ","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default"},"plain_text":" プロパティへオブジェクトを渡してあげればよい。 ","href":null},{"type":"text","text":{"content":"ngStyle","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":true,"color":"default"},"plain_text":"ngStyle","href":null},{"type":"text","text":{"content":" や ","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default"},"plain_text":" や ","href":null},{"type":"text","text":{"content":"style.xxx","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":true,"color":"default"},"plain_text":"style.xxx","href":null},{"type":"text","text":{"content":" といった機能を使わなくとも、まとめてスタイルを付与できる。","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default"},"plain_text":" といった機能を使わなくとも、まとめてスタイルを付与できる。","href":null}],"color":"default"}},{"object":"block","id":"2a6dc65c-7ee9-4aa9-afc5-f333c8ad789b","parent":{"type":"page_id","page_id":"5cd15f39-e63e-48b7-828e-af1224f8d884"},"created_time":"2023-12-18T12:30:00.000Z","last_edited_time":"2023-12-18T12:31:00.000Z","created_by":{"object":"user","id":"f4f222d4-d508-405d-ba6c-da82ee26ee54"},"last_edited_by":{"object":"user","id":"f4f222d4-d508-405d-ba6c-da82ee26ee54"},"has_children":false,"archived":false,"type":"code","code":{"caption":[],"rich_text":[{"type":"text","text":{"content":"@Directive({\n  selector: '[expandable]',\n  standalone: true,\n})\nexport class Expandable {\n  @Input({ alias: 'expandable' })\n  isExpanded = false;\n\n  @HostBinding('style')\n  get styles() {\n    return {\n      display: 'grid',\n      'transition-property': 'grid-template-rows',\n      'transition-duration': '250ms',\n      'transition-timing-function': 'ease',\n      'grid-template-rows': this.isExpanded ? '1fr' : '0fr',\n    };\n  }\n}","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default"},"plain_text":"@Directive({\n  selector: '[expandable]',\n  standalone: true,\n})\nexport class Expandable {\n  @Input({ alias: 'expandable' })\n  isExpanded = false;\n\n  @HostBinding('style')\n  get styles() {\n    return {\n      display: 'grid',\n      'transition-property': 'grid-template-rows',\n      'transition-duration': '250ms',\n      'transition-timing-function': 'ease',\n      'grid-template-rows': this.isExpanded ? '1fr' : '0fr',\n    };\n  }\n}","href":null}],"language":"typescript"}},{"object":"block","id":"a212b50a-2286-41b5-b209-68024bc76557","parent":{"type":"page_id","page_id":"5cd15f39-e63e-48b7-828e-af1224f8d884"},"created_time":"2023-12-18T12:30:00.000Z","last_edited_time":"2023-12-18T12:35:00.000Z","created_by":{"object":"user","id":"f4f222d4-d508-405d-ba6c-da82ee26ee54"},"last_edited_by":{"object":"user","id":"f4f222d4-d508-405d-ba6c-da82ee26ee54"},"has_children":false,"archived":false,"type":"heading_2","heading_2":{"rich_text":[{"type":"text","text":{"content":"使い方","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default"},"plain_text":"使い方","href":null}],"is_toggleable":false,"color":"default"}},{"object":"block","id":"6af237c2-b350-4139-b5a8-cf71483e656d","parent":{"type":"page_id","page_id":"5cd15f39-e63e-48b7-828e-af1224f8d884"},"created_time":"2023-12-18T12:35:00.000Z","last_edited_time":"2023-12-18T12:36:00.000Z","created_by":{"object":"user","id":"f4f222d4-d508-405d-ba6c-da82ee26ee54"},"last_edited_by":{"object":"user","id":"f4f222d4-d508-405d-ba6c-da82ee26ee54"},"has_children":false,"archived":false,"type":"paragraph","paragraph":{"rich_text":[{"type":"text","text":{"content":"Expandable","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":true,"color":"default"},"plain_text":"Expandable","href":null},{"type":"text","text":{"content":" ディレクティブを任意のコンテナ要素に付与し、その直下の子要素に ","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default"},"plain_text":" ディレクティブを任意のコンテナ要素に付与し、その直下の子要素に ","href":null},{"type":"text","text":{"content":"overflow: hidden","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":true,"color":"default"},"plain_text":"overflow: hidden","href":null},{"type":"text","text":{"content":" スタイルを付与する。こうすることでグリッドの高さが ","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default"},"plain_text":" スタイルを付与する。こうすることでグリッドの高さが ","href":null},{"type":"text","text":{"content":"0fr","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":true,"color":"default"},"plain_text":"0fr","href":null},{"type":"text","text":{"content":" になったときに溢れる部分が非表示になる。","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default"},"plain_text":" になったときに溢れる部分が非表示になる。","href":null}],"color":"default"}},{"object":"block","id":"76bacf3f-2c3a-481c-b0c6-c56057f1a607","parent":{"type":"page_id","page_id":"5cd15f39-e63e-48b7-828e-af1224f8d884"},"created_time":"2023-12-18T12:35:00.000Z","last_edited_time":"2023-12-18T12:35:00.000Z","created_by":{"object":"user","id":"f4f222d4-d508-405d-ba6c-da82ee26ee54"},"last_edited_by":{"object":"user","id":"f4f222d4-d508-405d-ba6c-da82ee26ee54"},"has_children":false,"archived":false,"type":"code","code":{"caption":[],"rich_text":[{"type":"text","text":{"content":"@Component({\n  selector: 'app-root',\n  standalone: true,\n  imports: [Expandable],\n  template: `\n    <h1>Expansion with grid-template-rows</h1>\n    \n    <button (click)=\"toggle()\">toggle</button>\n    <div [expandable]=\"isExpanded()\" style=\"border: 1px solid black;\">\n      <div style=\"overflow: hidden;\">\n        <p>\n        Lorem ipsum dolor sit amet, ...\n        </p>\n      </div>\n    </div>\n  `,\n})\nexport class App {\n  isExpanded = signal(false);\n\n  toggle() {\n    this.isExpanded.update((v) => !v);\n  }\n}","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default"},"plain_text":"@Component({\n  selector: 'app-root',\n  standalone: true,\n  imports: [Expandable],\n  template: `\n    <h1>Expansion with grid-template-rows</h1>\n    \n    <button (click)=\"toggle()\">toggle</button>\n    <div [expandable]=\"isExpanded()\" style=\"border: 1px solid black;\">\n      <div style=\"overflow: hidden;\">\n        <p>\n        Lorem ipsum dolor sit amet, ...\n        </p>\n      </div>\n    </div>\n  `,\n})\nexport class App {\n  isExpanded = signal(false);\n\n  toggle() {\n    this.isExpanded.update((v) => !v);\n  }\n}","href":null}],"language":"typescript"}},{"object":"block","id":"dcce90b7-dcff-42a4-ba86-9fa170d7717f","parent":{"type":"page_id","page_id":"5cd15f39-e63e-48b7-828e-af1224f8d884"},"created_time":"2023-12-18T12:36:00.000Z","last_edited_time":"2023-12-18T12:36:00.000Z","created_by":{"object":"user","id":"f4f222d4-d508-405d-ba6c-da82ee26ee54"},"last_edited_by":{"object":"user","id":"f4f222d4-d508-405d-ba6c-da82ee26ee54"},"has_children":false,"archived":false,"type":"paragraph","paragraph":{"rich_text":[],"color":"default"}},{"object":"block","id":"9d181561-f720-4cc1-9a3e-adbeca700ec6","parent":{"type":"page_id","page_id":"5cd15f39-e63e-48b7-828e-af1224f8d884"},"created_time":"2023-12-18T12:36:00.000Z","last_edited_time":"2023-12-18T12:36:00.000Z","created_by":{"object":"user","id":"f4f222d4-d508-405d-ba6c-da82ee26ee54"},"last_edited_by":{"object":"user","id":"f4f222d4-d508-405d-ba6c-da82ee26ee54"},"has_children":false,"archived":false,"type":"heading_2","heading_2":{"rich_text":[{"type":"text","text":{"content":"所感","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default"},"plain_text":"所感","href":null}],"is_toggleable":false,"color":"default"}},{"object":"block","id":"fcae81ab-88ca-4ab7-9f01-fb25e4dd1d57","parent":{"type":"page_id","page_id":"5cd15f39-e63e-48b7-828e-af1224f8d884"},"created_time":"2023-12-18T12:36:00.000Z","last_edited_time":"2023-12-18T12:39:00.000Z","created_by":{"object":"user","id":"f4f222d4-d508-405d-ba6c-da82ee26ee54"},"last_edited_by":{"object":"user","id":"f4f222d4-d508-405d-ba6c-da82ee26ee54"},"has_children":false,"archived":false,"type":"paragraph","paragraph":{"rich_text":[{"type":"text","text":{"content":"Angular には独自のアニメーション機能もあるが、このエキスパンションパネルのユースケースではCSSだけで十分だと思う。非常に汎用性の高い仕組みだし実装も難しくないので、積極的に使っていきたいテクニックだと感じた。（そもそも ","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default"},"plain_text":"Angular には独自のアニメーション機能もあるが、このエキスパンションパネルのユースケースではCSSだけで十分だと思う。非常に汎用性の高い仕組みだし実装も難しくないので、積極的に使っていきたいテクニックだと感じた。（そもそも ","href":null},{"type":"text","text":{"content":"height: auto","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":true,"color":"default"},"plain_text":"height: auto","href":null},{"type":"text","text":{"content":" でアニメーションできればそれに越したことはないのだが。）","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default"},"plain_text":" でアニメーションできればそれに越したことはないのだが。）","href":null}],"color":"default"}},{"object":"block","id":"13a0b3f7-46a2-48d5-923c-8d5c05fac64c","parent":{"type":"page_id","page_id":"5cd15f39-e63e-48b7-828e-af1224f8d884"},"created_time":"2023-12-18T12:36:00.000Z","last_edited_time":"2023-12-18T12:36:00.000Z","created_by":{"object":"user","id":"f4f222d4-d508-405d-ba6c-da82ee26ee54"},"last_edited_by":{"object":"user","id":"f4f222d4-d508-405d-ba6c-da82ee26ee54"},"has_children":false,"archived":false,"type":"paragraph","paragraph":{"rich_text":[],"color":"default"}}]