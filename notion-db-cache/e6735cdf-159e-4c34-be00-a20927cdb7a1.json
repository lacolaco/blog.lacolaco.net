[{"object":"block","id":"c1612b62-1bf8-4bda-afbb-1e5a5b8b6aec","parent":{"type":"page_id","page_id":"e6735cdf-159e-4c34-be00-a20927cdb7a1"},"created_time":"2023-05-21T00:20:00.000Z","last_edited_time":"2023-05-21T00:20:00.000Z","created_by":{"object":"user","id":"f4f222d4-d508-405d-ba6c-da82ee26ee54"},"last_edited_by":{"object":"user","id":"f4f222d4-d508-405d-ba6c-da82ee26ee54"},"has_children":false,"archived":false,"type":"paragraph","paragraph":{"rich_text":[{"type":"text","text":{"content":"題して「頼りすぎない Angular」ということで、Angular の層をなるべく","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default"},"plain_text":"題して「頼りすぎない Angular」ということで、Angular の層をなるべく","href":null},{"type":"text","text":{"content":"薄く","link":null},"annotations":{"bold":false,"italic":true,"strikethrough":false,"underline":false,"code":false,"color":"default"},"plain_text":"薄く","href":null},{"type":"text","text":{"content":"アプリケーションを作るにはどうすればいいかというのを考えるシリーズです。 Angular 良さそうなんだけどロックインされて捨てにくそう、という人々向けに、コードのモジュール性とフレームワーク非依存性を重視した実装パターンを試行錯誤します。","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default"},"plain_text":"アプリケーションを作るにはどうすればいいかというのを考えるシリーズです。 Angular 良さそうなんだけどロックインされて捨てにくそう、という人々向けに、コードのモジュール性とフレームワーク非依存性を重視した実装パターンを試行錯誤します。","href":null}],"color":"default"}},{"object":"block","id":"288ad091-0e22-4b56-94f8-c04a682f8130","parent":{"type":"page_id","page_id":"e6735cdf-159e-4c34-be00-a20927cdb7a1"},"created_time":"2023-05-21T00:20:00.000Z","last_edited_time":"2023-05-21T00:20:00.000Z","created_by":{"object":"user","id":"f4f222d4-d508-405d-ba6c-da82ee26ee54"},"last_edited_by":{"object":"user","id":"f4f222d4-d508-405d-ba6c-da82ee26ee54"},"has_children":false,"archived":false,"type":"paragraph","paragraph":{"rich_text":[{"type":"text","text":{"content":"第一回目は Angular の HttpClient を覚えずに、人気の npm モジュールである ","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default"},"plain_text":"第一回目は Angular の HttpClient を覚えずに、人気の npm モジュールである ","href":null},{"type":"text","text":{"content":"axios","link":{"url":"https://github.com/axios/axios"}},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default"},"plain_text":"axios","href":"https://github.com/axios/axios"},{"type":"text","text":{"content":" を使って Angular アプリで Ajax する例を紹介します。 axios は TypeScript の型定義を同梱していて、インターセプターなど Angular の HttpClient と同じような機能が揃っています。","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default"},"plain_text":" を使って Angular アプリで Ajax する例を紹介します。 axios は TypeScript の型定義を同梱していて、インターセプターなど Angular の HttpClient と同じような機能が揃っています。","href":null}],"color":"default"}},{"object":"block","id":"76014209-9456-4b4b-8486-f36bab19c0f8","parent":{"type":"page_id","page_id":"e6735cdf-159e-4c34-be00-a20927cdb7a1"},"created_time":"2023-05-21T00:20:00.000Z","last_edited_time":"2023-05-21T00:20:00.000Z","created_by":{"object":"user","id":"f4f222d4-d508-405d-ba6c-da82ee26ee54"},"last_edited_by":{"object":"user","id":"f4f222d4-d508-405d-ba6c-da82ee26ee54"},"has_children":false,"archived":false,"type":"heading_2","heading_2":{"rich_text":[{"type":"text","text":{"content":"Live Example","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default"},"plain_text":"Live Example","href":null}],"is_toggleable":false,"color":"default"}},{"object":"block","id":"a0b6d768-8a2f-499d-a355-9411d7b07ce9","parent":{"type":"page_id","page_id":"e6735cdf-159e-4c34-be00-a20927cdb7a1"},"created_time":"2023-05-21T00:20:00.000Z","last_edited_time":"2023-05-21T00:20:00.000Z","created_by":{"object":"user","id":"f4f222d4-d508-405d-ba6c-da82ee26ee54"},"last_edited_by":{"object":"user","id":"f4f222d4-d508-405d-ba6c-da82ee26ee54"},"has_children":false,"archived":false,"type":"paragraph","paragraph":{"rich_text":[{"type":"text","text":{"content":"今回の完成形はこちらです。","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default"},"plain_text":"今回の完成形はこちらです。","href":null}],"color":"default"}},{"object":"block","id":"b00db183-2e52-47ef-9e28-e6150c18202f","parent":{"type":"page_id","page_id":"e6735cdf-159e-4c34-be00-a20927cdb7a1"},"created_time":"2023-05-21T00:20:00.000Z","last_edited_time":"2023-05-21T05:38:00.000Z","created_by":{"object":"user","id":"f4f222d4-d508-405d-ba6c-da82ee26ee54"},"last_edited_by":{"object":"user","id":"f4f222d4-d508-405d-ba6c-da82ee26ee54"},"has_children":false,"archived":false,"type":"paragraph","paragraph":{"rich_text":[{"type":"text","text":{"content":"https://stackblitz.com/edit/angular-with-axios","link":{"url":"https://stackblitz.com/edit/angular-with-axios"}},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default"},"plain_text":"https://stackblitz.com/edit/angular-with-axios","href":"https://stackblitz.com/edit/angular-with-axios"}],"color":"default"}},{"object":"block","id":"97caa18b-3666-4338-84fe-f6bd6562c3a4","parent":{"type":"page_id","page_id":"e6735cdf-159e-4c34-be00-a20927cdb7a1"},"created_time":"2023-05-21T00:20:00.000Z","last_edited_time":"2023-05-21T00:20:00.000Z","created_by":{"object":"user","id":"f4f222d4-d508-405d-ba6c-da82ee26ee54"},"last_edited_by":{"object":"user","id":"f4f222d4-d508-405d-ba6c-da82ee26ee54"},"has_children":false,"archived":false,"type":"paragraph","paragraph":{"rich_text":[{"type":"text","text":{"content":"Random User Generator","link":{"url":"https://randomuser.me/"}},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default"},"plain_text":"Random User Generator","href":"https://randomuser.me/"},{"type":"text","text":{"content":"からユーザー情報の JSON を取得し、画面に表示するアプリケーションです。","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default"},"plain_text":"からユーザー情報の JSON を取得し、画面に表示するアプリケーションです。","href":null}],"color":"default"}},{"object":"block","id":"a3618d20-7881-4194-af1b-d7450a8f079c","parent":{"type":"page_id","page_id":"e6735cdf-159e-4c34-be00-a20927cdb7a1"},"created_time":"2023-05-21T00:20:00.000Z","last_edited_time":"2023-05-21T00:20:00.000Z","created_by":{"object":"user","id":"f4f222d4-d508-405d-ba6c-da82ee26ee54"},"last_edited_by":{"object":"user","id":"f4f222d4-d508-405d-ba6c-da82ee26ee54"},"has_children":false,"archived":false,"type":"heading_2","heading_2":{"rich_text":[{"type":"text","text":{"content":"HttpClient","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default"},"plain_text":"HttpClient","href":null}],"is_toggleable":false,"color":"default"}},{"object":"block","id":"2b7a782b-817d-4d45-8643-377cda15a3dc","parent":{"type":"page_id","page_id":"e6735cdf-159e-4c34-be00-a20927cdb7a1"},"created_time":"2023-05-21T00:20:00.000Z","last_edited_time":"2023-05-21T00:20:00.000Z","created_by":{"object":"user","id":"f4f222d4-d508-405d-ba6c-da82ee26ee54"},"last_edited_by":{"object":"user","id":"f4f222d4-d508-405d-ba6c-da82ee26ee54"},"has_children":false,"archived":false,"type":"paragraph","paragraph":{"rich_text":[{"type":"text","text":{"content":"さて今回は Angular 公式の HttpClient モジュールを使わずフレームワーク非依存の axios を使って HttpClient を作ります。 次のようなファイルでアプリケーション用のカスタムインスタンスを生成して export します。 今回は何もしませんが実際はデフォルトのヘッダを追加したりインターセプターを追加したりいろいろすると思います。","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default"},"plain_text":"さて今回は Angular 公式の HttpClient モジュールを使わずフレームワーク非依存の axios を使って HttpClient を作ります。 次のようなファイルでアプリケーション用のカスタムインスタンスを生成して export します。 今回は何もしませんが実際はデフォルトのヘッダを追加したりインターセプターを追加したりいろいろすると思います。","href":null}],"color":"default"}},{"object":"block","id":"35c29aeb-64cf-455e-8217-baa25ef44606","parent":{"type":"page_id","page_id":"e6735cdf-159e-4c34-be00-a20927cdb7a1"},"created_time":"2023-05-21T00:20:00.000Z","last_edited_time":"2023-05-21T00:20:00.000Z","created_by":{"object":"user","id":"f4f222d4-d508-405d-ba6c-da82ee26ee54"},"last_edited_by":{"object":"user","id":"f4f222d4-d508-405d-ba6c-da82ee26ee54"},"has_children":false,"archived":false,"type":"code","code":{"caption":[],"rich_text":[{"type":"text","text":{"content":"import axios from \"axios\";\n\nconst instance = axios.create();\n\nexport default instance;","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default"},"plain_text":"import axios from \"axios\";\n\nconst instance = axios.create();\n\nexport default instance;","href":null}],"language":"typescript"}},{"object":"block","id":"b4c80c9d-e425-44c2-95ae-e6f6f0394951","parent":{"type":"page_id","page_id":"e6735cdf-159e-4c34-be00-a20927cdb7a1"},"created_time":"2023-05-21T00:20:00.000Z","last_edited_time":"2023-05-21T00:20:00.000Z","created_by":{"object":"user","id":"f4f222d4-d508-405d-ba6c-da82ee26ee54"},"last_edited_by":{"object":"user","id":"f4f222d4-d508-405d-ba6c-da82ee26ee54"},"has_children":false,"archived":false,"type":"heading_2","heading_2":{"rich_text":[{"type":"text","text":{"content":"UserRepository","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default"},"plain_text":"UserRepository","href":null}],"is_toggleable":false,"color":"default"}},{"object":"block","id":"dc4898c6-b0da-4bd5-9f80-53324a72be5e","parent":{"type":"page_id","page_id":"e6735cdf-159e-4c34-be00-a20927cdb7a1"},"created_time":"2023-05-21T00:20:00.000Z","last_edited_time":"2023-05-21T00:20:00.000Z","created_by":{"object":"user","id":"f4f222d4-d508-405d-ba6c-da82ee26ee54"},"last_edited_by":{"object":"user","id":"f4f222d4-d508-405d-ba6c-da82ee26ee54"},"has_children":false,"archived":false,"type":"paragraph","paragraph":{"rich_text":[{"type":"text","text":{"content":"次に、作成した HttpClient を使って API 呼び出しを行うためのサービスクラスを作ります。 単純に import して使うだけです","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default"},"plain_text":"次に、作成した HttpClient を使って API 呼び出しを行うためのサービスクラスを作ります。 単純に import して使うだけです","href":null}],"color":"default"}},{"object":"block","id":"7d43c0a0-e7d9-4922-9e7a-94f826e1b029","parent":{"type":"page_id","page_id":"e6735cdf-159e-4c34-be00-a20927cdb7a1"},"created_time":"2023-05-21T00:20:00.000Z","last_edited_time":"2023-05-21T00:20:00.000Z","created_by":{"object":"user","id":"f4f222d4-d508-405d-ba6c-da82ee26ee54"},"last_edited_by":{"object":"user","id":"f4f222d4-d508-405d-ba6c-da82ee26ee54"},"has_children":false,"archived":false,"type":"code","code":{"caption":[],"rich_text":[{"type":"text","text":{"content":"import { Injectable } from \"@angular/core\";\nimport httpClient from \"../infrastructure/http-client\";\n\n@Injectable()\nexport class UserRepository {\n  async random() {\n    const { data } = await httpClient.get(\"https://randomuser.me/api/\");\n    const {\n      results: [user]\n    } = data;\n    return user;\n  }\n}","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default"},"plain_text":"import { Injectable } from \"@angular/core\";\nimport httpClient from \"../infrastructure/http-client\";\n\n@Injectable()\nexport class UserRepository {\n  async random() {\n    const { data } = await httpClient.get(\"https://randomuser.me/api/\");\n    const {\n      results: [user]\n    } = data;\n    return user;\n  }\n}","href":null}],"language":"typescript"}},{"object":"block","id":"daf44abb-f211-4e75-8bdb-3fa043ffe6d6","parent":{"type":"page_id","page_id":"e6735cdf-159e-4c34-be00-a20927cdb7a1"},"created_time":"2023-05-21T00:20:00.000Z","last_edited_time":"2023-05-21T00:20:00.000Z","created_by":{"object":"user","id":"f4f222d4-d508-405d-ba6c-da82ee26ee54"},"last_edited_by":{"object":"user","id":"f4f222d4-d508-405d-ba6c-da82ee26ee54"},"has_children":false,"archived":false,"type":"paragraph","paragraph":{"rich_text":[{"type":"text","text":{"content":"作成したサービスクラスを AppModule に登録します。","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default"},"plain_text":"作成したサービスクラスを AppModule に登録します。","href":null}],"color":"default"}},{"object":"block","id":"37e1ea31-68bb-41ef-a102-d62c2f217e9b","parent":{"type":"page_id","page_id":"e6735cdf-159e-4c34-be00-a20927cdb7a1"},"created_time":"2023-05-21T00:20:00.000Z","last_edited_time":"2023-05-21T00:20:00.000Z","created_by":{"object":"user","id":"f4f222d4-d508-405d-ba6c-da82ee26ee54"},"last_edited_by":{"object":"user","id":"f4f222d4-d508-405d-ba6c-da82ee26ee54"},"has_children":false,"archived":false,"type":"code","code":{"caption":[],"rich_text":[{"type":"text","text":{"content":"import { NgModule } from \"@angular/core\";\nimport { BrowserModule } from \"@angular/platform-browser\";\n\nimport { AppComponent } from \"./app.component\";\nimport { UserRepository } from \"./repository/user\";\n\n@NgModule({\n  imports: [BrowserModule],\n  declarations: [AppComponent],\n  bootstrap: [AppComponent],\n  providers: [UserRepository]\n})\nexport class AppModule {}","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default"},"plain_text":"import { NgModule } from \"@angular/core\";\nimport { BrowserModule } from \"@angular/platform-browser\";\n\nimport { AppComponent } from \"./app.component\";\nimport { UserRepository } from \"./repository/user\";\n\n@NgModule({\n  imports: [BrowserModule],\n  declarations: [AppComponent],\n  bootstrap: [AppComponent],\n  providers: [UserRepository]\n})\nexport class AppModule {}","href":null}],"language":"typescript"}},{"object":"block","id":"12931aca-0262-41a8-885c-c3700664df8b","parent":{"type":"page_id","page_id":"e6735cdf-159e-4c34-be00-a20927cdb7a1"},"created_time":"2023-05-21T00:20:00.000Z","last_edited_time":"2023-05-21T00:20:00.000Z","created_by":{"object":"user","id":"f4f222d4-d508-405d-ba6c-da82ee26ee54"},"last_edited_by":{"object":"user","id":"f4f222d4-d508-405d-ba6c-da82ee26ee54"},"has_children":false,"archived":false,"type":"heading_2","heading_2":{"rich_text":[{"type":"text","text":{"content":"AppComponent","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default"},"plain_text":"AppComponent","href":null}],"is_toggleable":false,"color":"default"}},{"object":"block","id":"d6e61aa9-dd78-486d-87ab-5c5551c480ed","parent":{"type":"page_id","page_id":"e6735cdf-159e-4c34-be00-a20927cdb7a1"},"created_time":"2023-05-21T00:20:00.000Z","last_edited_time":"2023-05-21T00:20:00.000Z","created_by":{"object":"user","id":"f4f222d4-d508-405d-ba6c-da82ee26ee54"},"last_edited_by":{"object":"user","id":"f4f222d4-d508-405d-ba6c-da82ee26ee54"},"has_children":false,"archived":false,"type":"paragraph","paragraph":{"rich_text":[{"type":"text","text":{"content":"最後にコンポーネントからサービスを利用します。ここは Angular の DI を使います。","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default"},"plain_text":"最後にコンポーネントからサービスを利用します。ここは Angular の DI を使います。","href":null}],"color":"default"}},{"object":"block","id":"767d097b-d22d-4b8f-bb26-8c9d60e41097","parent":{"type":"page_id","page_id":"e6735cdf-159e-4c34-be00-a20927cdb7a1"},"created_time":"2023-05-21T00:20:00.000Z","last_edited_time":"2023-05-21T00:20:00.000Z","created_by":{"object":"user","id":"f4f222d4-d508-405d-ba6c-da82ee26ee54"},"last_edited_by":{"object":"user","id":"f4f222d4-d508-405d-ba6c-da82ee26ee54"},"has_children":false,"archived":false,"type":"code","code":{"caption":[],"rich_text":[{"type":"text","text":{"content":"import { Component } from \"@angular/core\";\nimport { UserRepository } from \"./repository/user\";\n\n@Component({\n  selector: \"my-app\",\n  templateUrl: \"./app.component.html\",\n  styleUrls: [\"./app.component.css\"]\n})\nexport class AppComponent {\n  user: User | null = null;\n\n  constructor(private userRepo: UserRepository) {}\n\n  ngOnInit() {\n    this.fetchUser();\n  }\n\n  async changeUser() {\n    this.user = null;\n    await this.fetchUser();\n  }\n\n  private async fetchUser() {\n    this.user = await this.userRepo.random();\n  }\n}","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default"},"plain_text":"import { Component } from \"@angular/core\";\nimport { UserRepository } from \"./repository/user\";\n\n@Component({\n  selector: \"my-app\",\n  templateUrl: \"./app.component.html\",\n  styleUrls: [\"./app.component.css\"]\n})\nexport class AppComponent {\n  user: User | null = null;\n\n  constructor(private userRepo: UserRepository) {}\n\n  ngOnInit() {\n    this.fetchUser();\n  }\n\n  async changeUser() {\n    this.user = null;\n    await this.fetchUser();\n  }\n\n  private async fetchUser() {\n    this.user = await this.userRepo.random();\n  }\n}","href":null}],"language":"typescript"}},{"object":"block","id":"034548d4-0259-40c2-b745-e257262c10c9","parent":{"type":"page_id","page_id":"e6735cdf-159e-4c34-be00-a20927cdb7a1"},"created_time":"2023-05-21T00:20:00.000Z","last_edited_time":"2023-05-21T00:20:00.000Z","created_by":{"object":"user","id":"f4f222d4-d508-405d-ba6c-da82ee26ee54"},"last_edited_by":{"object":"user","id":"f4f222d4-d508-405d-ba6c-da82ee26ee54"},"has_children":false,"archived":false,"type":"paragraph","paragraph":{"rich_text":[{"type":"text","text":{"content":"テンプレートでは名前と写真を表示して、ボタンを押すと","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default"},"plain_text":"テンプレートでは名前と写真を表示して、ボタンを押すと","href":null},{"type":"text","text":{"content":"changeUser()","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":true,"color":"default"},"plain_text":"changeUser()","href":null},{"type":"text","text":{"content":"メソッドをトリガーするようにしています。これで完成です。","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default"},"plain_text":"メソッドをトリガーするようにしています。これで完成です。","href":null}],"color":"default"}},{"object":"block","id":"b0b8142b-acad-496e-b8a3-7e68a939b3b8","parent":{"type":"page_id","page_id":"e6735cdf-159e-4c34-be00-a20927cdb7a1"},"created_time":"2023-05-21T00:20:00.000Z","last_edited_time":"2023-05-21T00:20:00.000Z","created_by":{"object":"user","id":"f4f222d4-d508-405d-ba6c-da82ee26ee54"},"last_edited_by":{"object":"user","id":"f4f222d4-d508-405d-ba6c-da82ee26ee54"},"has_children":false,"archived":false,"type":"code","code":{"caption":[],"rich_text":[{"type":"text","text":{"content":"<h2>Angular with axios</h2><ng-container *ngIf=\"user as user\">  <h2>{{ user.name.first + ' ' + user.name.last | titlecase }}</h2>  <img src=\"{{user.picture.large}}\" /></ng-container><button (click)=\"changeUser()\">Change User</button>","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default"},"plain_text":"<h2>Angular with axios</h2><ng-container *ngIf=\"user as user\">  <h2>{{ user.name.first + ' ' + user.name.last | titlecase }}</h2>  <img src=\"{{user.picture.large}}\" /></ng-container><button (click)=\"changeUser()\">Change User</button>","href":null}],"language":"html"}},{"object":"block","id":"f6870c80-f4b4-44d3-b496-89e4c660d260","parent":{"type":"page_id","page_id":"e6735cdf-159e-4c34-be00-a20927cdb7a1"},"created_time":"2023-05-21T00:20:00.000Z","last_edited_time":"2023-05-21T00:20:00.000Z","created_by":{"object":"user","id":"f4f222d4-d508-405d-ba6c-da82ee26ee54"},"last_edited_by":{"object":"user","id":"f4f222d4-d508-405d-ba6c-da82ee26ee54"},"has_children":false,"archived":false,"type":"heading_2","heading_2":{"rich_text":[{"type":"text","text":{"content":"テストと DI","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default"},"plain_text":"テストと DI","href":null}],"is_toggleable":false,"color":"default"}},{"object":"block","id":"79b1f484-fcbd-4670-9c6f-c51f47d29eb0","parent":{"type":"page_id","page_id":"e6735cdf-159e-4c34-be00-a20927cdb7a1"},"created_time":"2023-05-21T00:20:00.000Z","last_edited_time":"2023-05-21T00:20:00.000Z","created_by":{"object":"user","id":"f4f222d4-d508-405d-ba6c-da82ee26ee54"},"last_edited_by":{"object":"user","id":"f4f222d4-d508-405d-ba6c-da82ee26ee54"},"has_children":false,"archived":false,"type":"paragraph","paragraph":{"rich_text":[{"type":"text","text":{"content":"サービスクラスの","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default"},"plain_text":"サービスクラスの","href":null},{"type":"text","text":{"content":"UserRepository","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":true,"color":"default"},"plain_text":"UserRepository","href":null},{"type":"text","text":{"content":"では直接","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default"},"plain_text":"では直接","href":null},{"type":"text","text":{"content":"httpClient","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":true,"color":"default"},"plain_text":"httpClient","href":null},{"type":"text","text":{"content":"を import して参照しましたが、","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default"},"plain_text":"を import して参照しましたが、","href":null},{"type":"text","text":{"content":"AppComponent","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":true,"color":"default"},"plain_text":"AppComponent","href":null},{"type":"text","text":{"content":"では DI 経由で","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default"},"plain_text":"では DI 経由で","href":null},{"type":"text","text":{"content":"UserRepository","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":true,"color":"default"},"plain_text":"UserRepository","href":null},{"type":"text","text":{"content":"を参照しました。 この違いは、ユニットテストをどう書くかという観点で分かれています。","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default"},"plain_text":"を参照しました。 この違いは、ユニットテストをどう書くかという観点で分かれています。","href":null}],"color":"default"}},{"object":"block","id":"aa6a88df-e450-4215-a691-97f661840224","parent":{"type":"page_id","page_id":"e6735cdf-159e-4c34-be00-a20927cdb7a1"},"created_time":"2023-05-21T00:20:00.000Z","last_edited_time":"2023-05-21T00:20:00.000Z","created_by":{"object":"user","id":"f4f222d4-d508-405d-ba6c-da82ee26ee54"},"last_edited_by":{"object":"user","id":"f4f222d4-d508-405d-ba6c-da82ee26ee54"},"has_children":false,"archived":false,"type":"paragraph","paragraph":{"rich_text":[{"type":"text","text":{"content":"axios は","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default"},"plain_text":"axios は","href":null},{"type":"text","text":{"content":"moxios","link":{"url":"https://github.com/axios/moxios"}},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default"},"plain_text":"moxios","href":"https://github.com/axios/moxios"},{"type":"text","text":{"content":"というパッケージを使うことで簡単に axios のインスタンスをモック化できます。 そのため、","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default"},"plain_text":"というパッケージを使うことで簡単に axios のインスタンスをモック化できます。 そのため、","href":null},{"type":"text","text":{"content":"httpClient","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":true,"color":"default"},"plain_text":"httpClient","href":null},{"type":"text","text":{"content":"の初期化のテストにおいても、","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default"},"plain_text":"の初期化のテストにおいても、","href":null},{"type":"text","text":{"content":"UserRepositry","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":true,"color":"default"},"plain_text":"UserRepositry","href":null},{"type":"text","text":{"content":"の振る舞いのテストにおいても、DI は必要ありません。","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default"},"plain_text":"の振る舞いのテストにおいても、DI は必要ありません。","href":null}],"color":"default"}},{"object":"block","id":"a9fedad4-29e9-49e2-8fa8-8c21dd01f88d","parent":{"type":"page_id","page_id":"e6735cdf-159e-4c34-be00-a20927cdb7a1"},"created_time":"2023-05-21T00:20:00.000Z","last_edited_time":"2023-05-21T00:20:00.000Z","created_by":{"object":"user","id":"f4f222d4-d508-405d-ba6c-da82ee26ee54"},"last_edited_by":{"object":"user","id":"f4f222d4-d508-405d-ba6c-da82ee26ee54"},"has_children":false,"archived":false,"type":"paragraph","paragraph":{"rich_text":[{"type":"text","text":{"content":"しかし","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default"},"plain_text":"しかし","href":null},{"type":"text","text":{"content":"AppComponent","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":true,"color":"default"},"plain_text":"AppComponent","href":null},{"type":"text","text":{"content":"から","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default"},"plain_text":"から","href":null},{"type":"text","text":{"content":"UserRepository","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":true,"color":"default"},"plain_text":"UserRepository","href":null},{"type":"text","text":{"content":"を直接参照すると、簡単にはモックできません。 なのでテスト時に","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default"},"plain_text":"を直接参照すると、簡単にはモックできません。 なのでテスト時に","href":null},{"type":"text","text":{"content":"UserRepository","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":true,"color":"default"},"plain_text":"UserRepository","href":null},{"type":"text","text":{"content":"のモックを提供できるように DI 経由で参照しています。","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default"},"plain_text":"のモックを提供できるように DI 経由で参照しています。","href":null}],"color":"default"}},{"object":"block","id":"6b234be1-970b-4e0c-bb35-d158915c4bc0","parent":{"type":"page_id","page_id":"e6735cdf-159e-4c34-be00-a20927cdb7a1"},"created_time":"2023-05-21T00:20:00.000Z","last_edited_time":"2023-05-21T00:20:00.000Z","created_by":{"object":"user","id":"f4f222d4-d508-405d-ba6c-da82ee26ee54"},"last_edited_by":{"object":"user","id":"f4f222d4-d508-405d-ba6c-da82ee26ee54"},"has_children":false,"archived":false,"type":"heading_2","heading_2":{"rich_text":[{"type":"text","text":{"content":"利点・欠点","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default"},"plain_text":"利点・欠点","href":null}],"is_toggleable":false,"color":"default"}},{"object":"block","id":"9ddd96ca-8723-482a-9470-78168ef676a1","parent":{"type":"page_id","page_id":"e6735cdf-159e-4c34-be00-a20927cdb7a1"},"created_time":"2023-05-21T00:20:00.000Z","last_edited_time":"2023-05-21T00:20:00.000Z","created_by":{"object":"user","id":"f4f222d4-d508-405d-ba6c-da82ee26ee54"},"last_edited_by":{"object":"user","id":"f4f222d4-d508-405d-ba6c-da82ee26ee54"},"has_children":false,"archived":false,"type":"heading_3","heading_3":{"rich_text":[{"type":"text","text":{"content":"利点","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default"},"plain_text":"利点","href":null}],"is_toggleable":false,"color":"default"}},{"object":"block","id":"43aea555-7d2a-488d-a1f1-c140966f6f8c","parent":{"type":"page_id","page_id":"e6735cdf-159e-4c34-be00-a20927cdb7a1"},"created_time":"2023-05-21T00:20:00.000Z","last_edited_time":"2023-05-21T00:20:00.000Z","created_by":{"object":"user","id":"f4f222d4-d508-405d-ba6c-da82ee26ee54"},"last_edited_by":{"object":"user","id":"f4f222d4-d508-405d-ba6c-da82ee26ee54"},"has_children":false,"archived":false,"type":"bulleted_list_item","bulleted_list_item":{"rich_text":[{"type":"text","text":{"content":"axios は有名で人気なライブラリなので学習しやすい","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default"},"plain_text":"axios は有名で人気なライブラリなので学習しやすい","href":null}],"color":"default"}},{"object":"block","id":"7b64d554-e0b6-4ae4-a88f-7d55c64387a7","parent":{"type":"page_id","page_id":"e6735cdf-159e-4c34-be00-a20927cdb7a1"},"created_time":"2023-05-21T00:20:00.000Z","last_edited_time":"2023-05-21T00:20:00.000Z","created_by":{"object":"user","id":"f4f222d4-d508-405d-ba6c-da82ee26ee54"},"last_edited_by":{"object":"user","id":"f4f222d4-d508-405d-ba6c-da82ee26ee54"},"has_children":false,"archived":false,"type":"bulleted_list_item","bulleted_list_item":{"rich_text":[{"type":"text","text":{"content":"HttpClient 部分は Angular じゃなくても使える","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default"},"plain_text":"HttpClient 部分は Angular じゃなくても使える","href":null}],"color":"default"}},{"object":"block","id":"79517dbe-1f71-4689-a56a-bba54f9161ed","parent":{"type":"page_id","page_id":"e6735cdf-159e-4c34-be00-a20927cdb7a1"},"created_time":"2023-05-21T00:20:00.000Z","last_edited_time":"2023-05-21T00:20:00.000Z","created_by":{"object":"user","id":"f4f222d4-d508-405d-ba6c-da82ee26ee54"},"last_edited_by":{"object":"user","id":"f4f222d4-d508-405d-ba6c-da82ee26ee54"},"has_children":false,"archived":false,"type":"heading_3","heading_3":{"rich_text":[{"type":"text","text":{"content":"欠点","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default"},"plain_text":"欠点","href":null}],"is_toggleable":false,"color":"default"}},{"object":"block","id":"0868ea6c-51a2-44d6-bdf9-8c2a84ba2ad5","parent":{"type":"page_id","page_id":"e6735cdf-159e-4c34-be00-a20927cdb7a1"},"created_time":"2023-05-21T00:20:00.000Z","last_edited_time":"2023-05-21T00:20:00.000Z","created_by":{"object":"user","id":"f4f222d4-d508-405d-ba6c-da82ee26ee54"},"last_edited_by":{"object":"user","id":"f4f222d4-d508-405d-ba6c-da82ee26ee54"},"has_children":true,"archived":false,"type":"bulleted_list_item","bulleted_list_item":{"rich_text":[{"type":"text","text":{"content":"RxJS の恩恵を受けられない","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default"},"plain_text":"RxJS の恩恵を受けられない","href":null}],"color":"default"},"children":[{"object":"block","id":"f53030f2-2825-4b9b-b4fe-c9b0e7aed9a5","parent":{"type":"block_id","block_id":"0868ea6c-51a2-44d6-bdf9-8c2a84ba2ad5"},"created_time":"2023-05-21T00:20:00.000Z","last_edited_time":"2023-05-21T00:20:00.000Z","created_by":{"object":"user","id":"f4f222d4-d508-405d-ba6c-da82ee26ee54"},"last_edited_by":{"object":"user","id":"f4f222d4-d508-405d-ba6c-da82ee26ee54"},"has_children":false,"archived":false,"type":"bulleted_list_item","bulleted_list_item":{"rich_text":[{"type":"text","text":{"content":"遅延実行","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default"},"plain_text":"遅延実行","href":null}],"color":"default"}},{"object":"block","id":"ccd1c973-6356-4344-a26a-0213867ee001","parent":{"type":"block_id","block_id":"0868ea6c-51a2-44d6-bdf9-8c2a84ba2ad5"},"created_time":"2023-05-21T00:20:00.000Z","last_edited_time":"2023-05-21T00:20:00.000Z","created_by":{"object":"user","id":"f4f222d4-d508-405d-ba6c-da82ee26ee54"},"last_edited_by":{"object":"user","id":"f4f222d4-d508-405d-ba6c-da82ee26ee54"},"has_children":false,"archived":false,"type":"bulleted_list_item","bulleted_list_item":{"rich_text":[{"type":"text","text":{"content":"複数値の返却","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default"},"plain_text":"複数値の返却","href":null}],"color":"default"}}]},{"object":"block","id":"76315708-0ace-428e-8aeb-f65ba56632ea","parent":{"type":"page_id","page_id":"e6735cdf-159e-4c34-be00-a20927cdb7a1"},"created_time":"2023-05-21T00:20:00.000Z","last_edited_time":"2023-05-21T00:20:00.000Z","created_by":{"object":"user","id":"f4f222d4-d508-405d-ba6c-da82ee26ee54"},"last_edited_by":{"object":"user","id":"f4f222d4-d508-405d-ba6c-da82ee26ee54"},"has_children":false,"archived":false,"type":"paragraph","paragraph":{"rich_text":[{"type":"text","text":{"content":"RxJS の恩恵については、","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default"},"plain_text":"RxJS の恩恵については、","href":null},{"type":"text","text":{"content":"UserRepository","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":true,"color":"default"},"plain_text":"UserRepository","href":null},{"type":"text","text":{"content":"の層で","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default"},"plain_text":"の層で","href":null},{"type":"text","text":{"content":"fromPromise","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":true,"color":"default"},"plain_text":"fromPromise","href":null},{"type":"text","text":{"content":"関数などを使って","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default"},"plain_text":"関数などを使って","href":null},{"type":"text","text":{"content":"Observable","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":true,"color":"default"},"plain_text":"Observable","href":null},{"type":"text","text":{"content":"を返すようにすれば少しだけ解決します。 しかし Flux 的な設計をするとなると Observable なのはストアだけで良くて、fetch 自体は単発で終わるほうが扱いやすいので特に欠点ではない気もしています。","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default"},"plain_text":"を返すようにすれば少しだけ解決します。 しかし Flux 的な設計をするとなると Observable なのはストアだけで良くて、fetch 自体は単発で終わるほうが扱いやすいので特に欠点ではない気もしています。","href":null}],"color":"default"}},{"object":"block","id":"fa945e65-fbfc-4a62-b54f-c35f92ca6cd0","parent":{"type":"page_id","page_id":"e6735cdf-159e-4c34-be00-a20927cdb7a1"},"created_time":"2023-05-21T00:20:00.000Z","last_edited_time":"2023-05-21T00:20:00.000Z","created_by":{"object":"user","id":"f4f222d4-d508-405d-ba6c-da82ee26ee54"},"last_edited_by":{"object":"user","id":"f4f222d4-d508-405d-ba6c-da82ee26ee54"},"has_children":false,"archived":false,"type":"heading_2","heading_2":{"rich_text":[{"type":"text","text":{"content":"まとめ","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default"},"plain_text":"まとめ","href":null}],"is_toggleable":false,"color":"default"}},{"object":"block","id":"abddb80d-7882-44d2-9af2-026658be8ccc","parent":{"type":"page_id","page_id":"e6735cdf-159e-4c34-be00-a20927cdb7a1"},"created_time":"2023-05-21T00:20:00.000Z","last_edited_time":"2023-05-21T00:20:00.000Z","created_by":{"object":"user","id":"f4f222d4-d508-405d-ba6c-da82ee26ee54"},"last_edited_by":{"object":"user","id":"f4f222d4-d508-405d-ba6c-da82ee26ee54"},"has_children":false,"archived":false,"type":"bulleted_list_item","bulleted_list_item":{"rich_text":[{"type":"text","text":{"content":"Angular の HttpClient は必須ではない","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default"},"plain_text":"Angular の HttpClient は必須ではない","href":null}],"color":"default"}},{"object":"block","id":"c78173e3-3c3e-40f3-8efb-7c1a35bddfa7","parent":{"type":"page_id","page_id":"e6735cdf-159e-4c34-be00-a20927cdb7a1"},"created_time":"2023-05-21T00:20:00.000Z","last_edited_time":"2023-05-21T00:20:00.000Z","created_by":{"object":"user","id":"f4f222d4-d508-405d-ba6c-da82ee26ee54"},"last_edited_by":{"object":"user","id":"f4f222d4-d508-405d-ba6c-da82ee26ee54"},"has_children":false,"archived":false,"type":"bulleted_list_item","bulleted_list_item":{"rich_text":[{"type":"text","text":{"content":"axios のようなライブラリを使ってフレームワーク非依存の独自 HttpClient を作れる","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default"},"plain_text":"axios のようなライブラリを使ってフレームワーク非依存の独自 HttpClient を作れる","href":null}],"color":"default"}},{"object":"block","id":"b9e76975-ebb8-4316-9336-83a4f3abc65c","parent":{"type":"page_id","page_id":"e6735cdf-159e-4c34-be00-a20927cdb7a1"},"created_time":"2023-05-21T00:20:00.000Z","last_edited_time":"2023-05-21T00:20:00.000Z","created_by":{"object":"user","id":"f4f222d4-d508-405d-ba6c-da82ee26ee54"},"last_edited_by":{"object":"user","id":"f4f222d4-d508-405d-ba6c-da82ee26ee54"},"has_children":false,"archived":false,"type":"bulleted_list_item","bulleted_list_item":{"rich_text":[{"type":"text","text":{"content":"DI するかどうかはテストしやすさを考える","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default"},"plain_text":"DI するかどうかはテストしやすさを考える","href":null}],"color":"default"}},{"object":"block","id":"4e7b9673-21bb-4c28-99f9-aa7de47e0059","parent":{"type":"page_id","page_id":"e6735cdf-159e-4c34-be00-a20927cdb7a1"},"created_time":"2023-05-21T00:20:00.000Z","last_edited_time":"2023-05-21T00:20:00.000Z","created_by":{"object":"user","id":"f4f222d4-d508-405d-ba6c-da82ee26ee54"},"last_edited_by":{"object":"user","id":"f4f222d4-d508-405d-ba6c-da82ee26ee54"},"has_children":false,"archived":false,"type":"paragraph","paragraph":{"rich_text":[{"type":"text","text":{"content":"次回は未定です。","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default"},"plain_text":"次回は未定です。","href":null}],"color":"default"}}]