[{"object":"block","id":"759232d1-1b29-49fe-b6e8-eedcce1169b3","parent":{"type":"page_id","page_id":"5004a8f6-78b3-4281-9b4a-f575cdb1871b"},"created_time":"2023-05-21T00:19:00.000Z","last_edited_time":"2023-05-21T00:19:00.000Z","created_by":{"object":"user","id":"f4f222d4-d508-405d-ba6c-da82ee26ee54"},"last_edited_by":{"object":"user","id":"f4f222d4-d508-405d-ba6c-da82ee26ee54"},"has_children":false,"archived":false,"in_trash":false,"type":"paragraph","paragraph":{"rich_text":[{"type":"text","text":{"content":"今回は Angular2 がいかにしてオブジェクトの変更を監視し、データバインディングを解決しているのかを解き明かします。","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default"},"plain_text":"今回は Angular2 がいかにしてオブジェクトの変更を監視し、データバインディングを解決しているのかを解き明かします。","href":null}],"color":"default"}},{"object":"block","id":"66b5af34-75fe-4fd4-90da-dc65cbb76747","parent":{"type":"page_id","page_id":"5004a8f6-78b3-4281-9b4a-f575cdb1871b"},"created_time":"2023-05-21T00:19:00.000Z","last_edited_time":"2023-05-21T00:19:00.000Z","created_by":{"object":"user","id":"f4f222d4-d508-405d-ba6c-da82ee26ee54"},"last_edited_by":{"object":"user","id":"f4f222d4-d508-405d-ba6c-da82ee26ee54"},"has_children":false,"archived":false,"in_trash":false,"type":"heading_2","heading_2":{"rich_text":[{"type":"text","text":{"content":"結論","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default"},"plain_text":"結論","href":null}],"is_toggleable":false,"color":"default"}},{"object":"block","id":"de6a8e66-7bed-41d3-bbf8-e8ac65152777","parent":{"type":"page_id","page_id":"5004a8f6-78b3-4281-9b4a-f575cdb1871b"},"created_time":"2023-05-21T00:19:00.000Z","last_edited_time":"2023-05-21T00:19:00.000Z","created_by":{"object":"user","id":"f4f222d4-d508-405d-ba6c-da82ee26ee54"},"last_edited_by":{"object":"user","id":"f4f222d4-d508-405d-ba6c-da82ee26ee54"},"has_children":false,"archived":false,"in_trash":false,"type":"paragraph","paragraph":{"rich_text":[{"type":"text","text":{"content":"この部分","link":{"url":"https://github.com/angular/angular/blob/7ae23adaff2990cf6022af9792c449730d451d1d/modules/angular2/src/core/application_ref.ts#L374"}},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default"},"plain_text":"この部分","href":"https://github.com/angular/angular/blob/7ae23adaff2990cf6022af9792c449730d451d1d/modules/angular2/src/core/application_ref.ts#L374"},{"type":"text","text":{"content":"でループと tick 処理を実装していた。","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default"},"plain_text":"でループと tick 処理を実装していた。","href":null}],"color":"default"}},{"object":"block","id":"2f50081f-50a5-4f93-bec0-58616331aea8","parent":{"type":"page_id","page_id":"5004a8f6-78b3-4281-9b4a-f575cdb1871b"},"created_time":"2023-05-21T00:19:00.000Z","last_edited_time":"2023-05-21T06:07:00.000Z","created_by":{"object":"user","id":"f4f222d4-d508-405d-ba6c-da82ee26ee54"},"last_edited_by":{"object":"user","id":"f4f222d4-d508-405d-ba6c-da82ee26ee54"},"has_children":false,"archived":false,"in_trash":false,"type":"code","code":{"caption":[],"rich_text":[{"type":"text","text":{"content":"ObservableWrapper.subscribe(this._zone.onTurnDone, _ => {\n  this._zone.run(() => {\n    this.tick();\n  });\n});","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default"},"plain_text":"ObservableWrapper.subscribe(this._zone.onTurnDone, _ => {\n  this._zone.run(() => {\n    this.tick();\n  });\n});","href":null}],"language":"plain text"}},{"object":"block","id":"aa6ef83b-bbab-4552-8522-1913708afbb6","parent":{"type":"page_id","page_id":"5004a8f6-78b3-4281-9b4a-f575cdb1871b"},"created_time":"2023-05-21T00:19:00.000Z","last_edited_time":"2023-05-21T00:19:00.000Z","created_by":{"object":"user","id":"f4f222d4-d508-405d-ba6c-da82ee26ee54"},"last_edited_by":{"object":"user","id":"f4f222d4-d508-405d-ba6c-da82ee26ee54"},"has_children":false,"archived":false,"in_trash":false,"type":"heading_2","heading_2":{"rich_text":[{"type":"text","text":{"content":"調査開始","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default"},"plain_text":"調査開始","href":null}],"is_toggleable":false,"color":"default"}},{"object":"block","id":"b3caa0b0-d732-4ef8-b0c4-9854f5a3ac5a","parent":{"type":"page_id","page_id":"5004a8f6-78b3-4281-9b4a-f575cdb1871b"},"created_time":"2023-05-21T00:19:00.000Z","last_edited_time":"2023-05-21T00:19:00.000Z","created_by":{"object":"user","id":"f4f222d4-d508-405d-ba6c-da82ee26ee54"},"last_edited_by":{"object":"user","id":"f4f222d4-d508-405d-ba6c-da82ee26ee54"},"has_children":false,"archived":false,"in_trash":false,"type":"paragraph","paragraph":{"rich_text":[{"type":"text","text":{"content":"Angular2 は","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default"},"plain_text":"Angular2 は","href":null},{"type":"text","text":{"content":"$apply","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":true,"color":"default"},"plain_text":"$apply","href":null},{"type":"text","text":{"content":"がないのにどうやってオブジェクトの変更をビューに反映しているんだろう？という疑問から調査を開始。","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default"},"plain_text":"がないのにどうやってオブジェクトの変更をビューに反映しているんだろう？という疑問から調査を開始。","href":null}],"color":"default"}},{"object":"block","id":"7940814c-2b82-4829-8df7-8c24a1c05459","parent":{"type":"page_id","page_id":"5004a8f6-78b3-4281-9b4a-f575cdb1871b"},"created_time":"2023-05-21T00:19:00.000Z","last_edited_time":"2023-05-21T00:19:00.000Z","created_by":{"object":"user","id":"f4f222d4-d508-405d-ba6c-da82ee26ee54"},"last_edited_by":{"object":"user","id":"f4f222d4-d508-405d-ba6c-da82ee26ee54"},"has_children":false,"archived":false,"in_trash":false,"type":"paragraph","paragraph":{"rich_text":[{"type":"text","text":{"content":"そもそも、Component のプロパティに変更を加えたときに何かイベントが発生しているわけではない（object.Observe も Proxies も使っていない)ので、何かしらのタイミングで別のメソッドから変更があるかどうかをチェックしているはず。","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default"},"plain_text":"そもそも、Component のプロパティに変更を加えたときに何かイベントが発生しているわけではない（object.Observe も Proxies も使っていない)ので、何かしらのタイミングで別のメソッドから変更があるかどうかをチェックしているはず。","href":null}],"color":"default"}},{"object":"block","id":"d648a6f9-7c8c-4648-b07a-b48715f06466","parent":{"type":"page_id","page_id":"5004a8f6-78b3-4281-9b4a-f575cdb1871b"},"created_time":"2023-05-21T00:19:00.000Z","last_edited_time":"2023-05-21T00:19:00.000Z","created_by":{"object":"user","id":"f4f222d4-d508-405d-ba6c-da82ee26ee54"},"last_edited_by":{"object":"user","id":"f4f222d4-d508-405d-ba6c-da82ee26ee54"},"has_children":false,"archived":false,"in_trash":false,"type":"paragraph","paragraph":{"rich_text":[{"type":"text","text":{"content":"ということで変更を検知する処理を探索、AbstractChangeDetector に","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default"},"plain_text":"ということで変更を検知する処理を探索、AbstractChangeDetector に","href":null},{"type":"text","text":{"content":"detectChanges","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":true,"color":"default"},"plain_text":"detectChanges","href":null},{"type":"text","text":{"content":"メソッドを発見。","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default"},"plain_text":"メソッドを発見。","href":null}],"color":"default"}},{"object":"block","id":"db9c046e-58bf-4b6e-ac73-7f3d4dd6f274","parent":{"type":"page_id","page_id":"5004a8f6-78b3-4281-9b4a-f575cdb1871b"},"created_time":"2023-05-21T00:19:00.000Z","last_edited_time":"2023-05-21T06:07:00.000Z","created_by":{"object":"user","id":"f4f222d4-d508-405d-ba6c-da82ee26ee54"},"last_edited_by":{"object":"user","id":"f4f222d4-d508-405d-ba6c-da82ee26ee54"},"has_children":false,"archived":false,"in_trash":false,"type":"paragraph","paragraph":{"rich_text":[{"type":"text","text":{"content":"https://github.com/angular/angular/blob/fcc7ce225ec6b6abc8935c2a024941ee53dce1e6/modules/angular2/src/core/change_detection/abstract_change_detector.ts#L76","link":{"url":"https://github.com/angular/angular/blob/fcc7ce225ec6b6abc8935c2a024941ee53dce1e6/modules/angular2/src/core/change_detection/abstract_change_detector.ts#L76"}},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default"},"plain_text":"https://github.com/angular/angular/blob/fcc7ce225ec6b6abc8935c2a024941ee53dce1e6/modules/angular2/src/core/change_detection/abstract_change_detector.ts#L76","href":"https://github.com/angular/angular/blob/fcc7ce225ec6b6abc8935c2a024941ee53dce1e6/modules/angular2/src/core/change_detection/abstract_change_detector.ts#L76"},{"type":"text","text":{"content":" ","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default"},"plain_text":" ","href":null}],"color":"default"}},{"object":"block","id":"e561f46d-d782-41a8-976b-fd153cfcd1ca","parent":{"type":"page_id","page_id":"5004a8f6-78b3-4281-9b4a-f575cdb1871b"},"created_time":"2023-05-21T00:19:00.000Z","last_edited_time":"2023-05-21T00:19:00.000Z","created_by":{"object":"user","id":"f4f222d4-d508-405d-ba6c-da82ee26ee54"},"last_edited_by":{"object":"user","id":"f4f222d4-d508-405d-ba6c-da82ee26ee54"},"has_children":false,"archived":false,"in_trash":false,"type":"code","code":{"caption":[],"rich_text":[{"type":"text","text":{"content":"  detectChanges(): void { this.runDetectChanges(false); }","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default"},"plain_text":"  detectChanges(): void { this.runDetectChanges(false); }","href":null}],"language":"plain text"}},{"object":"block","id":"ca286836-59a5-443b-9947-eff089d42794","parent":{"type":"page_id","page_id":"5004a8f6-78b3-4281-9b4a-f575cdb1871b"},"created_time":"2023-05-21T00:19:00.000Z","last_edited_time":"2023-05-21T00:19:00.000Z","created_by":{"object":"user","id":"f4f222d4-d508-405d-ba6c-da82ee26ee54"},"last_edited_by":{"object":"user","id":"f4f222d4-d508-405d-ba6c-da82ee26ee54"},"has_children":false,"archived":false,"in_trash":false,"type":"paragraph","paragraph":{"rich_text":[{"type":"text","text":{"content":"このメソッドが呼ばれると、ChangeDetector が保存している状態と現在の状態を比較して、変更点をリストアップするらしい。","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default"},"plain_text":"このメソッドが呼ばれると、ChangeDetector が保存している状態と現在の状態を比較して、変更点をリストアップするらしい。","href":null}],"color":"default"}},{"object":"block","id":"76377e7f-6151-4231-803f-a77440e8e89d","parent":{"type":"page_id","page_id":"5004a8f6-78b3-4281-9b4a-f575cdb1871b"},"created_time":"2023-05-21T00:19:00.000Z","last_edited_time":"2023-05-21T00:19:00.000Z","created_by":{"object":"user","id":"f4f222d4-d508-405d-ba6c-da82ee26ee54"},"last_edited_by":{"object":"user","id":"f4f222d4-d508-405d-ba6c-da82ee26ee54"},"has_children":false,"archived":false,"in_trash":false,"type":"paragraph","paragraph":{"rich_text":[{"type":"text","text":{"content":"次にこの","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default"},"plain_text":"次にこの","href":null},{"type":"text","text":{"content":"detectChanges","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":true,"color":"default"},"plain_text":"detectChanges","href":null},{"type":"text","text":{"content":"が呼ばれている部分を探す。発見。","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default"},"plain_text":"が呼ばれている部分を探す。発見。","href":null}],"color":"default"}},{"object":"block","id":"66b52ffd-a15a-4227-8e5c-55332d8970de","parent":{"type":"page_id","page_id":"5004a8f6-78b3-4281-9b4a-f575cdb1871b"},"created_time":"2023-05-21T00:19:00.000Z","last_edited_time":"2023-05-21T06:07:00.000Z","created_by":{"object":"user","id":"f4f222d4-d508-405d-ba6c-da82ee26ee54"},"last_edited_by":{"object":"user","id":"f4f222d4-d508-405d-ba6c-da82ee26ee54"},"has_children":false,"archived":false,"in_trash":false,"type":"paragraph","paragraph":{"rich_text":[{"type":"text","text":{"content":"https://github.com/angular/angular/blob/7ae23adaff2990cf6022af9792c449730d451d1d/modules/angular2/src/core/application_ref.ts#L471","link":{"url":"https://github.com/angular/angular/blob/7ae23adaff2990cf6022af9792c449730d451d1d/modules/angular2/src/core/application_ref.ts#L471"}},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default"},"plain_text":"https://github.com/angular/angular/blob/7ae23adaff2990cf6022af9792c449730d451d1d/modules/angular2/src/core/application_ref.ts#L471","href":"https://github.com/angular/angular/blob/7ae23adaff2990cf6022af9792c449730d451d1d/modules/angular2/src/core/application_ref.ts#L471"},{"type":"text","text":{"content":" ","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default"},"plain_text":" ","href":null}],"color":"default"}},{"object":"block","id":"a713449c-191f-4b5f-99cf-b7b5b363ba6b","parent":{"type":"page_id","page_id":"5004a8f6-78b3-4281-9b4a-f575cdb1871b"},"created_time":"2023-05-21T00:19:00.000Z","last_edited_time":"2023-05-21T06:07:00.000Z","created_by":{"object":"user","id":"f4f222d4-d508-405d-ba6c-da82ee26ee54"},"last_edited_by":{"object":"user","id":"f4f222d4-d508-405d-ba6c-da82ee26ee54"},"has_children":false,"archived":false,"in_trash":false,"type":"code","code":{"caption":[],"rich_text":[{"type":"text","text":{"content":"  tick(): void {\n    if (this._runningTick) {\n      throw new BaseException(\"ApplicationRef.tick is called recursively\");\n    }\n\n    var s = ApplicationRef_._tickScope();\n    try {\n      this._runningTick = true;\n      this._changeDetectorRefs.forEach((detector) => detector.detectChanges());\n      if (this._enforceNoNewChanges) {\n        this._changeDetectorRefs.forEach((detector) => detector.checkNoChanges());\n      }\n    } finally {\n      this._runningTick = false;\n      wtfLeave(s);\n    }\n  }","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default"},"plain_text":"  tick(): void {\n    if (this._runningTick) {\n      throw new BaseException(\"ApplicationRef.tick is called recursively\");\n    }\n\n    var s = ApplicationRef_._tickScope();\n    try {\n      this._runningTick = true;\n      this._changeDetectorRefs.forEach((detector) => detector.detectChanges());\n      if (this._enforceNoNewChanges) {\n        this._changeDetectorRefs.forEach((detector) => detector.checkNoChanges());\n      }\n    } finally {\n      this._runningTick = false;\n      wtfLeave(s);\n    }\n  }","href":null}],"language":"plain text"}},{"object":"block","id":"db1b2411-b8d9-40bb-89b6-ea2c511ab7f0","parent":{"type":"page_id","page_id":"5004a8f6-78b3-4281-9b4a-f575cdb1871b"},"created_time":"2023-05-21T00:19:00.000Z","last_edited_time":"2023-05-21T00:19:00.000Z","created_by":{"object":"user","id":"f4f222d4-d508-405d-ba6c-da82ee26ee54"},"last_edited_by":{"object":"user","id":"f4f222d4-d508-405d-ba6c-da82ee26ee54"},"has_children":false,"archived":false,"in_trash":false,"type":"paragraph","paragraph":{"rich_text":[{"type":"text","text":{"content":"ApplicationRef_","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":true,"color":"default"},"plain_text":"ApplicationRef_","href":null},{"type":"text","text":{"content":"クラスの tick()メソッドの中で呼ばれていた。ざっと上から処理を追うと、","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default"},"plain_text":"クラスの tick()メソッドの中で呼ばれていた。ざっと上から処理を追うと、","href":null}],"color":"default"}},{"object":"block","id":"a1b7f871-85cf-4320-a140-c29ea932cae5","parent":{"type":"page_id","page_id":"5004a8f6-78b3-4281-9b4a-f575cdb1871b"},"created_time":"2023-05-21T00:19:00.000Z","last_edited_time":"2023-05-21T00:19:00.000Z","created_by":{"object":"user","id":"f4f222d4-d508-405d-ba6c-da82ee26ee54"},"last_edited_by":{"object":"user","id":"f4f222d4-d508-405d-ba6c-da82ee26ee54"},"has_children":false,"archived":false,"in_trash":false,"type":"numbered_list_item","numbered_list_item":{"rich_text":[{"type":"text","text":{"content":"tick が入れ子になっていないかのチェック（1ApplicationRef につき同時に走る tick は 1 つ）","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default"},"plain_text":"tick が入れ子になっていないかのチェック（1ApplicationRef につき同時に走る tick は 1 つ）","href":null}],"color":"default"}},{"object":"block","id":"f48cadfa-8144-49f9-834f-1aa9b1509534","parent":{"type":"page_id","page_id":"5004a8f6-78b3-4281-9b4a-f575cdb1871b"},"created_time":"2023-05-21T00:19:00.000Z","last_edited_time":"2023-05-21T00:19:00.000Z","created_by":{"object":"user","id":"f4f222d4-d508-405d-ba6c-da82ee26ee54"},"last_edited_by":{"object":"user","id":"f4f222d4-d508-405d-ba6c-da82ee26ee54"},"has_children":false,"archived":false,"in_trash":false,"type":"numbered_list_item","numbered_list_item":{"rich_text":[{"type":"text","text":{"content":"_tickScope","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":true,"color":"default"},"plain_text":"_tickScope","href":null},{"type":"text","text":{"content":"の呼び出し。中はプロファイリング用の処理だった。無視して OK","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default"},"plain_text":"の呼び出し。中はプロファイリング用の処理だった。無視して OK","href":null}],"color":"default"}},{"object":"block","id":"abed043c-a430-4ada-9bbd-dbcdddb4618e","parent":{"type":"page_id","page_id":"5004a8f6-78b3-4281-9b4a-f575cdb1871b"},"created_time":"2023-05-21T00:19:00.000Z","last_edited_time":"2023-05-21T00:19:00.000Z","created_by":{"object":"user","id":"f4f222d4-d508-405d-ba6c-da82ee26ee54"},"last_edited_by":{"object":"user","id":"f4f222d4-d508-405d-ba6c-da82ee26ee54"},"has_children":false,"archived":false,"in_trash":false,"type":"numbered_list_item","numbered_list_item":{"rich_text":[{"type":"text","text":{"content":"tick 処理を開始。フラグを立てる","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default"},"plain_text":"tick 処理を開始。フラグを立てる","href":null}],"color":"default"}},{"object":"block","id":"9af45679-f6f8-4a52-9662-c0b973ad5302","parent":{"type":"page_id","page_id":"5004a8f6-78b3-4281-9b4a-f575cdb1871b"},"created_time":"2023-05-21T00:19:00.000Z","last_edited_time":"2023-05-21T00:19:00.000Z","created_by":{"object":"user","id":"f4f222d4-d508-405d-ba6c-da82ee26ee54"},"last_edited_by":{"object":"user","id":"f4f222d4-d508-405d-ba6c-da82ee26ee54"},"has_children":false,"archived":false,"in_trash":false,"type":"numbered_list_item","numbered_list_item":{"rich_text":[{"type":"text","text":{"content":"ApplicationRef が持っている ChangeDetector すべてに","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default"},"plain_text":"ApplicationRef が持っている ChangeDetector すべてに","href":null},{"type":"text","text":{"content":"detectChanges","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":true,"color":"default"},"plain_text":"detectChanges","href":null},{"type":"text","text":{"content":"を実行","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default"},"plain_text":"を実行","href":null}],"color":"default"}},{"object":"block","id":"a5faa060-c995-437d-be27-4c064400d4ea","parent":{"type":"page_id","page_id":"5004a8f6-78b3-4281-9b4a-f575cdb1871b"},"created_time":"2023-05-21T00:19:00.000Z","last_edited_time":"2023-05-21T00:19:00.000Z","created_by":{"object":"user","id":"f4f222d4-d508-405d-ba6c-da82ee26ee54"},"last_edited_by":{"object":"user","id":"f4f222d4-d508-405d-ba6c-da82ee26ee54"},"has_children":false,"archived":false,"in_trash":false,"type":"numbered_list_item","numbered_list_item":{"rich_text":[{"type":"text","text":{"content":"_enforceNoNewChanges","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":true,"color":"default"},"plain_text":"_enforceNoNewChanges","href":null},{"type":"text","text":{"content":"が true ならすべての ChangeDetector を変更がなかったものとする（","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default"},"plain_text":"が true ならすべての ChangeDetector を変更がなかったものとする（","href":null},{"type":"text","text":{"content":"ngAfter**","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":true,"color":"default"},"plain_text":"ngAfter**","href":null},{"type":"text","text":{"content":"系のライフサイクルが発生しないっぽい）","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default"},"plain_text":"系のライフサイクルが発生しないっぽい）","href":null}],"color":"default"}},{"object":"block","id":"e6bc3b30-5ff2-4147-8100-6fa36aaf2d37","parent":{"type":"page_id","page_id":"5004a8f6-78b3-4281-9b4a-f575cdb1871b"},"created_time":"2023-05-21T00:19:00.000Z","last_edited_time":"2023-05-21T00:19:00.000Z","created_by":{"object":"user","id":"f4f222d4-d508-405d-ba6c-da82ee26ee54"},"last_edited_by":{"object":"user","id":"f4f222d4-d508-405d-ba6c-da82ee26ee54"},"has_children":false,"archived":false,"in_trash":false,"type":"numbered_list_item","numbered_list_item":{"rich_text":[{"type":"text","text":{"content":"tick 処理を終了。フラグを下ろす","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default"},"plain_text":"tick 処理を終了。フラグを下ろす","href":null}],"color":"default"}},{"object":"block","id":"529c711d-a799-462c-9810-917a0845999a","parent":{"type":"page_id","page_id":"5004a8f6-78b3-4281-9b4a-f575cdb1871b"},"created_time":"2023-05-21T00:19:00.000Z","last_edited_time":"2023-05-21T00:19:00.000Z","created_by":{"object":"user","id":"f4f222d4-d508-405d-ba6c-da82ee26ee54"},"last_edited_by":{"object":"user","id":"f4f222d4-d508-405d-ba6c-da82ee26ee54"},"has_children":false,"archived":false,"in_trash":false,"type":"numbered_list_item","numbered_list_item":{"rich_text":[{"type":"text","text":{"content":"プロファイリングを終了する。無視して OK","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default"},"plain_text":"プロファイリングを終了する。無視して OK","href":null}],"color":"default"}},{"object":"block","id":"75fca2cf-d9d5-449c-b90c-f2cb666b7bbb","parent":{"type":"page_id","page_id":"5004a8f6-78b3-4281-9b4a-f575cdb1871b"},"created_time":"2023-05-21T00:19:00.000Z","last_edited_time":"2023-05-21T00:19:00.000Z","created_by":{"object":"user","id":"f4f222d4-d508-405d-ba6c-da82ee26ee54"},"last_edited_by":{"object":"user","id":"f4f222d4-d508-405d-ba6c-da82ee26ee54"},"has_children":false,"archived":false,"in_trash":false,"type":"paragraph","paragraph":{"rich_text":[{"type":"text","text":{"content":"アプリケーション全体のデータバインディングを解決するメソッドが分かった。これが AngularJS の$digest ループ相当のものらしい。あとはこれが呼ばれている場所がわかればいい。","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default"},"plain_text":"アプリケーション全体のデータバインディングを解決するメソッドが分かった。これが AngularJS の$digest ループ相当のものらしい。あとはこれが呼ばれている場所がわかればいい。","href":null}],"color":"default"}},{"object":"block","id":"c680862e-4926-4eeb-bfab-e3e4de98702d","parent":{"type":"page_id","page_id":"5004a8f6-78b3-4281-9b4a-f575cdb1871b"},"created_time":"2023-05-21T00:19:00.000Z","last_edited_time":"2023-05-21T00:19:00.000Z","created_by":{"object":"user","id":"f4f222d4-d508-405d-ba6c-da82ee26ee54"},"last_edited_by":{"object":"user","id":"f4f222d4-d508-405d-ba6c-da82ee26ee54"},"has_children":false,"archived":false,"in_trash":false,"type":"paragraph","paragraph":{"rich_text":[{"type":"text","text":{"content":"というわけで tick()を呼び出している部分を探索、発見。","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default"},"plain_text":"というわけで tick()を呼び出している部分を探索、発見。","href":null}],"color":"default"}},{"object":"block","id":"dde4fb6a-14d6-4ae6-82aa-20901af6e2e9","parent":{"type":"page_id","page_id":"5004a8f6-78b3-4281-9b4a-f575cdb1871b"},"created_time":"2023-05-21T00:19:00.000Z","last_edited_time":"2023-05-21T06:07:00.000Z","created_by":{"object":"user","id":"f4f222d4-d508-405d-ba6c-da82ee26ee54"},"last_edited_by":{"object":"user","id":"f4f222d4-d508-405d-ba6c-da82ee26ee54"},"has_children":false,"archived":false,"in_trash":false,"type":"paragraph","paragraph":{"rich_text":[{"type":"text","text":{"content":"https://github.com/angular/angular/blob/7ae23adaff2990cf6022af9792c449730d451d1d/modules/angular2/src/core/application_ref.ts#L374","link":{"url":"https://github.com/angular/angular/blob/7ae23adaff2990cf6022af9792c449730d451d1d/modules/angular2/src/core/application_ref.ts#L374"}},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default"},"plain_text":"https://github.com/angular/angular/blob/7ae23adaff2990cf6022af9792c449730d451d1d/modules/angular2/src/core/application_ref.ts#L374","href":"https://github.com/angular/angular/blob/7ae23adaff2990cf6022af9792c449730d451d1d/modules/angular2/src/core/application_ref.ts#L374"},{"type":"text","text":{"content":" ","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default"},"plain_text":" ","href":null}],"color":"default"}},{"object":"block","id":"b622a171-ebf9-4204-8fb5-258fa8a559b6","parent":{"type":"page_id","page_id":"5004a8f6-78b3-4281-9b4a-f575cdb1871b"},"created_time":"2023-05-21T00:19:00.000Z","last_edited_time":"2023-05-21T06:07:00.000Z","created_by":{"object":"user","id":"f4f222d4-d508-405d-ba6c-da82ee26ee54"},"last_edited_by":{"object":"user","id":"f4f222d4-d508-405d-ba6c-da82ee26ee54"},"has_children":false,"archived":false,"in_trash":false,"type":"code","code":{"caption":[],"rich_text":[{"type":"text","text":{"content":"constructor(private _platform: PlatformRef_, private _zone: NgZone, private _injector: Injector) {\n    super();\n    if (isPresent(this._zone)) {\n      ObservableWrapper.subscribe(this._zone.onTurnDone,\n                                  (_) => { this._zone.run(() => { this.tick(); }); });\n    }\n    this._enforceNoNewChanges = assertionsEnabled();\n  }","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default"},"plain_text":"constructor(private _platform: PlatformRef_, private _zone: NgZone, private _injector: Injector) {\n    super();\n    if (isPresent(this._zone)) {\n      ObservableWrapper.subscribe(this._zone.onTurnDone,\n                                  (_) => { this._zone.run(() => { this.tick(); }); });\n    }\n    this._enforceNoNewChanges = assertionsEnabled();\n  }","href":null}],"language":"plain text"}},{"object":"block","id":"09d3daad-47f1-475e-aa91-3eb889b954f7","parent":{"type":"page_id","page_id":"5004a8f6-78b3-4281-9b4a-f575cdb1871b"},"created_time":"2023-05-21T00:19:00.000Z","last_edited_time":"2023-05-21T00:19:00.000Z","created_by":{"object":"user","id":"f4f222d4-d508-405d-ba6c-da82ee26ee54"},"last_edited_by":{"object":"user","id":"f4f222d4-d508-405d-ba6c-da82ee26ee54"},"has_children":false,"archived":false,"in_trash":false,"type":"paragraph","paragraph":{"rich_text":[{"type":"text","text":{"content":"ApplicationRef_","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":true,"color":"default"},"plain_text":"ApplicationRef_","href":null},{"type":"text","text":{"content":"のコンストラクタである。bootstrap 関数によってアプリケーションの開始時に一度だけ呼ばれる部分。当たり前といえば当たり前である。","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default"},"plain_text":"のコンストラクタである。bootstrap 関数によってアプリケーションの開始時に一度だけ呼ばれる部分。当たり前といえば当たり前である。","href":null}],"color":"default"}},{"object":"block","id":"e40ea29d-160a-475f-9f0c-a44543b81a00","parent":{"type":"page_id","page_id":"5004a8f6-78b3-4281-9b4a-f575cdb1871b"},"created_time":"2023-05-21T00:19:00.000Z","last_edited_time":"2023-05-21T00:19:00.000Z","created_by":{"object":"user","id":"f4f222d4-d508-405d-ba6c-da82ee26ee54"},"last_edited_by":{"object":"user","id":"f4f222d4-d508-405d-ba6c-da82ee26ee54"},"has_children":false,"archived":false,"in_trash":false,"type":"paragraph","paragraph":{"rich_text":[{"type":"text","text":{"content":"とはいえ初見ではこれが tick ループの実装だとはわからないと思うので、ひとつずつ解説する。","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default"},"plain_text":"とはいえ初見ではこれが tick ループの実装だとはわからないと思うので、ひとつずつ解説する。","href":null}],"color":"default"}},{"object":"block","id":"9a7b3b32-704a-4218-864b-1283ad71e9cb","parent":{"type":"page_id","page_id":"5004a8f6-78b3-4281-9b4a-f575cdb1871b"},"created_time":"2023-05-21T00:19:00.000Z","last_edited_time":"2023-05-21T00:19:00.000Z","created_by":{"object":"user","id":"f4f222d4-d508-405d-ba6c-da82ee26ee54"},"last_edited_by":{"object":"user","id":"f4f222d4-d508-405d-ba6c-da82ee26ee54"},"has_children":false,"archived":false,"in_trash":false,"type":"heading_3","heading_3":{"rich_text":[{"type":"text","text":{"content":"ObservableWrapper.subscribe","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":true,"color":"default"},"plain_text":"ObservableWrapper.subscribe","href":null}],"is_toggleable":false,"color":"default"}},{"object":"block","id":"1ba72e1a-0ffa-4f01-86e1-47b9b4ef704a","parent":{"type":"page_id","page_id":"5004a8f6-78b3-4281-9b4a-f575cdb1871b"},"created_time":"2023-05-21T00:19:00.000Z","last_edited_time":"2023-05-21T00:19:00.000Z","created_by":{"object":"user","id":"f4f222d4-d508-405d-ba6c-da82ee26ee54"},"last_edited_by":{"object":"user","id":"f4f222d4-d508-405d-ba6c-da82ee26ee54"},"has_children":false,"archived":false,"in_trash":false,"type":"paragraph","paragraph":{"rich_text":[{"type":"text","text":{"content":"ObservableWrapper の実装はこれ ","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default"},"plain_text":"ObservableWrapper の実装はこれ ","href":null},{"type":"text","text":{"content":"class ObservableWrapper","link":{"url":"https://github.com/angular/angular/blob/fcc7ce225ec6b6abc8935c2a024941ee53dce1e6/modules/angular2/src/facade/async.ts#L26"}},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default"},"plain_text":"class ObservableWrapper","href":"https://github.com/angular/angular/blob/fcc7ce225ec6b6abc8935c2a024941ee53dce1e6/modules/angular2/src/facade/async.ts#L26"}],"color":"default"}},{"object":"block","id":"85eee6ef-7c15-478c-a5ba-9e3fb8308c32","parent":{"type":"page_id","page_id":"5004a8f6-78b3-4281-9b4a-f575cdb1871b"},"created_time":"2023-05-21T00:19:00.000Z","last_edited_time":"2023-05-21T00:19:00.000Z","created_by":{"object":"user","id":"f4f222d4-d508-405d-ba6c-da82ee26ee54"},"last_edited_by":{"object":"user","id":"f4f222d4-d508-405d-ba6c-da82ee26ee54"},"has_children":false,"archived":false,"in_trash":false,"type":"paragraph","paragraph":{"rich_text":[{"type":"text","text":{"content":"RxJS の Observable をラップし、EventEmitter と協調するための Angular2 用の非同期処理用便利クラスである。Observable の処理を Wrapper の static メソッドで行うことができるので RxJS を隠蔽できる。","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default"},"plain_text":"RxJS の Observable をラップし、EventEmitter と協調するための Angular2 用の非同期処理用便利クラスである。Observable の処理を Wrapper の static メソッドで行うことができるので RxJS を隠蔽できる。","href":null}],"color":"default"}},{"object":"block","id":"fa39430c-fc88-4342-b74a-7414f1bb1973","parent":{"type":"page_id","page_id":"5004a8f6-78b3-4281-9b4a-f575cdb1871b"},"created_time":"2023-05-21T00:19:00.000Z","last_edited_time":"2023-05-21T00:19:00.000Z","created_by":{"object":"user","id":"f4f222d4-d508-405d-ba6c-da82ee26ee54"},"last_edited_by":{"object":"user","id":"f4f222d4-d508-405d-ba6c-da82ee26ee54"},"has_children":false,"archived":false,"in_trash":false,"type":"paragraph","paragraph":{"rich_text":[{"type":"text","text":{"content":"subscribe","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":true,"color":"default"},"plain_text":"subscribe","href":null},{"type":"text","text":{"content":"メソッドは、第 1 引数に渡された EventEmitter のイベントが発行されるたびに第 2 引数の関数が実行される。","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default"},"plain_text":"メソッドは、第 1 引数に渡された EventEmitter のイベントが発行されるたびに第 2 引数の関数が実行される。","href":null}],"color":"default"}},{"object":"block","id":"b6b41450-1eb7-4a4f-a4cd-a5aeeda6db28","parent":{"type":"page_id","page_id":"5004a8f6-78b3-4281-9b4a-f575cdb1871b"},"created_time":"2023-05-21T00:19:00.000Z","last_edited_time":"2023-05-21T00:19:00.000Z","created_by":{"object":"user","id":"f4f222d4-d508-405d-ba6c-da82ee26ee54"},"last_edited_by":{"object":"user","id":"f4f222d4-d508-405d-ba6c-da82ee26ee54"},"has_children":false,"archived":false,"in_trash":false,"type":"heading_3","heading_3":{"rich_text":[{"type":"text","text":{"content":"this._zone.onTurnDown","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":true,"color":"default"},"plain_text":"this._zone.onTurnDown","href":null}],"is_toggleable":false,"color":"default"}},{"object":"block","id":"3471f518-14fe-4043-9957-ad2fac97b80e","parent":{"type":"page_id","page_id":"5004a8f6-78b3-4281-9b4a-f575cdb1871b"},"created_time":"2023-05-21T00:19:00.000Z","last_edited_time":"2023-05-21T00:19:00.000Z","created_by":{"object":"user","id":"f4f222d4-d508-405d-ba6c-da82ee26ee54"},"last_edited_by":{"object":"user","id":"f4f222d4-d508-405d-ba6c-da82ee26ee54"},"has_children":false,"archived":false,"in_trash":false,"type":"paragraph","paragraph":{"rich_text":[{"type":"text","text":{"content":"subscribe の第 1 引数に渡されたこれは前述のとおり EventEmitter である。つまり、このイベントが発火されるたびに第 2 引数の処理が走る。","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default"},"plain_text":"subscribe の第 1 引数に渡されたこれは前述のとおり EventEmitter である。つまり、このイベントが発火されるたびに第 2 引数の処理が走る。","href":null}],"color":"default"}},{"object":"block","id":"d81e3e34-793a-49db-adb1-08826a85ece4","parent":{"type":"page_id","page_id":"5004a8f6-78b3-4281-9b4a-f575cdb1871b"},"created_time":"2023-05-21T00:19:00.000Z","last_edited_time":"2023-05-21T00:19:00.000Z","created_by":{"object":"user","id":"f4f222d4-d508-405d-ba6c-da82ee26ee54"},"last_edited_by":{"object":"user","id":"f4f222d4-d508-405d-ba6c-da82ee26ee54"},"has_children":false,"archived":false,"in_trash":false,"type":"paragraph","paragraph":{"rich_text":[{"type":"text","text":{"content":"this._zone","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":true,"color":"default"},"plain_text":"this._zone","href":null},{"type":"text","text":{"content":"の型は","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default"},"plain_text":"の型は","href":null},{"type":"text","text":{"content":"NgZone","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":true,"color":"default"},"plain_text":"NgZone","href":null},{"type":"text","text":{"content":"だが、これは Zone.js の Zone を拡張した Angular2 用の Zone である。","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default"},"plain_text":"だが、これは Zone.js の Zone を拡張した Angular2 用の Zone である。","href":null}],"color":"default"}},{"object":"block","id":"5b859fc2-1f57-4508-b9db-ce1b6d709c2b","parent":{"type":"page_id","page_id":"5004a8f6-78b3-4281-9b4a-f575cdb1871b"},"created_time":"2023-05-21T00:19:00.000Z","last_edited_time":"2023-05-21T00:19:00.000Z","created_by":{"object":"user","id":"f4f222d4-d508-405d-ba6c-da82ee26ee54"},"last_edited_by":{"object":"user","id":"f4f222d4-d508-405d-ba6c-da82ee26ee54"},"has_children":false,"archived":false,"in_trash":false,"type":"paragraph","paragraph":{"rich_text":[{"type":"text","text":{"content":"class NgZone","link":{"url":"https://github.com/angular/angular/blob/fcc7ce225ec6b6abc8935c2a024941ee53dce1e6/modules/angular2/src/core/zone/ng_zone.ts#L92"}},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default"},"plain_text":"class NgZone","href":"https://github.com/angular/angular/blob/fcc7ce225ec6b6abc8935c2a024941ee53dce1e6/modules/angular2/src/core/zone/ng_zone.ts#L92"}],"color":"default"}},{"object":"block","id":"08b0193b-9bd3-4e2a-a470-1312baa18913","parent":{"type":"page_id","page_id":"5004a8f6-78b3-4281-9b4a-f575cdb1871b"},"created_time":"2023-05-21T00:19:00.000Z","last_edited_time":"2023-05-21T00:19:00.000Z","created_by":{"object":"user","id":"f4f222d4-d508-405d-ba6c-da82ee26ee54"},"last_edited_by":{"object":"user","id":"f4f222d4-d508-405d-ba6c-da82ee26ee54"},"has_children":false,"archived":false,"in_trash":false,"type":"paragraph","paragraph":{"rich_text":[{"type":"text","text":{"content":"どのように拡張しているかというと、 Zone の","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default"},"plain_text":"どのように拡張しているかというと、 Zone の","href":null},{"type":"text","text":{"content":"run","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":true,"color":"default"},"plain_text":"run","href":null},{"type":"text","text":{"content":"が実行されるたびに自身の","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default"},"plain_text":"が実行されるたびに自身の","href":null},{"type":"text","text":{"content":"onTurnStart","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":true,"color":"default"},"plain_text":"onTurnStart","href":null},{"type":"text","text":{"content":"を発火し、処理が終了すると","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default"},"plain_text":"を発火し、処理が終了すると","href":null},{"type":"text","text":{"content":"onTurnDone","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":true,"color":"default"},"plain_text":"onTurnDone","href":null},{"type":"text","text":{"content":"を発火するようになっている。","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default"},"plain_text":"を発火するようになっている。","href":null}],"color":"default"}},{"object":"block","id":"51170018-75e7-4756-9ec6-3fe3dfb16e37","parent":{"type":"page_id","page_id":"5004a8f6-78b3-4281-9b4a-f575cdb1871b"},"created_time":"2023-05-21T00:19:00.000Z","last_edited_time":"2023-05-21T00:19:00.000Z","created_by":{"object":"user","id":"f4f222d4-d508-405d-ba6c-da82ee26ee54"},"last_edited_by":{"object":"user","id":"f4f222d4-d508-405d-ba6c-da82ee26ee54"},"has_children":false,"archived":false,"in_trash":false,"type":"paragraph","paragraph":{"rich_text":[{"type":"text","text":{"content":"このソース","link":{"url":"https://github.com/angular/angular/blob/fcc7ce225ec6b6abc8935c2a024941ee53dce1e6/modules/angular2/src/core/zone/ng_zone.ts#L352"}},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default"},"plain_text":"このソース","href":"https://github.com/angular/angular/blob/fcc7ce225ec6b6abc8935c2a024941ee53dce1e6/modules/angular2/src/core/zone/ng_zone.ts#L352"},{"type":"text","text":{"content":"にある","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default"},"plain_text":"にある","href":null},{"type":"text","text":{"content":"_notifyOnTurnStart","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":true,"color":"default"},"plain_text":"_notifyOnTurnStart","href":null},{"type":"text","text":{"content":"と","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default"},"plain_text":"と","href":null},{"type":"text","text":{"content":"_notifyOnTurnDone","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":true,"color":"default"},"plain_text":"_notifyOnTurnDone","href":null},{"type":"text","text":{"content":"がそれである。","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default"},"plain_text":"がそれである。","href":null}],"color":"default"}},{"object":"block","id":"b1cb4916-8d6d-424a-a5db-c81d44104986","parent":{"type":"page_id","page_id":"5004a8f6-78b3-4281-9b4a-f575cdb1871b"},"created_time":"2023-05-21T00:19:00.000Z","last_edited_time":"2023-05-21T00:19:00.000Z","created_by":{"object":"user","id":"f4f222d4-d508-405d-ba6c-da82ee26ee54"},"last_edited_by":{"object":"user","id":"f4f222d4-d508-405d-ba6c-da82ee26ee54"},"has_children":false,"archived":false,"in_trash":false,"type":"heading_3","heading_3":{"rich_text":[{"type":"text","text":{"content":"this._zone.run(() => { this.tick(); }","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":true,"color":"default"},"plain_text":"this._zone.run(() => { this.tick(); }","href":null}],"is_toggleable":false,"color":"default"}},{"object":"block","id":"c33fb9ad-94bc-4be7-8664-d3afcc13bce3","parent":{"type":"page_id","page_id":"5004a8f6-78b3-4281-9b4a-f575cdb1871b"},"created_time":"2023-05-21T00:19:00.000Z","last_edited_time":"2023-05-21T00:19:00.000Z","created_by":{"object":"user","id":"f4f222d4-d508-405d-ba6c-da82ee26ee54"},"last_edited_by":{"object":"user","id":"f4f222d4-d508-405d-ba6c-da82ee26ee54"},"has_children":false,"archived":false,"in_trash":false,"type":"paragraph","paragraph":{"rich_text":[{"type":"text","text":{"content":"これは ApplicationRef が持っている Zone 中で tick 処理を行っているだけである。Zone については本稿では扱わないが、複数の非同期処理をグループ化し、コンテキストを共有したもののように思ってもらえればよい。同じ Zone 内で起きたエラーを一括でハンドルしたり、非同期のスタックトレースを取得できたりする。","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default"},"plain_text":"これは ApplicationRef が持っている Zone 中で tick 処理を行っているだけである。Zone については本稿では扱わないが、複数の非同期処理をグループ化し、コンテキストを共有したもののように思ってもらえればよい。同じ Zone 内で起きたエラーを一括でハンドルしたり、非同期のスタックトレースを取得できたりする。","href":null}],"color":"default"}},{"object":"block","id":"a868c949-399f-4f14-819c-5815a2b7a81b","parent":{"type":"page_id","page_id":"5004a8f6-78b3-4281-9b4a-f575cdb1871b"},"created_time":"2023-05-21T00:19:00.000Z","last_edited_time":"2023-05-21T00:19:00.000Z","created_by":{"object":"user","id":"f4f222d4-d508-405d-ba6c-da82ee26ee54"},"last_edited_by":{"object":"user","id":"f4f222d4-d508-405d-ba6c-da82ee26ee54"},"has_children":false,"archived":false,"in_trash":false,"type":"paragraph","paragraph":{"rich_text":[{"type":"text","text":{"content":"angular/zone.js: Implements Zones for JavaScript","link":{"url":"https://github.com/angular/zone.js/"}},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default"},"plain_text":"angular/zone.js: Implements Zones for JavaScript","href":"https://github.com/angular/zone.js/"}],"color":"default"}},{"object":"block","id":"f6a4964a-4a19-459e-84f6-d31e77a65604","parent":{"type":"page_id","page_id":"5004a8f6-78b3-4281-9b4a-f575cdb1871b"},"created_time":"2023-05-21T00:19:00.000Z","last_edited_time":"2023-05-21T00:19:00.000Z","created_by":{"object":"user","id":"f4f222d4-d508-405d-ba6c-da82ee26ee54"},"last_edited_by":{"object":"user","id":"f4f222d4-d508-405d-ba6c-da82ee26ee54"},"has_children":false,"archived":false,"in_trash":false,"type":"paragraph","paragraph":{"rich_text":[{"type":"text","text":{"content":"これですべての謎が解けた。まとめると以下のようになる。","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default"},"plain_text":"これですべての謎が解けた。まとめると以下のようになる。","href":null}],"color":"default"}},{"object":"block","id":"0c6e01e9-133b-42a4-bd79-2e940da38abc","parent":{"type":"page_id","page_id":"5004a8f6-78b3-4281-9b4a-f575cdb1871b"},"created_time":"2023-05-21T00:19:00.000Z","last_edited_time":"2023-05-21T00:19:00.000Z","created_by":{"object":"user","id":"f4f222d4-d508-405d-ba6c-da82ee26ee54"},"last_edited_by":{"object":"user","id":"f4f222d4-d508-405d-ba6c-da82ee26ee54"},"has_children":false,"archived":false,"in_trash":false,"type":"numbered_list_item","numbered_list_item":{"rich_text":[{"type":"text","text":{"content":"ApplicationRef が作成される（bootstrap 関数の中で作られる）","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default"},"plain_text":"ApplicationRef が作成される（bootstrap 関数の中で作られる）","href":null}],"color":"default"}},{"object":"block","id":"04fc6a1f-b4e3-4d26-bde4-4796db535e15","parent":{"type":"page_id","page_id":"5004a8f6-78b3-4281-9b4a-f575cdb1871b"},"created_time":"2023-05-21T00:19:00.000Z","last_edited_time":"2023-05-21T00:19:00.000Z","created_by":{"object":"user","id":"f4f222d4-d508-405d-ba6c-da82ee26ee54"},"last_edited_by":{"object":"user","id":"f4f222d4-d508-405d-ba6c-da82ee26ee54"},"has_children":false,"archived":false,"in_trash":false,"type":"numbered_list_item","numbered_list_item":{"rich_text":[{"type":"text","text":{"content":"Application の NgZone が作成され、tick ループが作られる","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default"},"plain_text":"Application の NgZone が作成され、tick ループが作られる","href":null}],"color":"default"}},{"object":"block","id":"c8350645-46d2-4879-b743-5d551b609c07","parent":{"type":"page_id","page_id":"5004a8f6-78b3-4281-9b4a-f575cdb1871b"},"created_time":"2023-05-21T00:19:00.000Z","last_edited_time":"2023-05-21T00:19:00.000Z","created_by":{"object":"user","id":"f4f222d4-d508-405d-ba6c-da82ee26ee54"},"last_edited_by":{"object":"user","id":"f4f222d4-d508-405d-ba6c-da82ee26ee54"},"has_children":false,"archived":false,"in_trash":false,"type":"numbered_list_item","numbered_list_item":{"rich_text":[{"type":"text","text":{"content":"各 Component が自身の ChangeDetector を Application に登録する（これはコンポーネントツリー構築時にされている）","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default"},"plain_text":"各 Component が自身の ChangeDetector を Application に登録する（これはコンポーネントツリー構築時にされている）","href":null}],"color":"default"}},{"object":"block","id":"b24d11b4-183f-4c3b-9f4e-13f017c3cff6","parent":{"type":"page_id","page_id":"5004a8f6-78b3-4281-9b4a-f575cdb1871b"},"created_time":"2023-05-21T00:19:00.000Z","last_edited_time":"2023-05-21T00:19:00.000Z","created_by":{"object":"user","id":"f4f222d4-d508-405d-ba6c-da82ee26ee54"},"last_edited_by":{"object":"user","id":"f4f222d4-d508-405d-ba6c-da82ee26ee54"},"has_children":false,"archived":false,"in_trash":false,"type":"numbered_list_item","numbered_list_item":{"rich_text":[{"type":"text","text":{"content":"tick が呼ばれる","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default"},"plain_text":"tick が呼ばれる","href":null}],"color":"default"}},{"object":"block","id":"78eb1e1b-2be9-4889-870e-0adb6e2ca9ac","parent":{"type":"page_id","page_id":"5004a8f6-78b3-4281-9b4a-f575cdb1871b"},"created_time":"2023-05-21T00:19:00.000Z","last_edited_time":"2023-05-21T00:19:00.000Z","created_by":{"object":"user","id":"f4f222d4-d508-405d-ba6c-da82ee26ee54"},"last_edited_by":{"object":"user","id":"f4f222d4-d508-405d-ba6c-da82ee26ee54"},"has_children":false,"archived":false,"in_trash":false,"type":"numbered_list_item","numbered_list_item":{"rich_text":[{"type":"text","text":{"content":"すべての ChangeDetector が変更チェックし、データバインディングを解決する","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default"},"plain_text":"すべての ChangeDetector が変更チェックし、データバインディングを解決する","href":null}],"color":"default"}},{"object":"block","id":"af68cf3a-5cfe-481a-a797-8811f392d962","parent":{"type":"page_id","page_id":"5004a8f6-78b3-4281-9b4a-f575cdb1871b"},"created_time":"2023-05-21T00:19:00.000Z","last_edited_time":"2023-05-21T00:19:00.000Z","created_by":{"object":"user","id":"f4f222d4-d508-405d-ba6c-da82ee26ee54"},"last_edited_by":{"object":"user","id":"f4f222d4-d508-405d-ba6c-da82ee26ee54"},"has_children":false,"archived":false,"in_trash":false,"type":"numbered_list_item","numbered_list_item":{"rich_text":[{"type":"text","text":{"content":"tick 処理が終わると","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default"},"plain_text":"tick 処理が終わると","href":null},{"type":"text","text":{"content":"onTurnDone","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":true,"color":"default"},"plain_text":"onTurnDone","href":null},{"type":"text","text":{"content":"イベントが発火する","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default"},"plain_text":"イベントが発火する","href":null}],"color":"default"}},{"object":"block","id":"3ac5c79c-7e21-461b-a9c9-13c9f4e34d80","parent":{"type":"page_id","page_id":"5004a8f6-78b3-4281-9b4a-f575cdb1871b"},"created_time":"2023-05-21T00:19:00.000Z","last_edited_time":"2023-05-21T00:19:00.000Z","created_by":{"object":"user","id":"f4f222d4-d508-405d-ba6c-da82ee26ee54"},"last_edited_by":{"object":"user","id":"f4f222d4-d508-405d-ba6c-da82ee26ee54"},"has_children":false,"archived":false,"in_trash":false,"type":"numbered_list_item","numbered_list_item":{"rich_text":[{"type":"text","text":{"content":"onTurnDone","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":true,"color":"default"},"plain_text":"onTurnDone","href":null},{"type":"text","text":{"content":"イベントを受けて tick を実行する","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default"},"plain_text":"イベントを受けて tick を実行する","href":null}],"color":"default"}},{"object":"block","id":"0baa91f5-e50c-4616-b030-e60bb714f77f","parent":{"type":"page_id","page_id":"5004a8f6-78b3-4281-9b4a-f575cdb1871b"},"created_time":"2023-05-21T00:19:00.000Z","last_edited_time":"2023-05-21T00:19:00.000Z","created_by":{"object":"user","id":"f4f222d4-d508-405d-ba6c-da82ee26ee54"},"last_edited_by":{"object":"user","id":"f4f222d4-d508-405d-ba6c-da82ee26ee54"},"has_children":false,"archived":false,"in_trash":false,"type":"numbered_list_item","numbered_list_item":{"rich_text":[{"type":"text","text":{"content":"4 に戻る","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default"},"plain_text":"4 に戻る","href":null}],"color":"default"}},{"object":"block","id":"9c9f4734-4e47-4906-9202-47b532a5f85d","parent":{"type":"page_id","page_id":"5004a8f6-78b3-4281-9b4a-f575cdb1871b"},"created_time":"2023-05-21T00:19:00.000Z","last_edited_time":"2023-05-21T00:19:00.000Z","created_by":{"object":"user","id":"f4f222d4-d508-405d-ba6c-da82ee26ee54"},"last_edited_by":{"object":"user","id":"f4f222d4-d508-405d-ba6c-da82ee26ee54"},"has_children":false,"archived":false,"in_trash":false,"type":"paragraph","paragraph":{"rich_text":[{"type":"text","text":{"content":"イベントドリブンな再帰ループ？とでも言うのだろうか。ともかくこういう仕組みで動いている。setInterval とかではない。","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default"},"plain_text":"イベントドリブンな再帰ループ？とでも言うのだろうか。ともかくこういう仕組みで動いている。setInterval とかではない。","href":null}],"color":"default"}},{"object":"block","id":"58f2ca11-90a6-4f36-a0e0-7af492ac2e57","parent":{"type":"page_id","page_id":"5004a8f6-78b3-4281-9b4a-f575cdb1871b"},"created_time":"2023-05-21T00:19:00.000Z","last_edited_time":"2023-05-21T00:19:00.000Z","created_by":{"object":"user","id":"f4f222d4-d508-405d-ba6c-da82ee26ee54"},"last_edited_by":{"object":"user","id":"f4f222d4-d508-405d-ba6c-da82ee26ee54"},"has_children":false,"archived":false,"in_trash":false,"type":"heading_2","heading_2":{"rich_text":[{"type":"text","text":{"content":"所感","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default"},"plain_text":"所感","href":null}],"is_toggleable":false,"color":"default"}},{"object":"block","id":"8685946e-e69c-407d-a884-4c78bc4de5ff","parent":{"type":"page_id","page_id":"5004a8f6-78b3-4281-9b4a-f575cdb1871b"},"created_time":"2023-05-21T00:19:00.000Z","last_edited_time":"2023-05-21T00:19:00.000Z","created_by":{"object":"user","id":"f4f222d4-d508-405d-ba6c-da82ee26ee54"},"last_edited_by":{"object":"user","id":"f4f222d4-d508-405d-ba6c-da82ee26ee54"},"has_children":false,"archived":false,"in_trash":false,"type":"paragraph","paragraph":{"rich_text":[{"type":"text","text":{"content":"RxJS と Zone.js との合わせ技だが、わかってしまえばシンプルだった。ちなみに処理の追跡は全部 GitHub 上で出来たので楽だった。","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default"},"plain_text":"RxJS と Zone.js との合わせ技だが、わかってしまえばシンプルだった。ちなみに処理の追跡は全部 GitHub 上で出来たので楽だった。","href":null}],"color":"default"}},{"object":"block","id":"dde0522b-1976-4c0f-b1c3-b0b74df26991","parent":{"type":"page_id","page_id":"5004a8f6-78b3-4281-9b4a-f575cdb1871b"},"created_time":"2023-05-21T00:19:00.000Z","last_edited_time":"2023-05-21T00:19:00.000Z","created_by":{"object":"user","id":"f4f222d4-d508-405d-ba6c-da82ee26ee54"},"last_edited_by":{"object":"user","id":"f4f222d4-d508-405d-ba6c-da82ee26ee54"},"has_children":false,"archived":false,"in_trash":false,"type":"paragraph","paragraph":{"rich_text":[{"type":"text","text":{"content":"Zone.js についてはまた後日記事を書こうと思う。","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default"},"plain_text":"Zone.js についてはまた後日記事を書こうと思う。","href":null}],"color":"default"}}]