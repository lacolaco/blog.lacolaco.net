[{"object":"block","id":"63125950-e749-432c-8238-9085c891f56c","parent":{"type":"page_id","page_id":"d98e8a7e-9853-4346-b12b-cc4bec8a0cb7"},"created_time":"2023-05-21T00:20:00.000Z","last_edited_time":"2023-05-21T00:20:00.000Z","created_by":{"object":"user","id":"f4f222d4-d508-405d-ba6c-da82ee26ee54"},"last_edited_by":{"object":"user","id":"f4f222d4-d508-405d-ba6c-da82ee26ee54"},"has_children":false,"archived":false,"in_trash":false,"type":"paragraph","paragraph":{"rich_text":[{"type":"text","text":{"content":"Web Workers","link":{"url":"https://developer.mozilla.org/en-US/docs/Web/API/Web_Workers_API/Using_web_workers"}},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default"},"plain_text":"Web Workers","href":"https://developer.mozilla.org/en-US/docs/Web/API/Web_Workers_API/Using_web_workers"},{"type":"text","text":{"content":" have attracted the attention as one of the most important things of web development. ","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default"},"plain_text":" have attracted the attention as one of the most important things of web development. ","href":null},{"type":"text","text":{"content":"Comlink","link":{"url":"https://github.com/GoogleChromeLabs/comlink"}},"annotations":{"bold":true,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default"},"plain_text":"Comlink","href":"https://github.com/GoogleChromeLabs/comlink"},{"type":"text","text":{"content":" is a JavaScript library created by Google Chrome team to ","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default"},"plain_text":" is a JavaScript library created by Google Chrome team to ","href":null},{"type":"text","text":{"content":"make WebWorkers enjoyable","link":null},"annotations":{"bold":true,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default"},"plain_text":"make WebWorkers enjoyable","href":null},{"type":"text","text":{"content":". It provides an easy way to communicate with classes defined in Worker-side.","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default"},"plain_text":". It provides an easy way to communicate with classes defined in Worker-side.","href":null}],"color":"default"}},{"object":"block","id":"1dda1db9-482a-407e-8ef3-9138e1cab1b5","parent":{"type":"page_id","page_id":"d98e8a7e-9853-4346-b12b-cc4bec8a0cb7"},"created_time":"2023-05-21T00:20:00.000Z","last_edited_time":"2023-05-21T00:20:00.000Z","created_by":{"object":"user","id":"f4f222d4-d508-405d-ba6c-da82ee26ee54"},"last_edited_by":{"object":"user","id":"f4f222d4-d508-405d-ba6c-da82ee26ee54"},"has_children":false,"archived":false,"in_trash":false,"type":"paragraph","paragraph":{"rich_text":[{"type":"text","text":{"content":"This post explains how to integrate Comlink with your Angular application that created by Angular CLI. By using Comlink, You will be able to move away heavy processing ","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default"},"plain_text":"This post explains how to integrate Comlink with your Angular application that created by Angular CLI. By using Comlink, You will be able to move away heavy processing ","href":null},{"type":"text","text":{"content":"off-the-main-thread","link":null},"annotations":{"bold":true,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default"},"plain_text":"off-the-main-thread","href":null},{"type":"text","text":{"content":" easily and make JavaScript bundles smaller by ","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default"},"plain_text":" easily and make JavaScript bundles smaller by ","href":null},{"type":"text","text":{"content":"code separation","link":null},"annotations":{"bold":true,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default"},"plain_text":"code separation","href":null},{"type":"text","text":{"content":". Let’s get started!","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default"},"plain_text":". Let’s get started!","href":null}],"color":"default"}},{"object":"block","id":"2ac6b43b-9661-4fec-991e-936d941f6594","parent":{"type":"page_id","page_id":"d98e8a7e-9853-4346-b12b-cc4bec8a0cb7"},"created_time":"2023-05-21T00:20:00.000Z","last_edited_time":"2023-05-21T00:20:00.000Z","created_by":{"object":"user","id":"f4f222d4-d508-405d-ba6c-da82ee26ee54"},"last_edited_by":{"object":"user","id":"f4f222d4-d508-405d-ba6c-da82ee26ee54"},"has_children":false,"archived":false,"in_trash":false,"type":"heading_3","heading_3":{"rich_text":[{"type":"text","text":{"content":"[Change from Angular CLI v12.0]","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default"},"plain_text":"[Change from Angular CLI v12.0]","href":null}],"is_toggleable":false,"color":"default"}},{"object":"block","id":"9d2bb2bd-845c-4f9a-b26e-4a8d708f271c","parent":{"type":"page_id","page_id":"d98e8a7e-9853-4346-b12b-cc4bec8a0cb7"},"created_time":"2023-05-21T00:20:00.000Z","last_edited_time":"2023-05-21T00:20:00.000Z","created_by":{"object":"user","id":"f4f222d4-d508-405d-ba6c-da82ee26ee54"},"last_edited_by":{"object":"user","id":"f4f222d4-d508-405d-ba6c-da82ee26ee54"},"has_children":false,"archived":false,"in_trash":false,"type":"bulleted_list_item","bulleted_list_item":{"rich_text":[{"type":"text","text":{"content":"Syntax for worker module was updated since webpack v5. CLI v12 can migrate automatically by executing ","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default"},"plain_text":"Syntax for worker module was updated since webpack v5. CLI v12 can migrate automatically by executing ","href":null},{"type":"text","text":{"content":"ng update @angular/cli@12","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":true,"color":"default"},"plain_text":"ng update @angular/cli@12","href":null},{"type":"text","text":{"content":".","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default"},"plain_text":".","href":null}],"color":"default"}},{"object":"block","id":"a6594704-cc44-4763-b755-cf25d7ec4d60","parent":{"type":"page_id","page_id":"d98e8a7e-9853-4346-b12b-cc4bec8a0cb7"},"created_time":"2023-05-21T00:20:00.000Z","last_edited_time":"2023-05-21T04:45:00.000Z","created_by":{"object":"user","id":"f4f222d4-d508-405d-ba6c-da82ee26ee54"},"last_edited_by":{"object":"user","id":"f4f222d4-d508-405d-ba6c-da82ee26ee54"},"has_children":false,"archived":false,"in_trash":false,"type":"image","image":{"caption":[],"type":"file","file":{"url":"https://prod-files-secure.s3.us-west-2.amazonaws.com/3c6255ea-b6c7-4055-8126-638d2819f0c3/4e5f39d6-ec32-48e6-bc91-fa21a9f48eb7/2021-05-26T11-16-04.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=AKIAT73L2G45HZZMZUHI%2F20240703%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20240703T030948Z&X-Amz-Expires=3600&X-Amz-Signature=4831303fceb9ad34ec76849b3fa628a775741df3e6058b750eb9d4e1d495297e&X-Amz-SignedHeaders=host&x-id=GetObject","expiry_time":"2024-07-03T04:09:48.433Z"}}},{"object":"block","id":"00a40fbb-5a08-40ac-8a0a-93f8d6cf8dc0","parent":{"type":"page_id","page_id":"d98e8a7e-9853-4346-b12b-cc4bec8a0cb7"},"created_time":"2023-05-21T00:20:00.000Z","last_edited_time":"2023-05-21T04:45:00.000Z","created_by":{"object":"user","id":"f4f222d4-d508-405d-ba6c-da82ee26ee54"},"last_edited_by":{"object":"user","id":"f4f222d4-d508-405d-ba6c-da82ee26ee54"},"has_children":false,"archived":false,"in_trash":false,"type":"image","image":{"caption":[],"type":"file","file":{"url":"https://prod-files-secure.s3.us-west-2.amazonaws.com/3c6255ea-b6c7-4055-8126-638d2819f0c3/d9b5bd3c-21db-46cb-b0e3-49dd267b228e/2021-05-26T11-20-53.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=AKIAT73L2G45HZZMZUHI%2F20240703%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20240703T030948Z&X-Amz-Expires=3600&X-Amz-Signature=ab8caa5c80a039290066c42b49e027d89de6440e63a34e67a434adc944f05a4c&X-Amz-SignedHeaders=host&x-id=GetObject","expiry_time":"2024-07-03T04:09:48.412Z"}}},{"object":"block","id":"58643e70-28d4-4e7d-be6b-f71a085ecc08","parent":{"type":"page_id","page_id":"d98e8a7e-9853-4346-b12b-cc4bec8a0cb7"},"created_time":"2023-05-21T00:20:00.000Z","last_edited_time":"2023-05-21T00:20:00.000Z","created_by":{"object":"user","id":"f4f222d4-d508-405d-ba6c-da82ee26ee54"},"last_edited_by":{"object":"user","id":"f4f222d4-d508-405d-ba6c-da82ee26ee54"},"has_children":false,"archived":false,"in_trash":false,"type":"heading_3","heading_3":{"rich_text":[{"type":"text","text":{"content":"Setting up an application","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default"},"plain_text":"Setting up an application","href":null}],"is_toggleable":false,"color":"default"}},{"object":"block","id":"1358bb82-693a-4a3d-a5af-fececf37832e","parent":{"type":"page_id","page_id":"d98e8a7e-9853-4346-b12b-cc4bec8a0cb7"},"created_time":"2023-05-21T00:20:00.000Z","last_edited_time":"2023-05-21T00:20:00.000Z","created_by":{"object":"user","id":"f4f222d4-d508-405d-ba6c-da82ee26ee54"},"last_edited_by":{"object":"user","id":"f4f222d4-d508-405d-ba6c-da82ee26ee54"},"has_children":false,"archived":false,"in_trash":false,"type":"paragraph","paragraph":{"rich_text":[{"type":"text","text":{"content":"Create an example application by using ","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default"},"plain_text":"Create an example application by using ","href":null},{"type":"text","text":{"content":"Angular CLI","link":{"url":"https://angular.io/guide/quickstart#install-cli"}},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default"},"plain_text":"Angular CLI","href":"https://angular.io/guide/quickstart#install-cli"},{"type":"text","text":{"content":".","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default"},"plain_text":".","href":null}],"color":"default"}},{"object":"block","id":"fc29c0a4-033c-4316-aed3-57c400765ef9","parent":{"type":"page_id","page_id":"d98e8a7e-9853-4346-b12b-cc4bec8a0cb7"},"created_time":"2023-05-21T00:20:00.000Z","last_edited_time":"2023-05-21T00:20:00.000Z","created_by":{"object":"user","id":"f4f222d4-d508-405d-ba6c-da82ee26ee54"},"last_edited_by":{"object":"user","id":"f4f222d4-d508-405d-ba6c-da82ee26ee54"},"has_children":false,"archived":false,"in_trash":false,"type":"code","code":{"caption":[],"rich_text":[{"type":"text","text":{"content":"$ ng new angular-comlink-example --defaults","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default"},"plain_text":"$ ng new angular-comlink-example --defaults","href":null}],"language":"plain text"}},{"object":"block","id":"dad6e4db-9241-4781-9c6b-122c1de24168","parent":{"type":"page_id","page_id":"d98e8a7e-9853-4346-b12b-cc4bec8a0cb7"},"created_time":"2023-05-21T00:20:00.000Z","last_edited_time":"2023-05-21T00:20:00.000Z","created_by":{"object":"user","id":"f4f222d4-d508-405d-ba6c-da82ee26ee54"},"last_edited_by":{"object":"user","id":"f4f222d4-d508-405d-ba6c-da82ee26ee54"},"has_children":false,"archived":false,"in_trash":false,"type":"paragraph","paragraph":{"rich_text":[{"type":"text","text":{"content":"After application setup, install Comlink as the below. Comlink has its own TypeScript definition in the package, so you don’t need additional installation.","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default"},"plain_text":"After application setup, install Comlink as the below. Comlink has its own TypeScript definition in the package, so you don’t need additional installation.","href":null}],"color":"default"}},{"object":"block","id":"06827ee4-e320-4614-870d-3b250123a0e6","parent":{"type":"page_id","page_id":"d98e8a7e-9853-4346-b12b-cc4bec8a0cb7"},"created_time":"2023-05-21T00:20:00.000Z","last_edited_time":"2023-05-21T00:20:00.000Z","created_by":{"object":"user","id":"f4f222d4-d508-405d-ba6c-da82ee26ee54"},"last_edited_by":{"object":"user","id":"f4f222d4-d508-405d-ba6c-da82ee26ee54"},"has_children":false,"archived":false,"in_trash":false,"type":"code","code":{"caption":[],"rich_text":[{"type":"text","text":{"content":"$ cd angular-comlink-example\n$ yarn add comlink # or npm install comlink","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default"},"plain_text":"$ cd angular-comlink-example\n$ yarn add comlink # or npm install comlink","href":null}],"language":"plain text"}},{"object":"block","id":"e812b7e0-9090-4126-a6a2-88218980e252","parent":{"type":"page_id","page_id":"d98e8a7e-9853-4346-b12b-cc4bec8a0cb7"},"created_time":"2023-05-21T00:20:00.000Z","last_edited_time":"2023-05-21T00:20:00.000Z","created_by":{"object":"user","id":"f4f222d4-d508-405d-ba6c-da82ee26ee54"},"last_edited_by":{"object":"user","id":"f4f222d4-d508-405d-ba6c-da82ee26ee54"},"has_children":false,"archived":false,"in_trash":false,"type":"heading_3","heading_3":{"rich_text":[{"type":"text","text":{"content":"Implement worker module","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default"},"plain_text":"Implement worker module","href":null}],"is_toggleable":false,"color":"default"}},{"object":"block","id":"0ba70055-455a-4b15-9ba0-41391b22766d","parent":{"type":"page_id","page_id":"d98e8a7e-9853-4346-b12b-cc4bec8a0cb7"},"created_time":"2023-05-21T00:20:00.000Z","last_edited_time":"2023-05-21T00:20:00.000Z","created_by":{"object":"user","id":"f4f222d4-d508-405d-ba6c-da82ee26ee54"},"last_edited_by":{"object":"user","id":"f4f222d4-d508-405d-ba6c-da82ee26ee54"},"has_children":false,"archived":false,"in_trash":false,"type":"paragraph","paragraph":{"rich_text":[{"type":"text","text":{"content":"For example, let’s make a markdown processor which can convert markdown text to HTML. At first, install ","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default"},"plain_text":"For example, let’s make a markdown processor which can convert markdown text to HTML. At first, install ","href":null},{"type":"text","text":{"content":"marked","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":true,"color":"default"},"plain_text":"marked","href":null},{"type":"text","text":{"content":" and ","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default"},"plain_text":" and ","href":null},{"type":"text","text":{"content":"@types/marked","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":true,"color":"default"},"plain_text":"@types/marked","href":null},{"type":"text","text":{"content":" to compile markdown to HTML.","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default"},"plain_text":" to compile markdown to HTML.","href":null}],"color":"default"}},{"object":"block","id":"d1388142-0577-4b44-a124-f9d2584bf536","parent":{"type":"page_id","page_id":"d98e8a7e-9853-4346-b12b-cc4bec8a0cb7"},"created_time":"2023-05-21T00:20:00.000Z","last_edited_time":"2023-05-21T00:20:00.000Z","created_by":{"object":"user","id":"f4f222d4-d508-405d-ba6c-da82ee26ee54"},"last_edited_by":{"object":"user","id":"f4f222d4-d508-405d-ba6c-da82ee26ee54"},"has_children":false,"archived":false,"in_trash":false,"type":"code","code":{"caption":[],"rich_text":[{"type":"text","text":{"content":"yarn add marked && yarn add --dev @types/marked","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default"},"plain_text":"yarn add marked && yarn add --dev @types/marked","href":null}],"language":"plain text"}},{"object":"block","id":"1e3f0cb1-394b-4d9c-976f-1e15e86b4b4b","parent":{"type":"page_id","page_id":"d98e8a7e-9853-4346-b12b-cc4bec8a0cb7"},"created_time":"2023-05-21T00:20:00.000Z","last_edited_time":"2023-05-21T00:20:00.000Z","created_by":{"object":"user","id":"f4f222d4-d508-405d-ba6c-da82ee26ee54"},"last_edited_by":{"object":"user","id":"f4f222d4-d508-405d-ba6c-da82ee26ee54"},"has_children":false,"archived":false,"in_trash":false,"type":"paragraph","paragraph":{"rich_text":[{"type":"text","text":{"content":"Next, create ","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default"},"plain_text":"Next, create ","href":null},{"type":"text","text":{"content":"src/tsconfig.worker.json","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":true,"color":"default"},"plain_text":"src/tsconfig.worker.json","href":null},{"type":"text","text":{"content":" for the application project. Its location is next to ","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default"},"plain_text":" for the application project. Its location is next to ","href":null},{"type":"text","text":{"content":"tsconfig.app.json","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":true,"color":"default"},"plain_text":"tsconfig.app.json","href":null},{"type":"text","text":{"content":".","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default"},"plain_text":".","href":null}],"color":"default"}},{"object":"block","id":"1c151cc2-6e5a-40db-a7b1-706f320fe312","parent":{"type":"page_id","page_id":"d98e8a7e-9853-4346-b12b-cc4bec8a0cb7"},"created_time":"2023-05-21T00:20:00.000Z","last_edited_time":"2023-05-21T04:45:00.000Z","created_by":{"object":"user","id":"f4f222d4-d508-405d-ba6c-da82ee26ee54"},"last_edited_by":{"object":"user","id":"f4f222d4-d508-405d-ba6c-da82ee26ee54"},"has_children":false,"archived":false,"in_trash":false,"type":"code","code":{"caption":[],"rich_text":[{"type":"text","text":{"content":"{\n  \"extends\": \"../tsconfig.json\",\n  \"compilerOptions\": {\n    \"outDir\": \"./out-tsc/worker\",\n    \"lib\": [\n      \"es2018\",\n      \"webworker\"\n    ],\n    \"types\": []\n  },\n  \"include\": [\n    \"**/*.worker.ts\"\n  ]\n}","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default"},"plain_text":"{\n  \"extends\": \"../tsconfig.json\",\n  \"compilerOptions\": {\n    \"outDir\": \"./out-tsc/worker\",\n    \"lib\": [\n      \"es2018\",\n      \"webworker\"\n    ],\n    \"types\": []\n  },\n  \"include\": [\n    \"**/*.worker.ts\"\n  ]\n}","href":null}],"language":"json"}},{"object":"block","id":"873bb751-80a7-4ee4-ba06-71333a3844b0","parent":{"type":"page_id","page_id":"d98e8a7e-9853-4346-b12b-cc4bec8a0cb7"},"created_time":"2023-05-21T00:20:00.000Z","last_edited_time":"2023-05-21T00:20:00.000Z","created_by":{"object":"user","id":"f4f222d4-d508-405d-ba6c-da82ee26ee54"},"last_edited_by":{"object":"user","id":"f4f222d4-d508-405d-ba6c-da82ee26ee54"},"has_children":false,"archived":false,"in_trash":false,"type":"paragraph","paragraph":{"rich_text":[{"type":"text","text":{"content":"Create a file named ","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default"},"plain_text":"Create a file named ","href":null},{"type":"text","text":{"content":"markdown.worker.ts","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":true,"color":"default"},"plain_text":"markdown.worker.ts","href":null},{"type":"text","text":{"content":" in ","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default"},"plain_text":" in ","href":null},{"type":"text","text":{"content":"src/app/worker","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":true,"color":"default"},"plain_text":"src/app/worker","href":null},{"type":"text","text":{"content":" directory and write a function as the below. This file will be the entry point of the worker module.","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default"},"plain_text":" directory and write a function as the below. This file will be the entry point of the worker module.","href":null}],"color":"default"}},{"object":"block","id":"5c411ca0-5280-4a10-a4a0-7f6273c86901","parent":{"type":"page_id","page_id":"d98e8a7e-9853-4346-b12b-cc4bec8a0cb7"},"created_time":"2023-05-21T00:20:00.000Z","last_edited_time":"2023-05-21T00:20:00.000Z","created_by":{"object":"user","id":"f4f222d4-d508-405d-ba6c-da82ee26ee54"},"last_edited_by":{"object":"user","id":"f4f222d4-d508-405d-ba6c-da82ee26ee54"},"has_children":false,"archived":false,"in_trash":false,"type":"code","code":{"caption":[],"rich_text":[{"type":"text","text":{"content":"$ touch src/app/worker/markdown.worker.ts","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default"},"plain_text":"$ touch src/app/worker/markdown.worker.ts","href":null}],"language":"plain text"}},{"object":"block","id":"5929d945-ad08-4aad-8d20-9f24f147cae6","parent":{"type":"page_id","page_id":"d98e8a7e-9853-4346-b12b-cc4bec8a0cb7"},"created_time":"2023-05-21T00:20:00.000Z","last_edited_time":"2023-05-21T04:46:00.000Z","created_by":{"object":"user","id":"f4f222d4-d508-405d-ba6c-da82ee26ee54"},"last_edited_by":{"object":"user","id":"f4f222d4-d508-405d-ba6c-da82ee26ee54"},"has_children":false,"archived":false,"in_trash":false,"type":"code","code":{"caption":[],"rich_text":[{"type":"text","text":{"content":"// worker/markdown.worker.ts\nimport * as marked from 'marked';\n\nexport const api = {\n  compileMarkdown(source: string) {\n    return new Promise<string>((resolve, reject) => {\n      marked(source, (err, result) => {\n        if (err) {\n          reject(err);\n          return;\n        }\n        resolve(result);\n      });\n    });\n  },\n};","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default"},"plain_text":"// worker/markdown.worker.ts\nimport * as marked from 'marked';\n\nexport const api = {\n  compileMarkdown(source: string) {\n    return new Promise<string>((resolve, reject) => {\n      marked(source, (err, result) => {\n        if (err) {\n          reject(err);\n          return;\n        }\n        resolve(result);\n      });\n    });\n  },\n};","href":null}],"language":"plain text"}},{"object":"block","id":"0b58144e-012d-406f-94f9-e88408927335","parent":{"type":"page_id","page_id":"d98e8a7e-9853-4346-b12b-cc4bec8a0cb7"},"created_time":"2023-05-21T00:20:00.000Z","last_edited_time":"2023-05-21T00:20:00.000Z","created_by":{"object":"user","id":"f4f222d4-d508-405d-ba6c-da82ee26ee54"},"last_edited_by":{"object":"user","id":"f4f222d4-d508-405d-ba6c-da82ee26ee54"},"has_children":false,"archived":false,"in_trash":false,"type":"paragraph","paragraph":{"rich_text":[{"type":"text","text":{"content":"To expose that functions as the worker, call ","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default"},"plain_text":"To expose that functions as the worker, call ","href":null},{"type":"text","text":{"content":"Comlink.expose","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":true,"color":"default"},"plain_text":"Comlink.expose","href":null},{"type":"text","text":{"content":" function and pass the ","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default"},"plain_text":" function and pass the ","href":null},{"type":"text","text":{"content":"api","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":true,"color":"default"},"plain_text":"api","href":null},{"type":"text","text":{"content":" object.","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default"},"plain_text":" object.","href":null}],"color":"default"}},{"object":"block","id":"185ca8b9-bebe-443a-9188-eac404108464","parent":{"type":"page_id","page_id":"d98e8a7e-9853-4346-b12b-cc4bec8a0cb7"},"created_time":"2023-05-21T00:20:00.000Z","last_edited_time":"2023-05-21T04:46:00.000Z","created_by":{"object":"user","id":"f4f222d4-d508-405d-ba6c-da82ee26ee54"},"last_edited_by":{"object":"user","id":"f4f222d4-d508-405d-ba6c-da82ee26ee54"},"has_children":false,"archived":false,"in_trash":false,"type":"code","code":{"caption":[],"rich_text":[{"type":"text","text":{"content":"import * as marked from 'marked';\nimport { expose } from 'comlink';\n\nexport const api = {\n  compileMarkdown(source: string) {\n    // ...\n  },\n};\n\nexpose(api); // Expose as worker's API","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default"},"plain_text":"import * as marked from 'marked';\nimport { expose } from 'comlink';\n\nexport const api = {\n  compileMarkdown(source: string) {\n    // ...\n  },\n};\n\nexpose(api); // Expose as worker's API","href":null}],"language":"plain text"}},{"object":"block","id":"2c8ab3b5-7e97-4629-9d44-9cf126fa47b5","parent":{"type":"page_id","page_id":"d98e8a7e-9853-4346-b12b-cc4bec8a0cb7"},"created_time":"2023-05-21T00:20:00.000Z","last_edited_time":"2023-05-21T00:20:00.000Z","created_by":{"object":"user","id":"f4f222d4-d508-405d-ba6c-da82ee26ee54"},"last_edited_by":{"object":"user","id":"f4f222d4-d508-405d-ba6c-da82ee26ee54"},"has_children":false,"archived":false,"in_trash":false,"type":"paragraph","paragraph":{"rich_text":[{"type":"text","text":{"content":"That’s all to implement Worker-side code. Just write a function and expose it. Ain’t easy?","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default"},"plain_text":"That’s all to implement Worker-side code. Just write a function and expose it. Ain’t easy?","href":null}],"color":"default"}},{"object":"block","id":"71bf02e0-4627-4865-855c-91db8eba2d75","parent":{"type":"page_id","page_id":"d98e8a7e-9853-4346-b12b-cc4bec8a0cb7"},"created_time":"2023-05-21T00:20:00.000Z","last_edited_time":"2023-05-21T00:20:00.000Z","created_by":{"object":"user","id":"f4f222d4-d508-405d-ba6c-da82ee26ee54"},"last_edited_by":{"object":"user","id":"f4f222d4-d508-405d-ba6c-da82ee26ee54"},"has_children":false,"archived":false,"in_trash":false,"type":"heading_3","heading_3":{"rich_text":[{"type":"text","text":{"content":"Use the exposed worker APIs","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default"},"plain_text":"Use the exposed worker APIs","href":null}],"is_toggleable":false,"color":"default"}},{"object":"block","id":"8364d3fd-60d3-40d5-a5d8-9db32bf9b5c4","parent":{"type":"page_id","page_id":"d98e8a7e-9853-4346-b12b-cc4bec8a0cb7"},"created_time":"2023-05-21T00:20:00.000Z","last_edited_time":"2023-05-21T00:20:00.000Z","created_by":{"object":"user","id":"f4f222d4-d508-405d-ba6c-da82ee26ee54"},"last_edited_by":{"object":"user","id":"f4f222d4-d508-405d-ba6c-da82ee26ee54"},"has_children":false,"archived":false,"in_trash":false,"type":"paragraph","paragraph":{"rich_text":[{"type":"text","text":{"content":"Next step. Let’s call the ","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default"},"plain_text":"Next step. Let’s call the ","href":null},{"type":"text","text":{"content":"compileMarkdown","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":true,"color":"default"},"plain_text":"compileMarkdown","href":null},{"type":"text","text":{"content":" function through Comlink. At first, create ","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default"},"plain_text":" function through Comlink. At first, create ","href":null},{"type":"text","text":{"content":"MarkdownService","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":true,"color":"default"},"plain_text":"MarkdownService","href":null},{"type":"text","text":{"content":" as Angular service to separate business logic from component. Execute following command;","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default"},"plain_text":" as Angular service to separate business logic from component. Execute following command;","href":null}],"color":"default"}},{"object":"block","id":"deab25a3-121e-49cd-afee-85e3ecf61a5e","parent":{"type":"page_id","page_id":"d98e8a7e-9853-4346-b12b-cc4bec8a0cb7"},"created_time":"2023-05-21T00:20:00.000Z","last_edited_time":"2023-05-21T00:20:00.000Z","created_by":{"object":"user","id":"f4f222d4-d508-405d-ba6c-da82ee26ee54"},"last_edited_by":{"object":"user","id":"f4f222d4-d508-405d-ba6c-da82ee26ee54"},"has_children":false,"archived":false,"in_trash":false,"type":"code","code":{"caption":[],"rich_text":[{"type":"text","text":{"content":"$ ng generate service service/markdown","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default"},"plain_text":"$ ng generate service service/markdown","href":null}],"language":"plain text"}},{"object":"block","id":"b5f663fc-7e73-48ee-bb2f-53ccbc2e1826","parent":{"type":"page_id","page_id":"d98e8a7e-9853-4346-b12b-cc4bec8a0cb7"},"created_time":"2023-05-21T00:20:00.000Z","last_edited_time":"2023-05-21T00:20:00.000Z","created_by":{"object":"user","id":"f4f222d4-d508-405d-ba6c-da82ee26ee54"},"last_edited_by":{"object":"user","id":"f4f222d4-d508-405d-ba6c-da82ee26ee54"},"has_children":false,"archived":false,"in_trash":false,"type":"paragraph","paragraph":{"rich_text":[{"type":"text","text":{"content":"And here is an initial implementation.","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default"},"plain_text":"And here is an initial implementation.","href":null}],"color":"default"}},{"object":"block","id":"a65ac558-5685-4423-89a2-2072bb4b00c0","parent":{"type":"page_id","page_id":"d98e8a7e-9853-4346-b12b-cc4bec8a0cb7"},"created_time":"2023-05-21T00:20:00.000Z","last_edited_time":"2023-05-21T04:46:00.000Z","created_by":{"object":"user","id":"f4f222d4-d508-405d-ba6c-da82ee26ee54"},"last_edited_by":{"object":"user","id":"f4f222d4-d508-405d-ba6c-da82ee26ee54"},"has_children":false,"archived":false,"in_trash":false,"type":"code","code":{"caption":[],"rich_text":[{"type":"text","text":{"content":"import { Injectable } from '@angular/core';\n\n@Injectable({\n  providedIn: 'root',\n})\nexport class MarkdownService {\n  async compile(source: string): Promise<string> {}\n}","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default"},"plain_text":"import { Injectable } from '@angular/core';\n\n@Injectable({\n  providedIn: 'root',\n})\nexport class MarkdownService {\n  async compile(source: string): Promise<string> {}\n}","href":null}],"language":"plain text"}},{"object":"block","id":"8be4b9e5-baa4-4b28-8687-37e447e83d3f","parent":{"type":"page_id","page_id":"d98e8a7e-9853-4346-b12b-cc4bec8a0cb7"},"created_time":"2023-05-21T00:20:00.000Z","last_edited_time":"2023-05-21T00:20:00.000Z","created_by":{"object":"user","id":"f4f222d4-d508-405d-ba6c-da82ee26ee54"},"last_edited_by":{"object":"user","id":"f4f222d4-d508-405d-ba6c-da82ee26ee54"},"has_children":false,"archived":false,"in_trash":false,"type":"paragraph","paragraph":{"rich_text":[{"type":"text","text":{"content":"To use ","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default"},"plain_text":"To use ","href":null},{"type":"text","text":{"content":"worker/markdown.worker.ts","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":true,"color":"default"},"plain_text":"worker/markdown.worker.ts","href":null},{"type":"text","text":{"content":" , import Comlink and create a proxied worker instance with ","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default"},"plain_text":" , import Comlink and create a proxied worker instance with ","href":null},{"type":"text","text":{"content":"wrap","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":true,"color":"default"},"plain_text":"wrap","href":null},{"type":"text","text":{"content":" function as the below. A module worker instance is instanciated by ","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default"},"plain_text":" function as the below. A module worker instance is instanciated by ","href":null},{"type":"text","text":{"content":"new Worker(new URL('../worker/markdown.worker', import.meta.url)","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":true,"color":"default"},"plain_text":"new Worker(new URL('../worker/markdown.worker', import.meta.url)","href":null},{"type":"text","text":{"content":". This syntax is defined by ","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default"},"plain_text":". This syntax is defined by ","href":null},{"type":"text","text":{"content":"webpack’s Web Workers support","link":{"url":"https://webpack.js.org/guides/web-workers/"}},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default"},"plain_text":"webpack’s Web Workers support","href":"https://webpack.js.org/guides/web-workers/"},{"type":"text","text":{"content":".","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default"},"plain_text":".","href":null}],"color":"default"}},{"object":"block","id":"cb2c6afc-56ac-4e9d-b214-654cc3f4becb","parent":{"type":"page_id","page_id":"d98e8a7e-9853-4346-b12b-cc4bec8a0cb7"},"created_time":"2023-05-21T00:20:00.000Z","last_edited_time":"2023-05-21T04:46:00.000Z","created_by":{"object":"user","id":"f4f222d4-d508-405d-ba6c-da82ee26ee54"},"last_edited_by":{"object":"user","id":"f4f222d4-d508-405d-ba6c-da82ee26ee54"},"has_children":false,"archived":false,"in_trash":false,"type":"code","code":{"caption":[],"rich_text":[{"type":"text","text":{"content":"import { wrap } from 'comlink';\n\nasync function compileMarkdown(source: string): Promise<string> {\n  const worker = wrap<typeof import('../worker/markdown.worker').api>(\n    new Worker(new URL('../worker/markdown.worker', import.meta.url)),\n  );\n  return await worker.compileMarkdown(source);\n}","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default"},"plain_text":"import { wrap } from 'comlink';\n\nasync function compileMarkdown(source: string): Promise<string> {\n  const worker = wrap<typeof import('../worker/markdown.worker').api>(\n    new Worker(new URL('../worker/markdown.worker', import.meta.url)),\n  );\n  return await worker.compileMarkdown(source);\n}","href":null}],"language":"plain text"}},{"object":"block","id":"68342b85-2b4f-463c-85f5-4c22940d86e2","parent":{"type":"page_id","page_id":"d98e8a7e-9853-4346-b12b-cc4bec8a0cb7"},"created_time":"2023-05-21T00:20:00.000Z","last_edited_time":"2023-05-21T00:20:00.000Z","created_by":{"object":"user","id":"f4f222d4-d508-405d-ba6c-da82ee26ee54"},"last_edited_by":{"object":"user","id":"f4f222d4-d508-405d-ba6c-da82ee26ee54"},"has_children":false,"archived":false,"in_trash":false,"type":"paragraph","paragraph":{"rich_text":[{"type":"text","text":{"content":"Now ","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default"},"plain_text":"Now ","href":null},{"type":"text","text":{"content":"worker","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":true,"color":"default"},"plain_text":"worker","href":null},{"type":"text","text":{"content":" instance has functions exposed by ","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default"},"plain_text":" instance has functions exposed by ","href":null},{"type":"text","text":{"content":"Comlink.expose","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":true,"color":"default"},"plain_text":"Comlink.expose","href":null},{"type":"text","text":{"content":" with its types.","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default"},"plain_text":" with its types.","href":null}],"color":"default"}},{"object":"block","id":"a3173a2c-4d2e-48f7-9002-19954bfee130","parent":{"type":"page_id","page_id":"d98e8a7e-9853-4346-b12b-cc4bec8a0cb7"},"created_time":"2023-05-21T00:20:00.000Z","last_edited_time":"2023-05-21T00:20:00.000Z","created_by":{"object":"user","id":"f4f222d4-d508-405d-ba6c-da82ee26ee54"},"last_edited_by":{"object":"user","id":"f4f222d4-d508-405d-ba6c-da82ee26ee54"},"has_children":false,"archived":false,"in_trash":false,"type":"paragraph","paragraph":{"rich_text":[{"type":"text","text":{"content":"To retrieve type of ","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default"},"plain_text":"To retrieve type of ","href":null},{"type":"text","text":{"content":"api","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":true,"color":"default"},"plain_text":"api","href":null},{"type":"text","text":{"content":", pass ","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default"},"plain_text":", pass ","href":null},{"type":"text","text":{"content":"typeof import('../worker/markdown.worker).api","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":true,"color":"default"},"plain_text":"typeof import('../worker/markdown.worker).api","href":null},{"type":"text","text":{"content":" into ","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default"},"plain_text":" into ","href":null},{"type":"text","text":{"content":"wrap<T>","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":true,"color":"default"},"plain_text":"wrap<T>","href":null},{"type":"text","text":{"content":". This ","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default"},"plain_text":". This ","href":null},{"type":"text","text":{"content":"import","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":true,"color":"default"},"plain_text":"import","href":null},{"type":"text","text":{"content":" is not ES Module import but TypeScript’s feature that ","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default"},"plain_text":" is not ES Module import but TypeScript’s feature that ","href":null},{"type":"text","text":{"content":"import only type definition","link":null},"annotations":{"bold":true,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default"},"plain_text":"import only type definition","href":null},{"type":"text","text":{"content":" without any JavaScript references which will be eliminated after TypeScript compilation process and it can be separated to different bundles.","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default"},"plain_text":" without any JavaScript references which will be eliminated after TypeScript compilation process and it can be separated to different bundles.","href":null}],"color":"default"}},{"object":"block","id":"d4ee5957-de43-4517-8b15-03d39857f5d9","parent":{"type":"page_id","page_id":"d98e8a7e-9853-4346-b12b-cc4bec8a0cb7"},"created_time":"2023-05-21T00:20:00.000Z","last_edited_time":"2023-05-21T00:20:00.000Z","created_by":{"object":"user","id":"f4f222d4-d508-405d-ba6c-da82ee26ee54"},"last_edited_by":{"object":"user","id":"f4f222d4-d508-405d-ba6c-da82ee26ee54"},"has_children":false,"archived":false,"in_trash":false,"type":"paragraph","paragraph":{"rich_text":[{"type":"text","text":{"content":"The following is the final example of ","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default"},"plain_text":"The following is the final example of ","href":null},{"type":"text","text":{"content":"service/markdown.service.ts","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":true,"color":"default"},"plain_text":"service/markdown.service.ts","href":null},{"type":"text","text":{"content":". If the environment doesn’t support ","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default"},"plain_text":". If the environment doesn’t support ","href":null},{"type":"text","text":{"content":"window.Worker","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":true,"color":"default"},"plain_text":"window.Worker","href":null},{"type":"text","text":{"content":", it will fallback to on-the-main theaed processing with dynamic ","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default"},"plain_text":", it will fallback to on-the-main theaed processing with dynamic ","href":null},{"type":"text","text":{"content":"import()","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":true,"color":"default"},"plain_text":"import()","href":null},{"type":"text","text":{"content":" to keep the initial bundle small.","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default"},"plain_text":" to keep the initial bundle small.","href":null}],"color":"default"}},{"object":"block","id":"e2617ad2-336f-4075-8d76-2db1e365b187","parent":{"type":"page_id","page_id":"d98e8a7e-9853-4346-b12b-cc4bec8a0cb7"},"created_time":"2023-05-21T00:20:00.000Z","last_edited_time":"2023-05-21T04:46:00.000Z","created_by":{"object":"user","id":"f4f222d4-d508-405d-ba6c-da82ee26ee54"},"last_edited_by":{"object":"user","id":"f4f222d4-d508-405d-ba6c-da82ee26ee54"},"has_children":false,"archived":false,"in_trash":false,"type":"code","code":{"caption":[],"rich_text":[{"type":"text","text":{"content":"import { Injectable } from '@angular/core';\nimport { wrap } from 'comlink';\n\nasync function compileMarkdown(source: string): Promise<string> {\n  if (window.Worker) {\n    const worker = wrap<typeof import('../worker/markdown.worker').api>(\n      new Worker(new URL('../worker/markdown.worker', import.meta.url)),\n    );\n    return await worker.compileMarkdown(source);\n  } else {\n    // Fallback to main thread with dynamic imports\n    const worker = await import('../worker/markdown.worker').then((m) => m.api);\n    return await worker.compileMarkdown(source);\n  }\n}\n\n@Injectable({\n  providedIn: 'root',\n})\nexport class MarkdownService {\n  async compile(source: string): Promise<string> {\n    return await compileMarkdown(source);\n  }\n}","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default"},"plain_text":"import { Injectable } from '@angular/core';\nimport { wrap } from 'comlink';\n\nasync function compileMarkdown(source: string): Promise<string> {\n  if (window.Worker) {\n    const worker = wrap<typeof import('../worker/markdown.worker').api>(\n      new Worker(new URL('../worker/markdown.worker', import.meta.url)),\n    );\n    return await worker.compileMarkdown(source);\n  } else {\n    // Fallback to main thread with dynamic imports\n    const worker = await import('../worker/markdown.worker').then((m) => m.api);\n    return await worker.compileMarkdown(source);\n  }\n}\n\n@Injectable({\n  providedIn: 'root',\n})\nexport class MarkdownService {\n  async compile(source: string): Promise<string> {\n    return await compileMarkdown(source);\n  }\n}","href":null}],"language":"plain text"}},{"object":"block","id":"c98e8908-5335-470a-9a9f-00d516e12147","parent":{"type":"page_id","page_id":"d98e8a7e-9853-4346-b12b-cc4bec8a0cb7"},"created_time":"2023-05-21T00:20:00.000Z","last_edited_time":"2023-05-21T00:20:00.000Z","created_by":{"object":"user","id":"f4f222d4-d508-405d-ba6c-da82ee26ee54"},"last_edited_by":{"object":"user","id":"f4f222d4-d508-405d-ba6c-da82ee26ee54"},"has_children":false,"archived":false,"in_trash":false,"type":"heading_3","heading_3":{"rich_text":[{"type":"text","text":{"content":"Run the app!","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default"},"plain_text":"Run the app!","href":null}],"is_toggleable":false,"color":"default"}},{"object":"block","id":"33056ad7-955c-4a8d-aa9e-7925990de5f2","parent":{"type":"page_id","page_id":"d98e8a7e-9853-4346-b12b-cc4bec8a0cb7"},"created_time":"2023-05-21T00:20:00.000Z","last_edited_time":"2023-05-21T00:20:00.000Z","created_by":{"object":"user","id":"f4f222d4-d508-405d-ba6c-da82ee26ee54"},"last_edited_by":{"object":"user","id":"f4f222d4-d508-405d-ba6c-da82ee26ee54"},"has_children":false,"archived":false,"in_trash":false,"type":"paragraph","paragraph":{"rich_text":[{"type":"text","text":{"content":"Finish the application. Here is ","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default"},"plain_text":"Finish the application. Here is ","href":null},{"type":"text","text":{"content":"AppComponent","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":true,"color":"default"},"plain_text":"AppComponent","href":null},{"type":"text","text":{"content":" modified to use ","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default"},"plain_text":" modified to use ","href":null},{"type":"text","text":{"content":"MarkdownService","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":true,"color":"default"},"plain_text":"MarkdownService","href":null},{"type":"text","text":{"content":" and show the result.","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default"},"plain_text":" and show the result.","href":null}],"color":"default"}},{"object":"block","id":"608740b8-9bfe-4ff2-8c03-45b0a1fb7391","parent":{"type":"page_id","page_id":"d98e8a7e-9853-4346-b12b-cc4bec8a0cb7"},"created_time":"2023-05-21T00:20:00.000Z","last_edited_time":"2023-05-21T04:46:00.000Z","created_by":{"object":"user","id":"f4f222d4-d508-405d-ba6c-da82ee26ee54"},"last_edited_by":{"object":"user","id":"f4f222d4-d508-405d-ba6c-da82ee26ee54"},"has_children":false,"archived":false,"in_trash":false,"type":"code","code":{"caption":[],"rich_text":[{"type":"text","text":{"content":"import { MarkdownService } from './service/markdown.service';\nimport { Component } from '@angular/core';\n\n@Component({\n  selector: 'app-root',\n  template: `\n    <button (click)=\"compileMarkdown()\">compile</button>\n\n    <div>{{ result }}</div>\n  `,\n})\nexport class AppComponent {\n  result: string = '';\n\n  constructor(private markdown: MarkdownService) {}\n\n  async compileMarkdown() {\n    this.result = await this.markdown.compile(`## Hello Comlink`);\n  }\n}","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default"},"plain_text":"import { MarkdownService } from './service/markdown.service';\nimport { Component } from '@angular/core';\n\n@Component({\n  selector: 'app-root',\n  template: `\n    <button (click)=\"compileMarkdown()\">compile</button>\n\n    <div>{{ result }}</div>\n  `,\n})\nexport class AppComponent {\n  result: string = '';\n\n  constructor(private markdown: MarkdownService) {}\n\n  async compileMarkdown() {\n    this.result = await this.markdown.compile(`## Hello Comlink`);\n  }\n}","href":null}],"language":"plain text"}},{"object":"block","id":"e9d23ebe-fca8-4c12-8941-7749083ec715","parent":{"type":"page_id","page_id":"d98e8a7e-9853-4346-b12b-cc4bec8a0cb7"},"created_time":"2023-05-21T00:20:00.000Z","last_edited_time":"2023-05-21T04:47:00.000Z","created_by":{"object":"user","id":"f4f222d4-d508-405d-ba6c-da82ee26ee54"},"last_edited_by":{"object":"user","id":"f4f222d4-d508-405d-ba6c-da82ee26ee54"},"has_children":false,"archived":false,"in_trash":false,"type":"paragraph","paragraph":{"rich_text":[{"type":"text","text":{"content":"Let’s serve the app by using","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default"},"plain_text":"Let’s serve the app by using","href":null},{"type":"text","text":{"content":"ng serve","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":true,"color":"default"},"plain_text":"ng serve","href":null},{"type":"text","text":{"content":" and open browser’s devtool. ","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default"},"plain_text":" and open browser’s devtool. ","href":null},{"type":"text","text":{"content":"0.worker.js","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":true,"color":"default"},"plain_text":"0.worker.js","href":null},{"type":"text","text":{"content":" is a chunk that is split by WorkerPlugin. It is loaded lazily after initial scripts are all loaded. It doesn’t block the initial rendering. Cool!","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default"},"plain_text":" is a chunk that is split by WorkerPlugin. It is loaded lazily after initial scripts are all loaded. It doesn’t block the initial rendering. Cool!","href":null}],"color":"default"}},{"object":"block","id":"b1e3a2e7-87c6-453d-b91e-1bda5c816795","parent":{"type":"page_id","page_id":"d98e8a7e-9853-4346-b12b-cc4bec8a0cb7"},"created_time":"2023-05-21T00:20:00.000Z","last_edited_time":"2023-05-21T04:47:00.000Z","created_by":{"object":"user","id":"f4f222d4-d508-405d-ba6c-da82ee26ee54"},"last_edited_by":{"object":"user","id":"f4f222d4-d508-405d-ba6c-da82ee26ee54"},"has_children":false,"archived":false,"in_trash":false,"type":"image","image":{"caption":[],"type":"file","file":{"url":"https://prod-files-secure.s3.us-west-2.amazonaws.com/3c6255ea-b6c7-4055-8126-638d2819f0c3/99104923-16be-4397-a67c-cb78dce9fffe/1__WghqP__ww8aX6KVZVQNzmeA.gif?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=AKIAT73L2G45HZZMZUHI%2F20240703%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20240703T030948Z&X-Amz-Expires=3600&X-Amz-Signature=72280fba052cfda00cb90a2ea1c3ecae17da1859485e326618509d9f7736e4ff&X-Amz-SignedHeaders=host&x-id=GetObject","expiry_time":"2024-07-03T04:09:48.422Z"}}},{"object":"block","id":"725248d2-1d58-4f57-838f-3193569464b9","parent":{"type":"page_id","page_id":"d98e8a7e-9853-4346-b12b-cc4bec8a0cb7"},"created_time":"2023-05-21T00:20:00.000Z","last_edited_time":"2023-05-21T00:20:00.000Z","created_by":{"object":"user","id":"f4f222d4-d508-405d-ba6c-da82ee26ee54"},"last_edited_by":{"object":"user","id":"f4f222d4-d508-405d-ba6c-da82ee26ee54"},"has_children":false,"archived":false,"in_trash":false,"type":"heading_3","heading_3":{"rich_text":[{"type":"text","text":{"content":"Summary","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default"},"plain_text":"Summary","href":null}],"is_toggleable":false,"color":"default"}},{"object":"block","id":"9f360b77-c60a-471d-86e5-6c02f7a63e7f","parent":{"type":"page_id","page_id":"d98e8a7e-9853-4346-b12b-cc4bec8a0cb7"},"created_time":"2023-05-21T00:20:00.000Z","last_edited_time":"2023-05-21T00:20:00.000Z","created_by":{"object":"user","id":"f4f222d4-d508-405d-ba6c-da82ee26ee54"},"last_edited_by":{"object":"user","id":"f4f222d4-d508-405d-ba6c-da82ee26ee54"},"has_children":false,"archived":false,"in_trash":false,"type":"bulleted_list_item","bulleted_list_item":{"rich_text":[{"type":"text","text":{"content":"Use Comlink to define worker and expose async APIs.","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default"},"plain_text":"Use Comlink to define worker and expose async APIs.","href":null}],"color":"default"}},{"object":"block","id":"d3ecca90-72e6-4d45-8a94-7eff2552c3d0","parent":{"type":"page_id","page_id":"d98e8a7e-9853-4346-b12b-cc4bec8a0cb7"},"created_time":"2023-05-21T00:20:00.000Z","last_edited_time":"2023-05-21T00:20:00.000Z","created_by":{"object":"user","id":"f4f222d4-d508-405d-ba6c-da82ee26ee54"},"last_edited_by":{"object":"user","id":"f4f222d4-d508-405d-ba6c-da82ee26ee54"},"has_children":false,"archived":false,"in_trash":false,"type":"bulleted_list_item","bulleted_list_item":{"rich_text":[{"type":"text","text":{"content":"Angular CLI supports worker code separation with zero-config.","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default"},"plain_text":"Angular CLI supports worker code separation with zero-config.","href":null}],"color":"default"}},{"object":"block","id":"7c358fc6-64ea-4115-9765-d18de1addf77","parent":{"type":"page_id","page_id":"d98e8a7e-9853-4346-b12b-cc4bec8a0cb7"},"created_time":"2023-05-21T00:20:00.000Z","last_edited_time":"2023-05-21T00:20:00.000Z","created_by":{"object":"user","id":"f4f222d4-d508-405d-ba6c-da82ee26ee54"},"last_edited_by":{"object":"user","id":"f4f222d4-d508-405d-ba6c-da82ee26ee54"},"has_children":false,"archived":false,"in_trash":false,"type":"bulleted_list_item","bulleted_list_item":{"rich_text":[{"type":"text","text":{"content":"TypeScript support from Comlink perfectly.","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default"},"plain_text":"TypeScript support from Comlink perfectly.","href":null}],"color":"default"}},{"object":"block","id":"03acd373-a40f-4ffe-9ef1-12bd902c9898","parent":{"type":"page_id","page_id":"d98e8a7e-9853-4346-b12b-cc4bec8a0cb7"},"created_time":"2023-05-21T00:20:00.000Z","last_edited_time":"2023-05-21T00:20:00.000Z","created_by":{"object":"user","id":"f4f222d4-d508-405d-ba6c-da82ee26ee54"},"last_edited_by":{"object":"user","id":"f4f222d4-d508-405d-ba6c-da82ee26ee54"},"has_children":false,"archived":false,"in_trash":false,"type":"paragraph","paragraph":{"rich_text":[{"type":"text","text":{"content":"All sample code is public in GitHub.","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default"},"plain_text":"All sample code is public in GitHub.","href":null}],"color":"default"}},{"object":"block","id":"93adacdb-b265-4339-bb0f-f54b86366b86","parent":{"type":"page_id","page_id":"d98e8a7e-9853-4346-b12b-cc4bec8a0cb7"},"created_time":"2023-05-21T00:20:00.000Z","last_edited_time":"2023-05-21T04:47:00.000Z","created_by":{"object":"user","id":"f4f222d4-d508-405d-ba6c-da82ee26ee54"},"last_edited_by":{"object":"user","id":"f4f222d4-d508-405d-ba6c-da82ee26ee54"},"has_children":false,"archived":false,"in_trash":false,"type":"paragraph","paragraph":{"rich_text":[{"type":"text","text":{"content":"https://github.com/lacolaco/angular-comlink-example","link":{"url":"https://github.com/lacolaco/angular-comlink-example"}},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default"},"plain_text":"https://github.com/lacolaco/angular-comlink-example","href":"https://github.com/lacolaco/angular-comlink-example"},{"type":"text","text":{"content":" ","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default"},"plain_text":" ","href":null}],"color":"default"}},{"object":"block","id":"2ac1d5ff-366f-4583-9922-932b1ca083a0","parent":{"type":"page_id","page_id":"d98e8a7e-9853-4346-b12b-cc4bec8a0cb7"},"created_time":"2023-05-21T00:20:00.000Z","last_edited_time":"2023-05-21T00:20:00.000Z","created_by":{"object":"user","id":"f4f222d4-d508-405d-ba6c-da82ee26ee54"},"last_edited_by":{"object":"user","id":"f4f222d4-d508-405d-ba6c-da82ee26ee54"},"has_children":false,"archived":false,"in_trash":false,"type":"paragraph","paragraph":{"rich_text":[{"type":"text","text":{"content":"Any feedback is welcome. Thanks for reading!!","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default"},"plain_text":"Any feedback is welcome. Thanks for reading!!","href":null}],"color":"default"}}]