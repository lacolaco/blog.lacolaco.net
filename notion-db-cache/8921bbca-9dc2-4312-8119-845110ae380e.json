[{"object":"block","id":"200a62ca-b1d5-4d11-a419-3d0d042de8b4","parent":{"type":"page_id","page_id":"8921bbca-9dc2-4312-8119-845110ae380e"},"created_time":"2022-10-30T11:54:00.000Z","last_edited_time":"2023-02-08T11:44:00.000Z","created_by":{"object":"user","id":"f4f222d4-d508-405d-ba6c-da82ee26ee54"},"last_edited_by":{"object":"user","id":"f4f222d4-d508-405d-ba6c-da82ee26ee54"},"has_children":false,"archived":false,"in_trash":false,"type":"paragraph","paragraph":{"rich_text":[{"type":"text","text":{"content":"この記事ではAngular v15で追加される ","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default"},"plain_text":"この記事ではAngular v15で追加される ","href":null},{"type":"text","text":{"content":"@Directive.hostDirectives","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":true,"color":"default"},"plain_text":"@Directive.hostDirectives","href":null},{"type":"text","text":{"content":" の実用的なユースケースとして、状態監視系ディレクティブを合成する使い道を検討する。","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default"},"plain_text":" の実用的なユースケースとして、状態監視系ディレクティブを合成する使い道を検討する。","href":null}],"color":"default"}},{"object":"block","id":"93b094cd-8383-4cdf-b07d-ed398864b7df","parent":{"type":"page_id","page_id":"8921bbca-9dc2-4312-8119-845110ae380e"},"created_time":"2022-10-30T11:55:00.000Z","last_edited_time":"2022-10-30T11:57:00.000Z","created_by":{"object":"user","id":"f4f222d4-d508-405d-ba6c-da82ee26ee54"},"last_edited_by":{"object":"user","id":"f4f222d4-d508-405d-ba6c-da82ee26ee54"},"has_children":false,"archived":false,"in_trash":false,"type":"paragraph","paragraph":{"rich_text":[{"type":"text","text":{"content":"hostDirectives","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":true,"color":"default"},"plain_text":"hostDirectives","href":null},{"type":"text","text":{"content":"は基本的にライブラリ製作者に向けたAPIである上に実装されてから日が浅いのでまだ詳しいドキュメントはないが、ひとまず一次情報としてはこのIssueが一番適しているだろう。","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default"},"plain_text":"は基本的にライブラリ製作者に向けたAPIである上に実装されてから日が浅いのでまだ詳しいドキュメントはないが、ひとまず一次情報としてはこのIssueが一番適しているだろう。","href":null}],"color":"default"}},{"object":"block","id":"470411b5-d5f7-46bc-9edf-afb2950d2dbf","parent":{"type":"page_id","page_id":"8921bbca-9dc2-4312-8119-845110ae380e"},"created_time":"2022-10-30T13:39:00.000Z","last_edited_time":"2023-02-28T11:57:00.000Z","created_by":{"object":"user","id":"f4f222d4-d508-405d-ba6c-da82ee26ee54"},"last_edited_by":{"object":"user","id":"480a5159-f46b-4a81-895c-9d56a207d9cc"},"has_children":false,"archived":false,"in_trash":false,"type":"link_preview","link_preview":{"url":"https://github.com/angular/angular/issues/8785"}},{"object":"block","id":"6ccfcde5-7e6d-4b37-92a1-391f12c6aad6","parent":{"type":"page_id","page_id":"8921bbca-9dc2-4312-8119-845110ae380e"},"created_time":"2022-10-30T11:57:00.000Z","last_edited_time":"2022-10-30T12:03:00.000Z","created_by":{"object":"user","id":"f4f222d4-d508-405d-ba6c-da82ee26ee54"},"last_edited_by":{"object":"user","id":"f4f222d4-d508-405d-ba6c-da82ee26ee54"},"has_children":false,"archived":false,"in_trash":false,"type":"paragraph","paragraph":{"rich_text":[{"type":"text","text":{"content":"公式チャンネルではないが、Angular Componentsチームの ","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default"},"plain_text":"公式チャンネルではないが、Angular Componentsチームの ","href":null},{"type":"text","text":{"content":"@crisbeto","link":{"url":"https://github.com/crisbeto"}},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default"},"plain_text":"@crisbeto","href":"https://github.com/crisbeto"},{"type":"text","text":{"content":" が機能について詳しく語っている動画もあるので参考にしてほしい。","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default"},"plain_text":" が機能について詳しく語っている動画もあるので参考にしてほしい。","href":null}],"color":"default"}},{"object":"block","id":"a1cb31eb-35c5-43b7-a11e-f01af389348a","parent":{"type":"page_id","page_id":"8921bbca-9dc2-4312-8119-845110ae380e"},"created_time":"2022-10-30T12:01:00.000Z","last_edited_time":"2022-10-30T12:01:00.000Z","created_by":{"object":"user","id":"f4f222d4-d508-405d-ba6c-da82ee26ee54"},"last_edited_by":{"object":"user","id":"f4f222d4-d508-405d-ba6c-da82ee26ee54"},"has_children":false,"archived":false,"in_trash":false,"type":"video","video":{"caption":[],"type":"external","external":{"url":"https://www.youtube.com/watch?v=oC9Qd9yw3pE"}}},{"object":"block","id":"7d7a78d6-09b3-4b9f-b18d-3b5093325f4a","parent":{"type":"page_id","page_id":"8921bbca-9dc2-4312-8119-845110ae380e"},"created_time":"2022-10-30T12:03:00.000Z","last_edited_time":"2022-10-30T12:03:00.000Z","created_by":{"object":"user","id":"f4f222d4-d508-405d-ba6c-da82ee26ee54"},"last_edited_by":{"object":"user","id":"f4f222d4-d508-405d-ba6c-da82ee26ee54"},"has_children":false,"archived":false,"in_trash":false,"type":"heading_2","heading_2":{"rich_text":[{"type":"text","text":{"content":"ユースケース例: ViewportDirectiveの合成","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default"},"plain_text":"ユースケース例: ViewportDirectiveの合成","href":null}],"is_toggleable":false,"color":"default"}},{"object":"block","id":"3fc2667d-ff66-4a57-b129-8b3745e823b9","parent":{"type":"page_id","page_id":"8921bbca-9dc2-4312-8119-845110ae380e"},"created_time":"2022-10-30T12:03:00.000Z","last_edited_time":"2022-10-30T12:12:00.000Z","created_by":{"object":"user","id":"f4f222d4-d508-405d-ba6c-da82ee26ee54"},"last_edited_by":{"object":"user","id":"f4f222d4-d508-405d-ba6c-da82ee26ee54"},"has_children":false,"archived":false,"in_trash":false,"type":"paragraph","paragraph":{"rich_text":[{"type":"text","text":{"content":"hostDirectives","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":true,"color":"default"},"plain_text":"hostDirectives","href":null},{"type":"text","text":{"content":" はスタンドアロンなディレクティブを別のコンポーネントやディレクティブに合成できる機能であるから、合成されるディレクティブは再利用可能性が高いユーティリティ的なものが主になるだろう。","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default"},"plain_text":" はスタンドアロンなディレクティブを別のコンポーネントやディレクティブに合成できる機能であるから、合成されるディレクティブは再利用可能性が高いユーティリティ的なものが主になるだろう。","href":null}],"color":"default"}},{"object":"block","id":"dc74e2d7-ba4c-4bfc-be12-52c1f891a205","parent":{"type":"page_id","page_id":"8921bbca-9dc2-4312-8119-845110ae380e"},"created_time":"2022-10-30T12:12:00.000Z","last_edited_time":"2022-10-30T12:15:00.000Z","created_by":{"object":"user","id":"f4f222d4-d508-405d-ba6c-da82ee26ee54"},"last_edited_by":{"object":"user","id":"f4f222d4-d508-405d-ba6c-da82ee26ee54"},"has_children":false,"archived":false,"in_trash":false,"type":"paragraph","paragraph":{"rich_text":[{"type":"text","text":{"content":"わざわざディレクティブとして実装して再利用したいユーティリティといえば、だいたいは ","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default"},"plain_text":"わざわざディレクティブとして実装して再利用したいユーティリティといえば、だいたいは ","href":null},{"type":"text","text":{"content":"ElementRef","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":true,"color":"default"},"plain_text":"ElementRef","href":null},{"type":"text","text":{"content":" を参照してDOMを扱う類のものである。そこで今回はDOMの状態を監視するAPIのひとつである ","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default"},"plain_text":" を参照してDOMを扱う類のものである。そこで今回はDOMの状態を監視するAPIのひとつである ","href":null},{"type":"text","text":{"content":"IntersectionObserver","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":true,"color":"default"},"plain_text":"IntersectionObserver","href":null},{"type":"text","text":{"content":" を利用して、画面内に要素が出入りするイベントをアプリケーションで扱えるようにする ","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default"},"plain_text":" を利用して、画面内に要素が出入りするイベントをアプリケーションで扱えるようにする ","href":null},{"type":"text","text":{"content":"ViewportDirective","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":true,"color":"default"},"plain_text":"ViewportDirective","href":null},{"type":"text","text":{"content":" を例に ","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default"},"plain_text":" を例に ","href":null},{"type":"text","text":{"content":"hostDirectives","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":true,"color":"default"},"plain_text":"hostDirectives","href":null},{"type":"text","text":{"content":" を試してみよう。","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default"},"plain_text":" を試してみよう。","href":null}],"color":"default"}},{"object":"block","id":"25059fb5-e18f-4005-a590-2d9e44612fba","parent":{"type":"page_id","page_id":"8921bbca-9dc2-4312-8119-845110ae380e"},"created_time":"2022-10-30T12:15:00.000Z","last_edited_time":"2022-10-30T12:15:00.000Z","created_by":{"object":"user","id":"f4f222d4-d508-405d-ba6c-da82ee26ee54"},"last_edited_by":{"object":"user","id":"f4f222d4-d508-405d-ba6c-da82ee26ee54"},"has_children":false,"archived":false,"in_trash":false,"type":"paragraph","paragraph":{"rich_text":[],"color":"default"}},{"object":"block","id":"ad71a10a-bbda-41f9-bbaf-319abd9d60c2","parent":{"type":"page_id","page_id":"8921bbca-9dc2-4312-8119-845110ae380e"},"created_time":"2022-10-30T12:15:00.000Z","last_edited_time":"2022-10-30T12:16:00.000Z","created_by":{"object":"user","id":"f4f222d4-d508-405d-ba6c-da82ee26ee54"},"last_edited_by":{"object":"user","id":"f4f222d4-d508-405d-ba6c-da82ee26ee54"},"has_children":false,"archived":false,"in_trash":false,"type":"paragraph","paragraph":{"rich_text":[{"type":"text","text":{"content":"動作するサンプルはStackblitzで公開している。","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default"},"plain_text":"動作するサンプルはStackblitzで公開している。","href":null}],"color":"default"}},{"object":"block","id":"663e57ca-331e-4db7-bee5-22b503830c92","parent":{"type":"page_id","page_id":"8921bbca-9dc2-4312-8119-845110ae380e"},"created_time":"2022-10-30T12:16:00.000Z","last_edited_time":"2022-10-30T12:16:00.000Z","created_by":{"object":"user","id":"f4f222d4-d508-405d-ba6c-da82ee26ee54"},"last_edited_by":{"object":"user","id":"f4f222d4-d508-405d-ba6c-da82ee26ee54"},"has_children":false,"archived":false,"in_trash":false,"type":"embed","embed":{"caption":[],"url":"https://stackblitz.com/edit/angular-ivy-utpuhe?ctl=1&embed=1&file=src/app/app.component.ts"}},{"object":"block","id":"ce0fc254-513b-4bd6-9b47-5b050a640e0b","parent":{"type":"page_id","page_id":"8921bbca-9dc2-4312-8119-845110ae380e"},"created_time":"2022-10-30T12:12:00.000Z","last_edited_time":"2022-10-30T12:16:00.000Z","created_by":{"object":"user","id":"f4f222d4-d508-405d-ba6c-da82ee26ee54"},"last_edited_by":{"object":"user","id":"f4f222d4-d508-405d-ba6c-da82ee26ee54"},"has_children":false,"archived":false,"in_trash":false,"type":"heading_3","heading_3":{"rich_text":[{"type":"text","text":{"content":"ViewportDirective","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":true,"color":"default"},"plain_text":"ViewportDirective","href":null},{"type":"text","text":{"content":" の実装","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default"},"plain_text":" の実装","href":null}],"is_toggleable":false,"color":"default"}},{"object":"block","id":"cb16d384-3aee-4e9b-b991-deeb75606f7a","parent":{"type":"page_id","page_id":"8921bbca-9dc2-4312-8119-845110ae380e"},"created_time":"2022-10-30T12:16:00.000Z","last_edited_time":"2022-10-30T12:18:00.000Z","created_by":{"object":"user","id":"f4f222d4-d508-405d-ba6c-da82ee26ee54"},"last_edited_by":{"object":"user","id":"f4f222d4-d508-405d-ba6c-da82ee26ee54"},"has_children":false,"archived":false,"in_trash":false,"type":"paragraph","paragraph":{"rich_text":[{"type":"text","text":{"content":"本質的な部分ではないので詳細は省くが、 ","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default"},"plain_text":"本質的な部分ではないので詳細は省くが、 ","href":null},{"type":"text","text":{"content":"IntersectionObserver","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":true,"color":"default"},"plain_text":"IntersectionObserver","href":null},{"type":"text","text":{"content":" を使ってホスト要素が完全に表示されたときに ","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default"},"plain_text":" を使ってホスト要素が完全に表示されたときに ","href":null},{"type":"text","text":{"content":"viewportIn","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":true,"color":"default"},"plain_text":"viewportIn","href":null},{"type":"text","text":{"content":" イベントを、ホスト要素が完全に画面外に隠れたときに ","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default"},"plain_text":" イベントを、ホスト要素が完全に画面外に隠れたときに ","href":null},{"type":"text","text":{"content":"viewportOut","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":true,"color":"default"},"plain_text":"viewportOut","href":null},{"type":"text","text":{"content":" イベントを発火する。","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default"},"plain_text":" イベントを発火する。","href":null}],"color":"default"}},{"object":"block","id":"32264840-950d-4794-a8f5-46e51721b324","parent":{"type":"page_id","page_id":"8921bbca-9dc2-4312-8119-845110ae380e"},"created_time":"2022-10-30T12:18:00.000Z","last_edited_time":"2022-10-30T12:18:00.000Z","created_by":{"object":"user","id":"f4f222d4-d508-405d-ba6c-da82ee26ee54"},"last_edited_by":{"object":"user","id":"f4f222d4-d508-405d-ba6c-da82ee26ee54"},"has_children":false,"archived":false,"in_trash":false,"type":"code","code":{"caption":[],"rich_text":[{"type":"text","text":{"content":"@Directive({\n  selector: '[appViewport]',\n  standalone: true,\n})\nexport class ViewportDirective implements AfterViewInit, OnDestroy {\n  private el = inject(ElementRef).nativeElement as HTMLElement;\n  private intersectionObserver = new IntersectionObserver(\n    (entries) => {\n      for (const entry of entries) {\n        // 100%表示\n        if (entry.isIntersecting && entry.intersectionRatio === 1) {\n          this.viewportIn.emit();\n        }\n        // 100%非表示\n        if (!entry.isIntersecting && entry.intersectionRatio === 0) {\n          this.viewportOut.emit();\n        }\n      }\n    },\n    {\n      threshold: [0, 1],\n    }\n  );\n\n  @Output()\n  readonly viewportIn = new EventEmitter<void>();\n  @Output()\n  readonly viewportOut = new EventEmitter<void>();\n\n  ngAfterViewInit() {\n    this.intersectionObserver.observe(this.el);\n  }\n\n  ngOnDestroy() {\n    this.intersectionObserver.disconnect();\n  }\n}","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default"},"plain_text":"@Directive({\n  selector: '[appViewport]',\n  standalone: true,\n})\nexport class ViewportDirective implements AfterViewInit, OnDestroy {\n  private el = inject(ElementRef).nativeElement as HTMLElement;\n  private intersectionObserver = new IntersectionObserver(\n    (entries) => {\n      for (const entry of entries) {\n        // 100%表示\n        if (entry.isIntersecting && entry.intersectionRatio === 1) {\n          this.viewportIn.emit();\n        }\n        // 100%非表示\n        if (!entry.isIntersecting && entry.intersectionRatio === 0) {\n          this.viewportOut.emit();\n        }\n      }\n    },\n    {\n      threshold: [0, 1],\n    }\n  );\n\n  @Output()\n  readonly viewportIn = new EventEmitter<void>();\n  @Output()\n  readonly viewportOut = new EventEmitter<void>();\n\n  ngAfterViewInit() {\n    this.intersectionObserver.observe(this.el);\n  }\n\n  ngOnDestroy() {\n    this.intersectionObserver.disconnect();\n  }\n}","href":null}],"language":"typescript"}},{"object":"block","id":"3be617ea-fa9d-4276-8927-9f5249342942","parent":{"type":"page_id","page_id":"8921bbca-9dc2-4312-8119-845110ae380e"},"created_time":"2022-10-30T12:19:00.000Z","last_edited_time":"2022-10-30T12:19:00.000Z","created_by":{"object":"user","id":"f4f222d4-d508-405d-ba6c-da82ee26ee54"},"last_edited_by":{"object":"user","id":"f4f222d4-d508-405d-ba6c-da82ee26ee54"},"has_children":false,"archived":false,"in_trash":false,"type":"heading_3","heading_3":{"rich_text":[{"type":"text","text":{"content":"ディレクティブとして直接利用する","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default"},"plain_text":"ディレクティブとして直接利用する","href":null}],"is_toggleable":false,"color":"default"}},{"object":"block","id":"112cc9b1-4291-4b20-8767-137c2f09404f","parent":{"type":"page_id","page_id":"8921bbca-9dc2-4312-8119-845110ae380e"},"created_time":"2022-10-30T12:19:00.000Z","last_edited_time":"2022-10-30T12:20:00.000Z","created_by":{"object":"user","id":"f4f222d4-d508-405d-ba6c-da82ee26ee54"},"last_edited_by":{"object":"user","id":"f4f222d4-d508-405d-ba6c-da82ee26ee54"},"has_children":false,"archived":false,"in_trash":false,"type":"paragraph","paragraph":{"rich_text":[{"type":"text","text":{"content":"まずは ","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default"},"plain_text":"まずは ","href":null},{"type":"text","text":{"content":"ViewportDirective","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":true,"color":"default"},"plain_text":"ViewportDirective","href":null},{"type":"text","text":{"content":" をそのままテンプレート中で直接呼び出して利用する。比較対象として書いているだけなので特に解説することはない。","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default"},"plain_text":" をそのままテンプレート中で直接呼び出して利用する。比較対象として書いているだけなので特に解説することはない。","href":null}],"color":"default"}},{"object":"block","id":"ba0f5473-0308-4b18-8ada-f7a0f015df68","parent":{"type":"page_id","page_id":"8921bbca-9dc2-4312-8119-845110ae380e"},"created_time":"2022-10-30T12:20:00.000Z","last_edited_time":"2022-10-30T12:21:00.000Z","created_by":{"object":"user","id":"f4f222d4-d508-405d-ba6c-da82ee26ee54"},"last_edited_by":{"object":"user","id":"f4f222d4-d508-405d-ba6c-da82ee26ee54"},"has_children":false,"archived":false,"in_trash":false,"type":"code","code":{"caption":[],"rich_text":[{"type":"text","text":{"content":"@Component({\n  selector: 'my-app',\n  standalone: true,\n  imports: [ViewportDirective],\n  template: `\n  <div class=\"container\">\n    <div style=\"height: 110vh; background: tomato;\">110vh</div>\n\n    <div appViewport style=\"padding: 16px; border: 1px solid black;\"\n      (viewportIn)=\"onViewportIn('direct')\" \n      (viewportOut)=\"onViewportOut('direct')\">\n      viewport directive (direct)\n    </div>\n  </div>\n  `,\n  styleUrls: ['./app.component.css'],\n})\nexport class AppComponent {\n  onViewportIn(name: string) {\n    console.log(name, 'onViewportIn');\n  }\n\n  onViewportOut(name: string) {\n    console.log(name, 'onViewportOut');\n  }\n}","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default"},"plain_text":"@Component({\n  selector: 'my-app',\n  standalone: true,\n  imports: [ViewportDirective],\n  template: `\n  <div class=\"container\">\n    <div style=\"height: 110vh; background: tomato;\">110vh</div>\n\n    <div appViewport style=\"padding: 16px; border: 1px solid black;\"\n      (viewportIn)=\"onViewportIn('direct')\" \n      (viewportOut)=\"onViewportOut('direct')\">\n      viewport directive (direct)\n    </div>\n  </div>\n  `,\n  styleUrls: ['./app.component.css'],\n})\nexport class AppComponent {\n  onViewportIn(name: string) {\n    console.log(name, 'onViewportIn');\n  }\n\n  onViewportOut(name: string) {\n    console.log(name, 'onViewportOut');\n  }\n}","href":null}],"language":"typescript"}},{"object":"block","id":"1eefc8dc-e4c3-4e2a-a7d3-7b904e174359","parent":{"type":"page_id","page_id":"8921bbca-9dc2-4312-8119-845110ae380e"},"created_time":"2022-10-30T12:20:00.000Z","last_edited_time":"2022-10-30T12:21:00.000Z","created_by":{"object":"user","id":"f4f222d4-d508-405d-ba6c-da82ee26ee54"},"last_edited_by":{"object":"user","id":"f4f222d4-d508-405d-ba6c-da82ee26ee54"},"has_children":false,"archived":false,"in_trash":false,"type":"heading_3","heading_3":{"rich_text":[{"type":"text","text":{"content":"コンポーネントに合成して利用する (","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default"},"plain_text":"コンポーネントに合成して利用する (","href":null},{"type":"text","text":{"content":"hostDirectives","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":true,"color":"default"},"plain_text":"hostDirectives","href":null},{"type":"text","text":{"content":" )","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default"},"plain_text":" )","href":null}],"is_toggleable":false,"color":"default"}},{"object":"block","id":"e0c4b5e0-4e3c-4e39-994f-07097ae0d2d2","parent":{"type":"page_id","page_id":"8921bbca-9dc2-4312-8119-845110ae380e"},"created_time":"2022-10-30T12:21:00.000Z","last_edited_time":"2022-10-30T12:24:00.000Z","created_by":{"object":"user","id":"f4f222d4-d508-405d-ba6c-da82ee26ee54"},"last_edited_by":{"object":"user","id":"f4f222d4-d508-405d-ba6c-da82ee26ee54"},"has_children":false,"archived":false,"in_trash":false,"type":"paragraph","paragraph":{"rich_text":[{"type":"text","text":{"content":"では、 ","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default"},"plain_text":"では、 ","href":null},{"type":"text","text":{"content":"hostDirectives","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":true,"color":"default"},"plain_text":"hostDirectives","href":null},{"type":"text","text":{"content":" を使ってコンポーネントに合成して ","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default"},"plain_text":" を使ってコンポーネントに合成して ","href":null},{"type":"text","text":{"content":"ViewportDirective","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":true,"color":"default"},"plain_text":"ViewportDirective","href":null},{"type":"text","text":{"content":" を使ってみよう。まずは合成する先のコンポーネントとして ","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default"},"plain_text":" を使ってみよう。まずは合成する先のコンポーネントとして ","href":null},{"type":"text","text":{"content":"BannerComponent","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":true,"color":"default"},"plain_text":"BannerComponent","href":null},{"type":"text","text":{"content":" を定義する。","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default"},"plain_text":" を定義する。","href":null}],"color":"default"}},{"object":"block","id":"38bd4cf6-46b9-4dde-9b4d-68e7033592f7","parent":{"type":"page_id","page_id":"8921bbca-9dc2-4312-8119-845110ae380e"},"created_time":"2022-10-30T12:22:00.000Z","last_edited_time":"2022-10-30T12:24:00.000Z","created_by":{"object":"user","id":"f4f222d4-d508-405d-ba6c-da82ee26ee54"},"last_edited_by":{"object":"user","id":"f4f222d4-d508-405d-ba6c-da82ee26ee54"},"has_children":false,"archived":false,"in_trash":false,"type":"code","code":{"caption":[],"rich_text":[{"type":"text","text":{"content":"@Component({\n  selector: 'app-banner',\n  standalone: true,\n  template: `\n    <ng-content></ng-content>\n  `,\n})\nexport class BannerComponent {}","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default"},"plain_text":"@Component({\n  selector: 'app-banner',\n  standalone: true,\n  template: `\n    <ng-content></ng-content>\n  `,\n})\nexport class BannerComponent {}","href":null}],"language":"typescript"}},{"object":"block","id":"062b4cf2-0352-4702-b328-3719d19a5aa8","parent":{"type":"page_id","page_id":"8921bbca-9dc2-4312-8119-845110ae380e"},"created_time":"2022-10-30T12:24:00.000Z","last_edited_time":"2022-10-30T12:30:00.000Z","created_by":{"object":"user","id":"f4f222d4-d508-405d-ba6c-da82ee26ee54"},"last_edited_by":{"object":"user","id":"f4f222d4-d508-405d-ba6c-da82ee26ee54"},"has_children":false,"archived":false,"in_trash":false,"type":"paragraph","paragraph":{"rich_text":[{"type":"text","text":{"content":"次に ","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default"},"plain_text":"次に ","href":null},{"type":"text","text":{"content":"hostDirectives","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":true,"color":"default"},"plain_text":"hostDirectives","href":null},{"type":"text","text":{"content":" プロパティをコンポーネントメタデータに追加し、次のように ","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default"},"plain_text":" プロパティをコンポーネントメタデータに追加し、次のように ","href":null},{"type":"text","text":{"content":"ViewportDirective","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":true,"color":"default"},"plain_text":"ViewportDirective","href":null},{"type":"text","text":{"content":" を追加する。 ","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default"},"plain_text":" を追加する。 ","href":null},{"type":"text","text":{"content":"hostDirectives","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":true,"color":"default"},"plain_text":"hostDirectives","href":null},{"type":"text","text":{"content":" に追加するディレクティブは ","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default"},"plain_text":" に追加するディレクティブは ","href":null},{"type":"text","text":{"content":"imports","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":true,"color":"default"},"plain_text":"imports","href":null},{"type":"text","text":{"content":" に追加する必要はない。（ ","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default"},"plain_text":" に追加する必要はない。（ ","href":null},{"type":"text","text":{"content":"imports","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":true,"color":"default"},"plain_text":"imports","href":null},{"type":"text","text":{"content":" はテンプレートコンパイルのためのメタデータであるから）","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default"},"plain_text":" はテンプレートコンパイルのためのメタデータであるから）","href":null}],"color":"default"}},{"object":"block","id":"f976aa5b-70ee-423a-99eb-8980b4dd4562","parent":{"type":"page_id","page_id":"8921bbca-9dc2-4312-8119-845110ae380e"},"created_time":"2022-10-30T12:30:00.000Z","last_edited_time":"2022-10-30T12:32:00.000Z","created_by":{"object":"user","id":"f4f222d4-d508-405d-ba6c-da82ee26ee54"},"last_edited_by":{"object":"user","id":"f4f222d4-d508-405d-ba6c-da82ee26ee54"},"has_children":false,"archived":false,"in_trash":false,"type":"paragraph","paragraph":{"rich_text":[{"type":"text","text":{"content":"デフォルトではアウトプットは合成されないため、 ","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default"},"plain_text":"デフォルトではアウトプットは合成されないため、 ","href":null},{"type":"text","text":{"content":"ViewportDirective","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":true,"color":"default"},"plain_text":"ViewportDirective","href":null},{"type":"text","text":{"content":" が持つ2つのアウトプットを ","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default"},"plain_text":" が持つ2つのアウトプットを ","href":null},{"type":"text","text":{"content":"BannerComponent","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":true,"color":"default"},"plain_text":"BannerComponent","href":null},{"type":"text","text":{"content":" の一部として公開するために、 ","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default"},"plain_text":" の一部として公開するために、 ","href":null},{"type":"text","text":{"content":"outputs","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":true,"color":"default"},"plain_text":"outputs","href":null},{"type":"text","text":{"content":" プロパティを設定している。","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default"},"plain_text":" プロパティを設定している。","href":null}],"color":"default"}},{"object":"block","id":"1cb04bf2-aadc-46c5-b766-2a1f20febcb9","parent":{"type":"page_id","page_id":"8921bbca-9dc2-4312-8119-845110ae380e"},"created_time":"2022-10-30T12:29:00.000Z","last_edited_time":"2022-10-30T12:30:00.000Z","created_by":{"object":"user","id":"f4f222d4-d508-405d-ba6c-da82ee26ee54"},"last_edited_by":{"object":"user","id":"f4f222d4-d508-405d-ba6c-da82ee26ee54"},"has_children":false,"archived":false,"in_trash":false,"type":"code","code":{"caption":[],"rich_text":[{"type":"text","text":{"content":"@Component({\n  ...,\n  hostDirectives: [\n    {\n      directive: ViewportDirective,\n      outputs: ['viewportIn', 'viewportOut'],\n    },\n  ],\n})","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default"},"plain_text":"@Component({\n  ...,\n  hostDirectives: [\n    {\n      directive: ViewportDirective,\n      outputs: ['viewportIn', 'viewportOut'],\n    },\n  ],\n})","href":null}],"language":"typescript"}},{"object":"block","id":"0bd04673-92af-4990-b1e5-4f726745b592","parent":{"type":"page_id","page_id":"8921bbca-9dc2-4312-8119-845110ae380e"},"created_time":"2022-10-30T12:32:00.000Z","last_edited_time":"2022-10-30T12:37:00.000Z","created_by":{"object":"user","id":"f4f222d4-d508-405d-ba6c-da82ee26ee54"},"last_edited_by":{"object":"user","id":"f4f222d4-d508-405d-ba6c-da82ee26ee54"},"has_children":false,"archived":false,"in_trash":false,"type":"paragraph","paragraph":{"rich_text":[{"type":"text","text":{"content":"これにより、 親コンポーネントでは ","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default"},"plain_text":"これにより、 親コンポーネントでは ","href":null},{"type":"text","text":{"content":"BannerComponent","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":true,"color":"default"},"plain_text":"BannerComponent","href":null},{"type":"text","text":{"content":" には定義されていない ","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default"},"plain_text":" には定義されていない ","href":null},{"type":"text","text":{"content":"viewportIn","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":true,"color":"default"},"plain_text":"viewportIn","href":null},{"type":"text","text":{"content":" と ","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default"},"plain_text":" と ","href":null},{"type":"text","text":{"content":"viewportOut","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":true,"color":"default"},"plain_text":"viewportOut","href":null},{"type":"text","text":{"content":" イベントにもアクセスできる。","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default"},"plain_text":" イベントにもアクセスできる。","href":null}],"color":"default"}},{"object":"block","id":"3e9f055b-d93f-47a9-ba45-ec21696a63e4","parent":{"type":"page_id","page_id":"8921bbca-9dc2-4312-8119-845110ae380e"},"created_time":"2022-10-30T12:33:00.000Z","last_edited_time":"2022-10-30T12:34:00.000Z","created_by":{"object":"user","id":"f4f222d4-d508-405d-ba6c-da82ee26ee54"},"last_edited_by":{"object":"user","id":"f4f222d4-d508-405d-ba6c-da82ee26ee54"},"has_children":false,"archived":false,"in_trash":false,"type":"code","code":{"caption":[],"rich_text":[{"type":"text","text":{"content":"@Component({\n  selector: 'my-app',\n  standalone: true,\n  imports: [ViewportDirective, BannerComponent],\n  template: `\n  <div class=\"container\">\n    <div style=\"height: 110vh; width: 100%; background: skyblue;\">110vh</div>\n\n    <app-banner\n      (viewportIn)=\"onViewportIn('composite')\" \n      (viewportOut)=\"onViewportOut('composite')\">\n      viewport directive (composite)\n    </app-banner>\n  </div>\n  `,\n  styleUrls: ['./app.component.css'],\n})\nexport class AppComponent {}","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default"},"plain_text":"@Component({\n  selector: 'my-app',\n  standalone: true,\n  imports: [ViewportDirective, BannerComponent],\n  template: `\n  <div class=\"container\">\n    <div style=\"height: 110vh; width: 100%; background: skyblue;\">110vh</div>\n\n    <app-banner\n      (viewportIn)=\"onViewportIn('composite')\" \n      (viewportOut)=\"onViewportOut('composite')\">\n      viewport directive (composite)\n    </app-banner>\n  </div>\n  `,\n  styleUrls: ['./app.component.css'],\n})\nexport class AppComponent {}","href":null}],"language":"typescript"}},{"object":"block","id":"56b56e05-fcbc-49cf-a90e-a8116af1f5ce","parent":{"type":"page_id","page_id":"8921bbca-9dc2-4312-8119-845110ae380e"},"created_time":"2022-10-30T12:36:00.000Z","last_edited_time":"2022-10-30T12:54:00.000Z","created_by":{"object":"user","id":"f4f222d4-d508-405d-ba6c-da82ee26ee54"},"last_edited_by":{"object":"user","id":"f4f222d4-d508-405d-ba6c-da82ee26ee54"},"has_children":false,"archived":false,"in_trash":false,"type":"heading_3","heading_3":{"rich_text":[{"type":"text","text":{"content":"コンポーネント内部から参照する (dependency injection)","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default"},"plain_text":"コンポーネント内部から参照する (dependency injection)","href":null}],"is_toggleable":false,"color":"default"}},{"object":"block","id":"21dc8508-6b26-4650-8f65-8211c471a5c3","parent":{"type":"page_id","page_id":"8921bbca-9dc2-4312-8119-845110ae380e"},"created_time":"2022-10-30T12:49:00.000Z","last_edited_time":"2022-10-30T12:51:00.000Z","created_by":{"object":"user","id":"f4f222d4-d508-405d-ba6c-da82ee26ee54"},"last_edited_by":{"object":"user","id":"f4f222d4-d508-405d-ba6c-da82ee26ee54"},"has_children":false,"archived":false,"in_trash":false,"type":"paragraph","paragraph":{"rich_text":[{"type":"text","text":{"content":"もうひとつの使い方として、 ","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default"},"plain_text":"もうひとつの使い方として、 ","href":null},{"type":"text","text":{"content":"hostDirectives","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":true,"color":"default"},"plain_text":"hostDirectives","href":null},{"type":"text","text":{"content":" に追加したディレクティブの参照をDependency Injectionで取得することが考えられる。合成した機能を親コンポーネントに対して露出するのではなく、内部で利用する形だ。","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default"},"plain_text":" に追加したディレクティブの参照をDependency Injectionで取得することが考えられる。合成した機能を親コンポーネントに対して露出するのではなく、内部で利用する形だ。","href":null}],"color":"default"}},{"object":"block","id":"dd849bdd-11de-46d4-9204-a32aca30a9da","parent":{"type":"page_id","page_id":"8921bbca-9dc2-4312-8119-845110ae380e"},"created_time":"2022-10-30T12:52:00.000Z","last_edited_time":"2022-10-30T12:53:00.000Z","created_by":{"object":"user","id":"f4f222d4-d508-405d-ba6c-da82ee26ee54"},"last_edited_by":{"object":"user","id":"f4f222d4-d508-405d-ba6c-da82ee26ee54"},"has_children":false,"archived":false,"in_trash":false,"type":"paragraph","paragraph":{"rich_text":[{"type":"text","text":{"content":"次のように ","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default"},"plain_text":"次のように ","href":null},{"type":"text","text":{"content":"inject","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":true,"color":"default"},"plain_text":"inject","href":null},{"type":"text","text":{"content":" 関数で取得したホスト要素の ","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default"},"plain_text":" 関数で取得したホスト要素の ","href":null},{"type":"text","text":{"content":"ViewportDirective","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":true,"color":"default"},"plain_text":"ViewportDirective","href":null},{"type":"text","text":{"content":" インスタンスを使い、 ","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default"},"plain_text":" インスタンスを使い、 ","href":null},{"type":"text","text":{"content":"viewportIn","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":true,"color":"default"},"plain_text":"viewportIn","href":null},{"type":"text","text":{"content":" と ","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default"},"plain_text":" と ","href":null},{"type":"text","text":{"content":"viewportOut","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":true,"color":"default"},"plain_text":"viewportOut","href":null},{"type":"text","text":{"content":" のイベントを購読して処理を行うことができる。","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default"},"plain_text":" のイベントを購読して処理を行うことができる。","href":null}],"color":"default"}},{"object":"block","id":"9cee3201-07d9-4301-b531-b8627e0e757b","parent":{"type":"page_id","page_id":"8921bbca-9dc2-4312-8119-845110ae380e"},"created_time":"2022-10-30T12:51:00.000Z","last_edited_time":"2022-10-30T12:52:00.000Z","created_by":{"object":"user","id":"f4f222d4-d508-405d-ba6c-da82ee26ee54"},"last_edited_by":{"object":"user","id":"f4f222d4-d508-405d-ba6c-da82ee26ee54"},"has_children":false,"archived":false,"in_trash":false,"type":"code","code":{"caption":[],"rich_text":[{"type":"text","text":{"content":"@Component({\n  ...\n  hostDirectives: [\n    {\n      directive: ViewportDirective,\n    },\n  ],\n  host: {\n    '[class.in-viewport]': 'isInViewport',\n  },\n})\nexport class BannerComponent {\n  private viewport = inject(ViewportDirective, { self: true });\n  isInViewport = false;\n\n  ngOnInit() {\n    merge(\n      this.viewport.viewportIn.pipe(map(() => true)),\n      this.viewport.viewportOut.pipe(map(() => false))\n    ).subscribe((isInViewport) => {\n      this.isInViewport = isInViewport;\n    });\n  }\n}","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default"},"plain_text":"@Component({\n  ...\n  hostDirectives: [\n    {\n      directive: ViewportDirective,\n    },\n  ],\n  host: {\n    '[class.in-viewport]': 'isInViewport',\n  },\n})\nexport class BannerComponent {\n  private viewport = inject(ViewportDirective, { self: true });\n  isInViewport = false;\n\n  ngOnInit() {\n    merge(\n      this.viewport.viewportIn.pipe(map(() => true)),\n      this.viewport.viewportOut.pipe(map(() => false))\n    ).subscribe((isInViewport) => {\n      this.isInViewport = isInViewport;\n    });\n  }\n}","href":null}],"language":"typescript"}},{"object":"block","id":"b5a5e248-376b-4e65-ac5f-5a432f2b658b","parent":{"type":"page_id","page_id":"8921bbca-9dc2-4312-8119-845110ae380e"},"created_time":"2022-10-30T12:53:00.000Z","last_edited_time":"2022-10-30T13:09:00.000Z","created_by":{"object":"user","id":"f4f222d4-d508-405d-ba6c-da82ee26ee54"},"last_edited_by":{"object":"user","id":"f4f222d4-d508-405d-ba6c-da82ee26ee54"},"has_children":false,"archived":false,"in_trash":false,"type":"heading_2","heading_2":{"rich_text":[{"type":"text","text":{"content":"インプット・アウトプットの再公開は名前の設計が重要","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default"},"plain_text":"インプット・アウトプットの再公開は名前の設計が重要","href":null}],"is_toggleable":false,"color":"default"}},{"object":"block","id":"08a7bf37-c99d-4c37-a301-1cdf9aa8e2ae","parent":{"type":"page_id","page_id":"8921bbca-9dc2-4312-8119-845110ae380e"},"created_time":"2022-10-30T12:56:00.000Z","last_edited_time":"2022-10-30T13:21:00.000Z","created_by":{"object":"user","id":"f4f222d4-d508-405d-ba6c-da82ee26ee54"},"last_edited_by":{"object":"user","id":"f4f222d4-d508-405d-ba6c-da82ee26ee54"},"has_children":false,"archived":false,"in_trash":false,"type":"paragraph","paragraph":{"rich_text":[{"type":"text","text":{"content":"今回の検討で感じたのは、 ","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default"},"plain_text":"今回の検討で感じたのは、 ","href":null},{"type":"text","text":{"content":"outputs","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":true,"color":"default"},"plain_text":"outputs","href":null},{"type":"text","text":{"content":" を使ったケースでは ","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default"},"plain_text":" を使ったケースでは ","href":null},{"type":"text","text":{"content":"<app-banner>","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":true,"color":"default"},"plain_text":"<app-banner>","href":null},{"type":"text","text":{"content":" コンポーネントが ","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default"},"plain_text":" コンポーネントが ","href":null},{"type":"text","text":{"content":"viewportIn","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":true,"color":"default"},"plain_text":"viewportIn","href":null},{"type":"text","text":{"content":" / ","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default"},"plain_text":" / ","href":null},{"type":"text","text":{"content":"viewportOut","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":true,"color":"default"},"plain_text":"viewportOut","href":null},{"type":"text","text":{"content":" を自身のアウトプットとして再公開したが、 ","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default"},"plain_text":" を自身のアウトプットとして再公開したが、 ","href":null},{"type":"text","text":{"content":"ViewportDirective","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":true,"color":"default"},"plain_text":"ViewportDirective","href":null},{"type":"text","text":{"content":" が公開するときに適した命名とは違っているように思う。","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default"},"plain_text":" が公開するときに適した命名とは違っているように思う。","href":null}],"color":"default"}},{"object":"block","id":"77106a09-be4c-42f0-8ca2-b7ad0214011f","parent":{"type":"page_id","page_id":"8921bbca-9dc2-4312-8119-845110ae380e"},"created_time":"2022-10-30T13:21:00.000Z","last_edited_time":"2022-10-30T13:21:00.000Z","created_by":{"object":"user","id":"f4f222d4-d508-405d-ba6c-da82ee26ee54"},"last_edited_by":{"object":"user","id":"f4f222d4-d508-405d-ba6c-da82ee26ee54"},"has_children":false,"archived":false,"in_trash":false,"type":"paragraph","paragraph":{"rich_text":[{"type":"text","text":{"content":"ディレクティブのインプット・アウトプットは、ディレクティブ名をprefixとするような命名がされやすい。たとえば ","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default"},"plain_text":"ディレクティブのインプット・アウトプットは、ディレクティブ名をprefixとするような命名がされやすい。たとえば ","href":null},{"type":"text","text":{"content":"routerLink","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":true,"color":"default"},"plain_text":"routerLink","href":null},{"type":"text","text":{"content":" に対して ","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default"},"plain_text":" に対して ","href":null},{"type":"text","text":{"content":"routerLinkActive","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":true,"color":"default"},"plain_text":"routerLinkActive","href":null},{"type":"text","text":{"content":" のような感じだ。なぜかといえば同じホスト要素に複数の属性ディレクティブが付与されることがあり、名前空間を分けて衝突しないようにするからだ。","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default"},"plain_text":" のような感じだ。なぜかといえば同じホスト要素に複数の属性ディレクティブが付与されることがあり、名前空間を分けて衝突しないようにするからだ。","href":null}],"color":"default"}},{"object":"block","id":"f4f0409d-2cbf-46a2-a52e-546b79609ce0","parent":{"type":"page_id","page_id":"8921bbca-9dc2-4312-8119-845110ae380e"},"created_time":"2022-10-30T13:26:00.000Z","last_edited_time":"2022-10-30T13:32:00.000Z","created_by":{"object":"user","id":"f4f222d4-d508-405d-ba6c-da82ee26ee54"},"last_edited_by":{"object":"user","id":"f4f222d4-d508-405d-ba6c-da82ee26ee54"},"has_children":false,"archived":false,"in_trash":false,"type":"paragraph","paragraph":{"rich_text":[{"type":"text","text":{"content":"BannerComponent","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":true,"color":"default"},"plain_text":"BannerComponent","href":null},{"type":"text","text":{"content":" から再公開したインプット・アウトプットが合成されたものであったとしても、 ","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default"},"plain_text":" から再公開したインプット・アウトプットが合成されたものであったとしても、 ","href":null},{"type":"text","text":{"content":"BannerComponent","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":true,"color":"default"},"plain_text":"BannerComponent","href":null},{"type":"text","text":{"content":" を利用する側からすれば直接定義されたものとの間に違いはない。だから ","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default"},"plain_text":" を利用する側からすれば直接定義されたものとの間に違いはない。だから ","href":null},{"type":"text","text":{"content":"BannerComponent","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":true,"color":"default"},"plain_text":"BannerComponent","href":null},{"type":"text","text":{"content":" が持っていても不自然ではない名前で公開するようにエイリアスを設定するのがいいだろう。エイリアスは ","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default"},"plain_text":" が持っていても不自然ではない名前で公開するようにエイリアスを設定するのがいいだろう。エイリアスは ","href":null},{"type":"text","text":{"content":"元の名前: 再公開する名前","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":true,"color":"default"},"plain_text":"元の名前: 再公開する名前","href":null},{"type":"text","text":{"content":" で設定できる。","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default"},"plain_text":" で設定できる。","href":null}],"color":"default"}},{"object":"block","id":"f0130175-200f-4ae1-ba31-712e7455b2f7","parent":{"type":"page_id","page_id":"8921bbca-9dc2-4312-8119-845110ae380e"},"created_time":"2022-10-30T13:27:00.000Z","last_edited_time":"2022-10-30T13:31:00.000Z","created_by":{"object":"user","id":"f4f222d4-d508-405d-ba6c-da82ee26ee54"},"last_edited_by":{"object":"user","id":"f4f222d4-d508-405d-ba6c-da82ee26ee54"},"has_children":false,"archived":false,"in_trash":false,"type":"code","code":{"caption":[],"rich_text":[{"type":"text","text":{"content":"@Component({\n  ...,\n  hostDirectives: [\n    {\n      directive: ViewportDirective,\n      outputs: [\n        'viewportIn: shown', // `<app-banner (shown)=\"onBannerShown()\">\n      ],\n    },\n  ],\n})","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default"},"plain_text":"@Component({\n  ...,\n  hostDirectives: [\n    {\n      directive: ViewportDirective,\n      outputs: [\n        'viewportIn: shown', // `<app-banner (shown)=\"onBannerShown()\">\n      ],\n    },\n  ],\n})","href":null}],"language":"typescript"}},{"object":"block","id":"23138bc2-8062-4b57-a9de-273c35a9a271","parent":{"type":"page_id","page_id":"8921bbca-9dc2-4312-8119-845110ae380e"},"created_time":"2022-10-30T13:31:00.000Z","last_edited_time":"2022-10-30T13:31:00.000Z","created_by":{"object":"user","id":"f4f222d4-d508-405d-ba6c-da82ee26ee54"},"last_edited_by":{"object":"user","id":"f4f222d4-d508-405d-ba6c-da82ee26ee54"},"has_children":false,"archived":false,"in_trash":false,"type":"paragraph","paragraph":{"rich_text":[],"color":"default"}}]