[{"object":"block","id":"870fe10b-21bb-401c-b585-79ae232a043e","parent":{"type":"page_id","page_id":"06291552-322a-4152-9379-de518e857222"},"created_time":"2022-10-08T01:27:00.000Z","last_edited_time":"2023-02-08T11:43:00.000Z","created_by":{"object":"user","id":"f4f222d4-d508-405d-ba6c-da82ee26ee54"},"last_edited_by":{"object":"user","id":"f4f222d4-d508-405d-ba6c-da82ee26ee54"},"has_children":false,"archived":false,"in_trash":false,"type":"paragraph","paragraph":{"rich_text":[{"type":"text","text":{"content":"Angularコンポーネントの見た目が崩れていないことを確認する画像回帰テストを、できるだけ最小ステップで既存のAngular CLIプロジェクトに導入する手順を紹介する。\n\nいくつか検討したが、この方法が現状では比較的追加要素が少なく、導入上の困難が少ないと思われる。もっといい方法を知っている人がいたらぜひ Twitter ","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default"},"plain_text":"Angularコンポーネントの見た目が崩れていないことを確認する画像回帰テストを、できるだけ最小ステップで既存のAngular CLIプロジェクトに導入する手順を紹介する。\n\nいくつか検討したが、この方法が現状では比較的追加要素が少なく、導入上の困難が少ないと思われる。もっといい方法を知っている人がいたらぜひ Twitter ","href":null},{"type":"text","text":{"content":"@laco2net","link":{"url":"https://twitter.com/laco2net"}},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default"},"plain_text":"@laco2net","href":"https://twitter.com/laco2net"},{"type":"text","text":{"content":" などで教えてほしい。","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default"},"plain_text":" などで教えてほしい。","href":null}],"color":"default"}},{"object":"block","id":"0c3cc747-a4a2-4201-b443-6bccf38c85e6","parent":{"type":"page_id","page_id":"06291552-322a-4152-9379-de518e857222"},"created_time":"2022-10-08T01:31:00.000Z","last_edited_time":"2022-10-08T01:31:00.000Z","created_by":{"object":"user","id":"f4f222d4-d508-405d-ba6c-da82ee26ee54"},"last_edited_by":{"object":"user","id":"f4f222d4-d508-405d-ba6c-da82ee26ee54"},"has_children":false,"archived":false,"in_trash":false,"type":"heading_2","heading_2":{"rich_text":[{"type":"text","text":{"content":"サンプルレポジトリ","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default"},"plain_text":"サンプルレポジトリ","href":null}],"is_toggleable":false,"color":"default"}},{"object":"block","id":"cb03dbd2-5aba-4977-98b3-9f16a4a9d797","parent":{"type":"page_id","page_id":"06291552-322a-4152-9379-de518e857222"},"created_time":"2022-10-08T01:39:00.000Z","last_edited_time":"2022-10-08T01:39:00.000Z","created_by":{"object":"user","id":"f4f222d4-d508-405d-ba6c-da82ee26ee54"},"last_edited_by":{"object":"user","id":"f4f222d4-d508-405d-ba6c-da82ee26ee54"},"has_children":false,"archived":false,"in_trash":false,"type":"paragraph","paragraph":{"rich_text":[{"type":"text","text":{"content":"今回の記事の内容が実際に動作するデモレポジトリはこちら","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default"},"plain_text":"今回の記事の内容が実際に動作するデモレポジトリはこちら","href":null}],"color":"default"}},{"object":"block","id":"aa593635-4063-479f-b2b9-c1b1b3f774de","parent":{"type":"page_id","page_id":"06291552-322a-4152-9379-de518e857222"},"created_time":"2022-10-08T01:38:00.000Z","last_edited_time":"2023-12-24T00:38:00.000Z","created_by":{"object":"user","id":"f4f222d4-d508-405d-ba6c-da82ee26ee54"},"last_edited_by":{"object":"user","id":"480a5159-f46b-4a81-895c-9d56a207d9cc"},"has_children":false,"archived":false,"in_trash":false,"type":"link_preview","link_preview":{"url":"https://github.com/lacolaco/angular-cypress-vistest-demo"}},{"object":"block","id":"e13a7ccf-b49e-4a6a-93e2-0ee9e2597a3b","parent":{"type":"page_id","page_id":"06291552-322a-4152-9379-de518e857222"},"created_time":"2022-10-08T01:38:00.000Z","last_edited_time":"2022-10-08T01:47:00.000Z","created_by":{"object":"user","id":"f4f222d4-d508-405d-ba6c-da82ee26ee54"},"last_edited_by":{"object":"user","id":"f4f222d4-d508-405d-ba6c-da82ee26ee54"},"has_children":false,"archived":false,"in_trash":false,"type":"heading_2","heading_2":{"rich_text":[{"type":"text","text":{"content":"CLIワークスペースにCypressを導入する","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default"},"plain_text":"CLIワークスペースにCypressを導入する","href":null}],"is_toggleable":false,"color":"default"}},{"object":"block","id":"e1bb1360-edbe-4b4c-842b-b58dfd93b827","parent":{"type":"page_id","page_id":"06291552-322a-4152-9379-de518e857222"},"created_time":"2022-10-08T01:51:00.000Z","last_edited_time":"2022-10-08T01:51:00.000Z","created_by":{"object":"user","id":"f4f222d4-d508-405d-ba6c-da82ee26ee54"},"last_edited_by":{"object":"user","id":"f4f222d4-d508-405d-ba6c-da82ee26ee54"},"has_children":false,"archived":false,"in_trash":false,"type":"paragraph","paragraph":{"rich_text":[{"type":"text","text":{"content":"この手順は基本的にCypressの公式ドキュメントに従う。","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default"},"plain_text":"この手順は基本的にCypressの公式ドキュメントに従う。","href":null}],"color":"default"}},{"object":"block","id":"ebfe0281-1161-4c00-8619-493b98351ed1","parent":{"type":"page_id","page_id":"06291552-322a-4152-9379-de518e857222"},"created_time":"2022-10-08T01:51:00.000Z","last_edited_time":"2022-10-08T01:51:00.000Z","created_by":{"object":"user","id":"f4f222d4-d508-405d-ba6c-da82ee26ee54"},"last_edited_by":{"object":"user","id":"f4f222d4-d508-405d-ba6c-da82ee26ee54"},"has_children":false,"archived":false,"in_trash":false,"type":"bookmark","bookmark":{"caption":[],"url":"https://docs.cypress.io/guides/component-testing/quickstart-angular"}},{"object":"block","id":"16c97ce5-4e6d-461c-aeda-78bc4d586c53","parent":{"type":"page_id","page_id":"06291552-322a-4152-9379-de518e857222"},"created_time":"2022-10-08T01:47:00.000Z","last_edited_time":"2022-10-08T01:51:00.000Z","created_by":{"object":"user","id":"f4f222d4-d508-405d-ba6c-da82ee26ee54"},"last_edited_by":{"object":"user","id":"f4f222d4-d508-405d-ba6c-da82ee26ee54"},"has_children":false,"archived":false,"in_trash":false,"type":"paragraph","paragraph":{"rich_text":[{"type":"text","text":{"content":"まずは、Angular CLIで作成したワークスペースに、Cypress パッケージをインストールする。","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default"},"plain_text":"まずは、Angular CLIで作成したワークスペースに、Cypress パッケージをインストールする。","href":null}],"color":"default"}},{"object":"block","id":"caff1c9b-5966-4118-a68d-227240b6010c","parent":{"type":"page_id","page_id":"06291552-322a-4152-9379-de518e857222"},"created_time":"2022-10-08T01:49:00.000Z","last_edited_time":"2022-10-08T01:51:00.000Z","created_by":{"object":"user","id":"f4f222d4-d508-405d-ba6c-da82ee26ee54"},"last_edited_by":{"object":"user","id":"f4f222d4-d508-405d-ba6c-da82ee26ee54"},"has_children":false,"archived":false,"in_trash":false,"type":"code","code":{"caption":[],"rich_text":[{"type":"text","text":{"content":"# npm\nnpm i -D cypress\n# yarn\nyarn add -D cypress","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default"},"plain_text":"# npm\nnpm i -D cypress\n# yarn\nyarn add -D cypress","href":null}],"language":"shell"}},{"object":"block","id":"09158668-0adc-4527-be6d-0bfeb9b58fb3","parent":{"type":"page_id","page_id":"06291552-322a-4152-9379-de518e857222"},"created_time":"2022-10-08T01:47:00.000Z","last_edited_time":"2022-10-08T01:52:00.000Z","created_by":{"object":"user","id":"f4f222d4-d508-405d-ba6c-da82ee26ee54"},"last_edited_by":{"object":"user","id":"f4f222d4-d508-405d-ba6c-da82ee26ee54"},"has_children":false,"archived":false,"in_trash":false,"type":"paragraph","paragraph":{"rich_text":[{"type":"text","text":{"content":"パッケージをインストールしたら、 ","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default"},"plain_text":"パッケージをインストールしたら、 ","href":null},{"type":"text","text":{"content":"cypress","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":true,"color":"default"},"plain_text":"cypress","href":null},{"type":"text","text":{"content":" CLIで各種設定の初期化を行う。CypressのGUI操作をしていくと必要なファイルが自動で生成される。","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default"},"plain_text":" CLIで各種設定の初期化を行う。CypressのGUI操作をしていくと必要なファイルが自動で生成される。","href":null}],"color":"default"}},{"object":"block","id":"7218e9c3-b0d2-4fa9-af68-de35dd605b80","parent":{"type":"page_id","page_id":"06291552-322a-4152-9379-de518e857222"},"created_time":"2022-10-08T01:52:00.000Z","last_edited_time":"2022-10-08T01:53:00.000Z","created_by":{"object":"user","id":"f4f222d4-d508-405d-ba6c-da82ee26ee54"},"last_edited_by":{"object":"user","id":"f4f222d4-d508-405d-ba6c-da82ee26ee54"},"has_children":false,"archived":false,"in_trash":false,"type":"code","code":{"caption":[],"rich_text":[{"type":"text","text":{"content":"npx cypress open","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default"},"plain_text":"npx cypress open","href":null}],"language":"shell"}},{"object":"block","id":"64ac5193-59ad-4db7-ac5f-9a30ffee6079","parent":{"type":"page_id","page_id":"06291552-322a-4152-9379-de518e857222"},"created_time":"2022-10-08T01:53:00.000Z","last_edited_time":"2022-10-08T01:53:00.000Z","created_by":{"object":"user","id":"f4f222d4-d508-405d-ba6c-da82ee26ee54"},"last_edited_by":{"object":"user","id":"f4f222d4-d508-405d-ba6c-da82ee26ee54"},"has_children":false,"archived":false,"in_trash":false,"type":"bulleted_list_item","bulleted_list_item":{"rich_text":[{"type":"text","text":{"content":"テスト形式は “Component Testing” を選択する","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default"},"plain_text":"テスト形式は “Component Testing” を選択する","href":null}],"color":"default"}},{"object":"block","id":"955f94e5-5827-4493-835c-9172820e9524","parent":{"type":"page_id","page_id":"06291552-322a-4152-9379-de518e857222"},"created_time":"2022-10-08T01:53:00.000Z","last_edited_time":"2022-10-08T01:53:00.000Z","created_by":{"object":"user","id":"f4f222d4-d508-405d-ba6c-da82ee26ee54"},"last_edited_by":{"object":"user","id":"f4f222d4-d508-405d-ba6c-da82ee26ee54"},"has_children":false,"archived":false,"in_trash":false,"type":"bulleted_list_item","bulleted_list_item":{"rich_text":[{"type":"text","text":{"content":"フレームワークは “Angular” を選択する（通常は自動検出されている）","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default"},"plain_text":"フレームワークは “Angular” を選択する（通常は自動検出されている）","href":null}],"color":"default"}},{"object":"block","id":"8531571b-a2b7-4a77-97a7-814805a54c35","parent":{"type":"page_id","page_id":"06291552-322a-4152-9379-de518e857222"},"created_time":"2022-10-08T01:53:00.000Z","last_edited_time":"2022-10-08T01:54:00.000Z","created_by":{"object":"user","id":"f4f222d4-d508-405d-ba6c-da82ee26ee54"},"last_edited_by":{"object":"user","id":"f4f222d4-d508-405d-ba6c-da82ee26ee54"},"has_children":false,"archived":false,"in_trash":false,"type":"bulleted_list_item","bulleted_list_item":{"rich_text":[{"type":"text","text":{"content":"コンフィグファイルはデフォルトのまま生成する","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default"},"plain_text":"コンフィグファイルはデフォルトのまま生成する","href":null}],"color":"default"}},{"object":"block","id":"ff807bb2-326d-4ba9-82c5-a8a89095d739","parent":{"type":"page_id","page_id":"06291552-322a-4152-9379-de518e857222"},"created_time":"2022-10-08T01:54:00.000Z","last_edited_time":"2022-10-08T01:55:00.000Z","created_by":{"object":"user","id":"f4f222d4-d508-405d-ba6c-da82ee26ee54"},"last_edited_by":{"object":"user","id":"f4f222d4-d508-405d-ba6c-da82ee26ee54"},"has_children":false,"archived":false,"in_trash":false,"type":"heading_2","heading_2":{"rich_text":[{"type":"text","text":{"content":"画像回帰テスト用のプラグインを追加する","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default"},"plain_text":"画像回帰テスト用のプラグインを追加する","href":null}],"is_toggleable":false,"color":"default"}},{"object":"block","id":"811841f5-1b1f-4e1b-940a-8d8d16e410f4","parent":{"type":"page_id","page_id":"06291552-322a-4152-9379-de518e857222"},"created_time":"2022-10-08T01:55:00.000Z","last_edited_time":"2022-10-08T02:01:00.000Z","created_by":{"object":"user","id":"f4f222d4-d508-405d-ba6c-da82ee26ee54"},"last_edited_by":{"object":"user","id":"f4f222d4-d508-405d-ba6c-da82ee26ee54"},"has_children":false,"archived":false,"in_trash":false,"type":"paragraph","paragraph":{"rich_text":[{"type":"text","text":{"content":"Cypress単体では画像回帰テストをサポートしていないため、サードパーティのプラグインを導入する必要がある。","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default"},"plain_text":"Cypress単体では画像回帰テストをサポートしていないため、サードパーティのプラグインを導入する必要がある。","href":null}],"color":"default"}},{"object":"block","id":"84db426c-acb9-46b1-a792-af8626910ea2","parent":{"type":"page_id","page_id":"06291552-322a-4152-9379-de518e857222"},"created_time":"2022-10-08T02:00:00.000Z","last_edited_time":"2022-10-08T02:00:00.000Z","created_by":{"object":"user","id":"f4f222d4-d508-405d-ba6c-da82ee26ee54"},"last_edited_by":{"object":"user","id":"f4f222d4-d508-405d-ba6c-da82ee26ee54"},"has_children":false,"archived":false,"in_trash":false,"type":"bookmark","bookmark":{"caption":[],"url":"https://docs.cypress.io/guides/tooling/visual-testing"}},{"object":"block","id":"c5ce6466-e154-4018-b1ae-158bba0b19d1","parent":{"type":"page_id","page_id":"06291552-322a-4152-9379-de518e857222"},"created_time":"2022-10-08T02:00:00.000Z","last_edited_time":"2022-10-08T02:01:00.000Z","created_by":{"object":"user","id":"f4f222d4-d508-405d-ba6c-da82ee26ee54"},"last_edited_by":{"object":"user","id":"f4f222d4-d508-405d-ba6c-da82ee26ee54"},"has_children":false,"archived":false,"in_trash":false,"type":"bookmark","bookmark":{"caption":[],"url":"https://docs.cypress.io/plugins/directory#Visual%20Testing"}},{"object":"block","id":"3d709018-a2c5-4c3d-bb56-fbb2df78a930","parent":{"type":"page_id","page_id":"06291552-322a-4152-9379-de518e857222"},"created_time":"2022-10-08T02:00:00.000Z","last_edited_time":"2022-10-08T02:02:00.000Z","created_by":{"object":"user","id":"f4f222d4-d508-405d-ba6c-da82ee26ee54"},"last_edited_by":{"object":"user","id":"f4f222d4-d508-405d-ba6c-da82ee26ee54"},"has_children":false,"archived":false,"in_trash":false,"type":"paragraph","paragraph":{"rich_text":[{"type":"text","text":{"content":"いくつかプラグインはあるが、比較的新しく作られメンテナンスが活発なものの中で、コンポーネントテストに適合したものとして ","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default"},"plain_text":"いくつかプラグインはあるが、比較的新しく作られメンテナンスが活発なものの中で、コンポーネントテストに適合したものとして ","href":null},{"type":"text","text":{"content":"@frsource/cypress-plugin-visual-regression-diff","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":true,"color":"default"},"plain_text":"@frsource/cypress-plugin-visual-regression-diff","href":null},{"type":"text","text":{"content":" を紹介する。","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default"},"plain_text":" を紹介する。","href":null}],"color":"default"}},{"object":"block","id":"0a23bd5b-9a42-45ba-8f7d-b25a009ef53a","parent":{"type":"page_id","page_id":"06291552-322a-4152-9379-de518e857222"},"created_time":"2022-10-08T01:55:00.000Z","last_edited_time":"2023-12-24T00:38:00.000Z","created_by":{"object":"user","id":"f4f222d4-d508-405d-ba6c-da82ee26ee54"},"last_edited_by":{"object":"user","id":"480a5159-f46b-4a81-895c-9d56a207d9cc"},"has_children":false,"archived":false,"in_trash":false,"type":"link_preview","link_preview":{"url":"https://github.com/FRSOURCE/cypress-plugin-visual-regression-diff"}},{"object":"block","id":"1b4246ff-5427-48da-b5ff-c970ccafd194","parent":{"type":"page_id","page_id":"06291552-322a-4152-9379-de518e857222"},"created_time":"2022-10-08T02:02:00.000Z","last_edited_time":"2022-10-08T02:05:00.000Z","created_by":{"object":"user","id":"f4f222d4-d508-405d-ba6c-da82ee26ee54"},"last_edited_by":{"object":"user","id":"f4f222d4-d508-405d-ba6c-da82ee26ee54"},"has_children":false,"archived":false,"in_trash":false,"type":"paragraph","paragraph":{"rich_text":[{"type":"text","text":{"content":"こちらも導入方法は README.mdに書かれていることに従うだけでよい。まずはnpmパッケージをインストールする。","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default"},"plain_text":"こちらも導入方法は README.mdに書かれていることに従うだけでよい。まずはnpmパッケージをインストールする。","href":null}],"color":"default"}},{"object":"block","id":"e9c70f59-c8a9-4956-9154-10bef5852589","parent":{"type":"page_id","page_id":"06291552-322a-4152-9379-de518e857222"},"created_time":"2022-10-08T02:03:00.000Z","last_edited_time":"2022-10-08T02:04:00.000Z","created_by":{"object":"user","id":"f4f222d4-d508-405d-ba6c-da82ee26ee54"},"last_edited_by":{"object":"user","id":"f4f222d4-d508-405d-ba6c-da82ee26ee54"},"has_children":false,"archived":false,"in_trash":false,"type":"code","code":{"caption":[],"rich_text":[{"type":"text","text":{"content":"# npm\nnpm i -D @frsource/cypress-plugin-visual-regression-diff\n# yarn\nyarn add -D @frsource/cypress-plugin-visual-regression-diff","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default"},"plain_text":"# npm\nnpm i -D @frsource/cypress-plugin-visual-regression-diff\n# yarn\nyarn add -D @frsource/cypress-plugin-visual-regression-diff","href":null}],"language":"shell"}},{"object":"block","id":"a7db60df-38b9-4fe0-8125-eb1c6e44e91f","parent":{"type":"page_id","page_id":"06291552-322a-4152-9379-de518e857222"},"created_time":"2022-10-08T02:04:00.000Z","last_edited_time":"2022-10-08T02:11:00.000Z","created_by":{"object":"user","id":"f4f222d4-d508-405d-ba6c-da82ee26ee54"},"last_edited_by":{"object":"user","id":"f4f222d4-d508-405d-ba6c-da82ee26ee54"},"has_children":false,"archived":false,"in_trash":false,"type":"paragraph","paragraph":{"rich_text":[{"type":"text","text":{"content":"次に、Cypressにプラグインを導入する。2つの作業が必要で、まずはCypressのテストコードで ","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default"},"plain_text":"次に、Cypressにプラグインを導入する。2つの作業が必要で、まずはCypressのテストコードで ","href":null},{"type":"text","text":{"content":"cy.matchImage()","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":true,"color":"default"},"plain_text":"cy.matchImage()","href":null},{"type":"text","text":{"content":" コマンドを使用可能にするために、 ","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default"},"plain_text":" コマンドを使用可能にするために、 ","href":null},{"type":"text","text":{"content":"cypress/support/component.ts","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":true,"color":"default"},"plain_text":"cypress/support/component.ts","href":null},{"type":"text","text":{"content":" ファイルに次のインポート文を追加する。","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default"},"plain_text":" ファイルに次のインポート文を追加する。","href":null}],"color":"default"}},{"object":"block","id":"33ab60d9-e194-4edd-873e-9e3b9fbc1f89","parent":{"type":"page_id","page_id":"06291552-322a-4152-9379-de518e857222"},"created_time":"2022-10-08T02:09:00.000Z","last_edited_time":"2022-10-08T02:10:00.000Z","created_by":{"object":"user","id":"f4f222d4-d508-405d-ba6c-da82ee26ee54"},"last_edited_by":{"object":"user","id":"f4f222d4-d508-405d-ba6c-da82ee26ee54"},"has_children":false,"archived":false,"in_trash":false,"type":"code","code":{"caption":[],"rich_text":[{"type":"text","text":{"content":"// cypress/support/component.ts\n\nimport '@frsource/cypress-plugin-visual-regression-diff';","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default"},"plain_text":"// cypress/support/component.ts\n\nimport '@frsource/cypress-plugin-visual-regression-diff';","href":null}],"language":"typescript"}},{"object":"block","id":"a8aa7da9-9cd5-49fe-b1f6-d9e558e42e89","parent":{"type":"page_id","page_id":"06291552-322a-4152-9379-de518e857222"},"created_time":"2022-10-08T02:11:00.000Z","last_edited_time":"2022-10-08T02:21:00.000Z","created_by":{"object":"user","id":"f4f222d4-d508-405d-ba6c-da82ee26ee54"},"last_edited_by":{"object":"user","id":"f4f222d4-d508-405d-ba6c-da82ee26ee54"},"has_children":false,"archived":false,"in_trash":false,"type":"paragraph","paragraph":{"rich_text":[{"type":"text","text":{"content":"次に、ルートディレクトリに追加されている ","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default"},"plain_text":"次に、ルートディレクトリに追加されている ","href":null},{"type":"text","text":{"content":"cypress.config.ts","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":true,"color":"default"},"plain_text":"cypress.config.ts","href":null},{"type":"text","text":{"content":" にもプラグインを導入する。ただし、 ","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default"},"plain_text":" にもプラグインを導入する。ただし、 ","href":null},{"type":"text","text":{"content":"v2.3.1","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":true,"color":"default"},"plain_text":"v2.3.1","href":null},{"type":"text","text":{"content":" の時点では ","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default"},"plain_text":" の時点では ","href":null},{"type":"text","text":{"content":"initPlugin","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":true,"color":"default"},"plain_text":"initPlugin","href":null},{"type":"text","text":{"content":" のインポート文でTypeScriptの型定義ファイルが見つからないというエラーがエディターに表示されるが、そのままで動作する。気になる場合は ","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default"},"plain_text":" のインポート文でTypeScriptの型定義ファイルが見つからないというエラーがエディターに表示されるが、そのままで動作する。気になる場合は ","href":null},{"type":"text","text":{"content":"require","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":true,"color":"default"},"plain_text":"require","href":null},{"type":"text","text":{"content":" に切り替えても動作するし、 ","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default"},"plain_text":" に切り替えても動作するし、 ","href":null},{"type":"text","text":{"content":"cypress.config.js","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":true,"color":"default"},"plain_text":"cypress.config.js","href":null},{"type":"text","text":{"content":" に拡張子を切り替えてもよい。","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default"},"plain_text":" に拡張子を切り替えてもよい。","href":null}],"color":"default"}},{"object":"block","id":"08420707-dfee-4eb7-9b00-9cd3e8856241","parent":{"type":"page_id","page_id":"06291552-322a-4152-9379-de518e857222"},"created_time":"2022-10-08T02:15:00.000Z","last_edited_time":"2022-10-08T02:21:00.000Z","created_by":{"object":"user","id":"f4f222d4-d508-405d-ba6c-da82ee26ee54"},"last_edited_by":{"object":"user","id":"f4f222d4-d508-405d-ba6c-da82ee26ee54"},"has_children":false,"archived":false,"in_trash":false,"type":"code","code":{"caption":[],"rich_text":[{"type":"text","text":{"content":"import { defineConfig } from 'cypress';\n// プラグインの初期化関数をインポートする\nimport { initPlugin } from '@frsource/cypress-plugin-visual-regression-diff/plugins';\n\nexport default defineConfig({\n  component: {\n    devServer: {\n      framework: 'angular',\n      bundler: 'webpack',\n    },\n    specPattern: '**/*.cy.ts',\n    setupNodeEvents(on, config) {\n\t\t\t// プラグインを初期化する\n      initPlugin(on, config);\n    },\n  },\n});","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default"},"plain_text":"import { defineConfig } from 'cypress';\n// プラグインの初期化関数をインポートする\nimport { initPlugin } from '@frsource/cypress-plugin-visual-regression-diff/plugins';\n\nexport default defineConfig({\n  component: {\n    devServer: {\n      framework: 'angular',\n      bundler: 'webpack',\n    },\n    specPattern: '**/*.cy.ts',\n    setupNodeEvents(on, config) {\n\t\t\t// プラグインを初期化する\n      initPlugin(on, config);\n    },\n  },\n});","href":null}],"language":"typescript"}},{"object":"block","id":"4d06fd5b-80e5-46cb-a8fa-9a22044bcc0a","parent":{"type":"page_id","page_id":"06291552-322a-4152-9379-de518e857222"},"created_time":"2022-10-08T02:21:00.000Z","last_edited_time":"2022-10-08T02:22:00.000Z","created_by":{"object":"user","id":"f4f222d4-d508-405d-ba6c-da82ee26ee54"},"last_edited_by":{"object":"user","id":"f4f222d4-d508-405d-ba6c-da82ee26ee54"},"has_children":false,"archived":false,"in_trash":false,"type":"paragraph","paragraph":{"rich_text":[{"type":"text","text":{"content":"これでプラグインを導入できた。あとはコンポーネントのテストを記述するだけである。","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default"},"plain_text":"これでプラグインを導入できた。あとはコンポーネントのテストを記述するだけである。","href":null}],"color":"default"}},{"object":"block","id":"4d55cda7-743e-44f6-bf93-3658aaf00cec","parent":{"type":"page_id","page_id":"06291552-322a-4152-9379-de518e857222"},"created_time":"2022-10-08T02:22:00.000Z","last_edited_time":"2022-10-08T02:22:00.000Z","created_by":{"object":"user","id":"f4f222d4-d508-405d-ba6c-da82ee26ee54"},"last_edited_by":{"object":"user","id":"f4f222d4-d508-405d-ba6c-da82ee26ee54"},"has_children":false,"archived":false,"in_trash":false,"type":"heading_2","heading_2":{"rich_text":[{"type":"text","text":{"content":"コンポーネントテストを記述する","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default"},"plain_text":"コンポーネントテストを記述する","href":null}],"is_toggleable":false,"color":"default"}},{"object":"block","id":"665834fe-4e60-47f0-8073-6eaea98f27d1","parent":{"type":"page_id","page_id":"06291552-322a-4152-9379-de518e857222"},"created_time":"2022-10-08T02:22:00.000Z","last_edited_time":"2022-10-08T02:23:00.000Z","created_by":{"object":"user","id":"f4f222d4-d508-405d-ba6c-da82ee26ee54"},"last_edited_by":{"object":"user","id":"f4f222d4-d508-405d-ba6c-da82ee26ee54"},"has_children":false,"archived":false,"in_trash":false,"type":"paragraph","paragraph":{"rich_text":[{"type":"text","text":{"content":"今回の例ではライブラリプロジェクト ","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default"},"plain_text":"今回の例ではライブラリプロジェクト ","href":null},{"type":"text","text":{"content":"projects/ui","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":true,"color":"default"},"plain_text":"projects/ui","href":null},{"type":"text","text":{"content":" の中に作成した ","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default"},"plain_text":" の中に作成した ","href":null},{"type":"text","text":{"content":"MessageComponent","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":true,"color":"default"},"plain_text":"MessageComponent","href":null},{"type":"text","text":{"content":" を対象に画像回帰テストを記述する。","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default"},"plain_text":" を対象に画像回帰テストを記述する。","href":null}],"color":"default"}},{"object":"block","id":"2bec1894-8834-4089-986e-82d30e5fd228","parent":{"type":"page_id","page_id":"06291552-322a-4152-9379-de518e857222"},"created_time":"2022-10-08T02:23:00.000Z","last_edited_time":"2022-10-08T02:24:00.000Z","created_by":{"object":"user","id":"f4f222d4-d508-405d-ba6c-da82ee26ee54"},"last_edited_by":{"object":"user","id":"f4f222d4-d508-405d-ba6c-da82ee26ee54"},"has_children":false,"archived":false,"in_trash":false,"type":"code","code":{"caption":[],"rich_text":[{"type":"text","text":{"content":"// message.component.ts\nimport { CommonModule } from '@angular/common';\nimport { Component, Input } from '@angular/core';\n\n@Component({\n  standalone: true,\n  imports: [CommonModule],\n  selector: 'ui-message',\n  template: ` <p *ngIf=\"message\">{{ message }}</p> `,\n  styles: [\n    `\n      p {\n        color: red;\n      }\n    `,\n  ],\n})\nexport class MessageComponent {\n  @Input() message: string = '';\n}","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default"},"plain_text":"// message.component.ts\nimport { CommonModule } from '@angular/common';\nimport { Component, Input } from '@angular/core';\n\n@Component({\n  standalone: true,\n  imports: [CommonModule],\n  selector: 'ui-message',\n  template: ` <p *ngIf=\"message\">{{ message }}</p> `,\n  styles: [\n    `\n      p {\n        color: red;\n      }\n    `,\n  ],\n})\nexport class MessageComponent {\n  @Input() message: string = '';\n}","href":null}],"language":"typescript"}},{"object":"block","id":"d8e3908f-d2a2-41d3-b203-271067d164b6","parent":{"type":"page_id","page_id":"06291552-322a-4152-9379-de518e857222"},"created_time":"2022-10-08T02:23:00.000Z","last_edited_time":"2022-10-08T02:32:00.000Z","created_by":{"object":"user","id":"f4f222d4-d508-405d-ba6c-da82ee26ee54"},"last_edited_by":{"object":"user","id":"f4f222d4-d508-405d-ba6c-da82ee26ee54"},"has_children":false,"archived":false,"in_trash":false,"type":"paragraph","paragraph":{"rich_text":[{"type":"text","text":{"content":"このコンポーネント実装に対して、同じディレクトリに ","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default"},"plain_text":"このコンポーネント実装に対して、同じディレクトリに ","href":null},{"type":"text","text":{"content":"message.component.cy.ts","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":true,"color":"default"},"plain_text":"message.component.cy.ts","href":null},{"type":"text","text":{"content":" を作成する。 ","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default"},"plain_text":" を作成する。 ","href":null},{"type":"text","text":{"content":"cy.mount","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":true,"color":"default"},"plain_text":"cy.mount","href":null},{"type":"text","text":{"content":" コマンドを使ってAngularコンポーネントをドキュメント上に表示（マウント）できる。第一引数にはコンポーネントクラスか、テンプレートHTMLを指定できる。この関数の使い方についてはCypressの公式ドキュメントを参考にするとよい。","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default"},"plain_text":" コマンドを使ってAngularコンポーネントをドキュメント上に表示（マウント）できる。第一引数にはコンポーネントクラスか、テンプレートHTMLを指定できる。この関数の使い方についてはCypressの公式ドキュメントを参考にするとよい。","href":null}],"color":"default"}},{"object":"block","id":"cae162e4-8c67-42fd-af85-57598ea2d26e","parent":{"type":"page_id","page_id":"06291552-322a-4152-9379-de518e857222"},"created_time":"2022-10-08T02:27:00.000Z","last_edited_time":"2022-10-08T02:28:00.000Z","created_by":{"object":"user","id":"f4f222d4-d508-405d-ba6c-da82ee26ee54"},"last_edited_by":{"object":"user","id":"f4f222d4-d508-405d-ba6c-da82ee26ee54"},"has_children":false,"archived":false,"in_trash":false,"type":"bookmark","bookmark":{"caption":[],"url":"https://docs.cypress.io/guides/component-testing/mounting-angular#What-is-the-Mount-Function"}},{"object":"block","id":"f62d9e91-d5a3-4cc1-8cdc-7556d9554de9","parent":{"type":"page_id","page_id":"06291552-322a-4152-9379-de518e857222"},"created_time":"2022-10-08T02:28:00.000Z","last_edited_time":"2022-10-08T02:32:00.000Z","created_by":{"object":"user","id":"f4f222d4-d508-405d-ba6c-da82ee26ee54"},"last_edited_by":{"object":"user","id":"f4f222d4-d508-405d-ba6c-da82ee26ee54"},"has_children":false,"archived":false,"in_trash":false,"type":"paragraph","paragraph":{"rich_text":[{"type":"text","text":{"content":"次の例では ","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default"},"plain_text":"次の例では ","href":null},{"type":"text","text":{"content":"MessageComponent","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":true,"color":"default"},"plain_text":"MessageComponent","href":null},{"type":"text","text":{"content":" の Inputである ","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default"},"plain_text":" の Inputである ","href":null},{"type":"text","text":{"content":"message","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":true,"color":"default"},"plain_text":"message","href":null},{"type":"text","text":{"content":" プロパティに文字列を与えた状態でマウントし、 その後に ","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default"},"plain_text":" プロパティに文字列を与えた状態でマウントし、 その後に ","href":null},{"type":"text","text":{"content":"cy.matchImage()","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":true,"color":"default"},"plain_text":"cy.matchImage()","href":null},{"type":"text","text":{"content":" コマンドによってスクリーンショットを撮っている。","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default"},"plain_text":" コマンドによってスクリーンショットを撮っている。","href":null}],"color":"default"}},{"object":"block","id":"ed0ab18f-ac00-4d35-975f-e75c95d5b054","parent":{"type":"page_id","page_id":"06291552-322a-4152-9379-de518e857222"},"created_time":"2022-10-08T02:24:00.000Z","last_edited_time":"2022-10-08T02:28:00.000Z","created_by":{"object":"user","id":"f4f222d4-d508-405d-ba6c-da82ee26ee54"},"last_edited_by":{"object":"user","id":"f4f222d4-d508-405d-ba6c-da82ee26ee54"},"has_children":false,"archived":false,"in_trash":false,"type":"code","code":{"caption":[],"rich_text":[{"type":"text","text":{"content":"// message.component.cy.ts\nimport { MessageComponent } from './message.component';\n\ndescribe('MessageComponent', () => {\n  it('mounts', () => {\n    cy.mount(MessageComponent, {\n      componentProperties: {\n        message: 'Hello World',\n      },\n    });\n    cy.matchImage();\n  });\n});","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default"},"plain_text":"// message.component.cy.ts\nimport { MessageComponent } from './message.component';\n\ndescribe('MessageComponent', () => {\n  it('mounts', () => {\n    cy.mount(MessageComponent, {\n      componentProperties: {\n        message: 'Hello World',\n      },\n    });\n    cy.matchImage();\n  });\n});","href":null}],"language":"typescript"}},{"object":"block","id":"dbad9caa-8dc3-4936-a5a2-ef4066f5517c","parent":{"type":"page_id","page_id":"06291552-322a-4152-9379-de518e857222"},"created_time":"2022-10-08T02:31:00.000Z","last_edited_time":"2022-10-08T02:58:00.000Z","created_by":{"object":"user","id":"f4f222d4-d508-405d-ba6c-da82ee26ee54"},"last_edited_by":{"object":"user","id":"f4f222d4-d508-405d-ba6c-da82ee26ee54"},"has_children":false,"archived":false,"in_trash":false,"type":"paragraph","paragraph":{"rich_text":[{"type":"text","text":{"content":"MessageComponent","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":true,"color":"default"},"plain_text":"MessageComponent","href":null},{"type":"text","text":{"content":" はスタンドアロンコンポーネントとして作成しているため特別な記述をしていなが、スタンドアロンコンポーネントではない場合には ","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default"},"plain_text":" はスタンドアロンコンポーネントとして作成しているため特別な記述をしていなが、スタンドアロンコンポーネントではない場合には ","href":null},{"type":"text","text":{"content":"declarations","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":true,"color":"default"},"plain_text":"declarations","href":null},{"type":"text","text":{"content":" や ","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default"},"plain_text":" や ","href":null},{"type":"text","text":{"content":"imports","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":true,"color":"default"},"plain_text":"imports","href":null},{"type":"text","text":{"content":" といったようなNgModule関連のセットアップが必要になるが、今回は割愛する（ ","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default"},"plain_text":" といったようなNgModule関連のセットアップが必要になるが、今回は割愛する（ ","href":null},{"type":"text","text":{"content":"cy.mount","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":true,"color":"default"},"plain_text":"cy.mount","href":null},{"type":"text","text":{"content":" のAPIと ","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default"},"plain_text":" のAPIと ","href":null},{"type":"text","text":{"content":"TestBed","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":true,"color":"default"},"plain_text":"TestBed","href":null},{"type":"text","text":{"content":" の経験を合わせればおそらく察しが付くはずだ）。","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default"},"plain_text":" の経験を合わせればおそらく察しが付くはずだ）。","href":null}],"color":"default"}},{"object":"block","id":"37387e92-de61-46c8-97ff-5190e3de9837","parent":{"type":"page_id","page_id":"06291552-322a-4152-9379-de518e857222"},"created_time":"2022-10-08T02:33:00.000Z","last_edited_time":"2022-10-08T02:35:00.000Z","created_by":{"object":"user","id":"f4f222d4-d508-405d-ba6c-da82ee26ee54"},"last_edited_by":{"object":"user","id":"f4f222d4-d508-405d-ba6c-da82ee26ee54"},"has_children":false,"archived":false,"in_trash":false,"type":"heading_2","heading_2":{"rich_text":[{"type":"text","text":{"content":"画像回帰テストを実行する","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default"},"plain_text":"画像回帰テストを実行する","href":null}],"is_toggleable":false,"color":"default"}},{"object":"block","id":"bc1b961b-6182-4ddf-95aa-7c3139b37bd7","parent":{"type":"page_id","page_id":"06291552-322a-4152-9379-de518e857222"},"created_time":"2022-10-08T02:33:00.000Z","last_edited_time":"2022-10-08T02:36:00.000Z","created_by":{"object":"user","id":"f4f222d4-d508-405d-ba6c-da82ee26ee54"},"last_edited_by":{"object":"user","id":"f4f222d4-d508-405d-ba6c-da82ee26ee54"},"has_children":false,"archived":false,"in_trash":false,"type":"paragraph","paragraph":{"rich_text":[{"type":"text","text":{"content":"それでは実際に画像回帰テストを実行してみよう。 ","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default"},"plain_text":"それでは実際に画像回帰テストを実行してみよう。 ","href":null},{"type":"text","text":{"content":"cypress","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":true,"color":"default"},"plain_text":"cypress","href":null},{"type":"text","text":{"content":" CLI の ","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default"},"plain_text":" CLI の ","href":null},{"type":"text","text":{"content":"open","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":true,"color":"default"},"plain_text":"open","href":null},{"type":"text","text":{"content":" コマンドでインタラクティブなCypressのGUIを起動する。","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default"},"plain_text":" コマンドでインタラクティブなCypressのGUIを起動する。","href":null}],"color":"default"}},{"object":"block","id":"b398737e-9475-4696-9a35-ced0236c9c96","parent":{"type":"page_id","page_id":"06291552-322a-4152-9379-de518e857222"},"created_time":"2022-10-08T02:36:00.000Z","last_edited_time":"2022-10-08T02:36:00.000Z","created_by":{"object":"user","id":"f4f222d4-d508-405d-ba6c-da82ee26ee54"},"last_edited_by":{"object":"user","id":"f4f222d4-d508-405d-ba6c-da82ee26ee54"},"has_children":false,"archived":false,"in_trash":false,"type":"code","code":{"caption":[],"rich_text":[{"type":"text","text":{"content":"npx cypress open --component","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default"},"plain_text":"npx cypress open --component","href":null}],"language":"shell"}},{"object":"block","id":"28f358e5-a5ff-4ea1-a1dc-d3a6917f315b","parent":{"type":"page_id","page_id":"06291552-322a-4152-9379-de518e857222"},"created_time":"2022-10-08T02:36:00.000Z","last_edited_time":"2022-10-08T02:40:00.000Z","created_by":{"object":"user","id":"f4f222d4-d508-405d-ba6c-da82ee26ee54"},"last_edited_by":{"object":"user","id":"f4f222d4-d508-405d-ba6c-da82ee26ee54"},"has_children":false,"archived":false,"in_trash":false,"type":"paragraph","paragraph":{"rich_text":[{"type":"text","text":{"content":"テストを実行するブラウザを選択するよう求められるため、任意のものを選ぶ。その後、テスト一覧から実行したい ","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default"},"plain_text":"テストを実行するブラウザを選択するよう求められるため、任意のものを選ぶ。その後、テスト一覧から実行したい ","href":null},{"type":"text","text":{"content":"message.component.cy.ts","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":true,"color":"default"},"plain_text":"message.component.cy.ts","href":null},{"type":"text","text":{"content":" を選択する","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default"},"plain_text":" を選択する","href":null}],"color":"default"}},{"object":"block","id":"3ac12d5c-c017-4fa1-a9af-87e26d3d78b0","parent":{"type":"page_id","page_id":"06291552-322a-4152-9379-de518e857222"},"created_time":"2022-10-08T02:40:00.000Z","last_edited_time":"2022-10-08T02:40:00.000Z","created_by":{"object":"user","id":"f4f222d4-d508-405d-ba6c-da82ee26ee54"},"last_edited_by":{"object":"user","id":"f4f222d4-d508-405d-ba6c-da82ee26ee54"},"has_children":false,"archived":false,"in_trash":false,"type":"image","image":{"caption":[],"type":"file","file":{"url":"https://prod-files-secure.s3.us-west-2.amazonaws.com/3c6255ea-b6c7-4055-8126-638d2819f0c3/e5a7a73a-33f1-4a18-9b6c-b5109340831b/Untitled.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=AKIAT73L2G45HZZMZUHI%2F20240622%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20240622T003737Z&X-Amz-Expires=3600&X-Amz-Signature=21871838667f7f766cb4abdb62b4bee93c3fae175990de59b3461e0162ccadb2&X-Amz-SignedHeaders=host&x-id=GetObject","expiry_time":"2024-06-22T01:37:37.259Z"}}},{"object":"block","id":"7a2fb6b8-ba7a-49f3-81b2-2d47d10021a1","parent":{"type":"page_id","page_id":"06291552-322a-4152-9379-de518e857222"},"created_time":"2022-10-08T02:42:00.000Z","last_edited_time":"2022-10-08T02:44:00.000Z","created_by":{"object":"user","id":"f4f222d4-d508-405d-ba6c-da82ee26ee54"},"last_edited_by":{"object":"user","id":"f4f222d4-d508-405d-ba6c-da82ee26ee54"},"has_children":false,"archived":false,"in_trash":false,"type":"paragraph","paragraph":{"rich_text":[{"type":"text","text":{"content":"初回は比較する対象の画像がないため、スクリーンショットを保存しただけでテストが通ることになる。実行後に ","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default"},"plain_text":"初回は比較する対象の画像がないため、スクリーンショットを保存しただけでテストが通ることになる。実行後に ","href":null},{"type":"text","text":{"content":"message.component.ts","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":true,"color":"default"},"plain_text":"message.component.ts","href":null},{"type":"text","text":{"content":" と同じディレクトリに ","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default"},"plain_text":" と同じディレクトリに ","href":null},{"type":"text","text":{"content":"__image_snapshots__","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":true,"color":"default"},"plain_text":"__image_snapshots__","href":null},{"type":"text","text":{"content":" ディレクトリが追加され、撮影されたスクリーンショットを確認できるだろう。","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default"},"plain_text":" ディレクトリが追加され、撮影されたスクリーンショットを確認できるだろう。","href":null}],"color":"default"}},{"object":"block","id":"ae064523-74ae-4bab-b7a0-ccab449ec585","parent":{"type":"page_id","page_id":"06291552-322a-4152-9379-de518e857222"},"created_time":"2022-10-08T02:43:00.000Z","last_edited_time":"2022-10-08T02:43:00.000Z","created_by":{"object":"user","id":"f4f222d4-d508-405d-ba6c-da82ee26ee54"},"last_edited_by":{"object":"user","id":"f4f222d4-d508-405d-ba6c-da82ee26ee54"},"has_children":false,"archived":false,"in_trash":false,"type":"image","image":{"caption":[],"type":"file","file":{"url":"https://prod-files-secure.s3.us-west-2.amazonaws.com/3c6255ea-b6c7-4055-8126-638d2819f0c3/f07014ad-0179-4e7a-8977-f890595333c5/Untitled.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=AKIAT73L2G45HZZMZUHI%2F20240622%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20240622T003737Z&X-Amz-Expires=3600&X-Amz-Signature=5aee213db5d0f81fe67046979f7ddf5ea4e668a853db017703ca52caff14e080&X-Amz-SignedHeaders=host&x-id=GetObject","expiry_time":"2024-06-22T01:37:37.267Z"}}},{"object":"block","id":"51a9b075-d71c-461a-a64b-845868e52c3a","parent":{"type":"page_id","page_id":"06291552-322a-4152-9379-de518e857222"},"created_time":"2022-10-08T02:44:00.000Z","last_edited_time":"2022-10-08T02:45:00.000Z","created_by":{"object":"user","id":"f4f222d4-d508-405d-ba6c-da82ee26ee54"},"last_edited_by":{"object":"user","id":"f4f222d4-d508-405d-ba6c-da82ee26ee54"},"has_children":false,"archived":false,"in_trash":false,"type":"paragraph","paragraph":{"rich_text":[{"type":"text","text":{"content":"では、Cypressを実行したまま、テストを書き換えてみよう。コンポーネントに渡している ","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default"},"plain_text":"では、Cypressを実行したまま、テストを書き換えてみよう。コンポーネントに渡している ","href":null},{"type":"text","text":{"content":"message","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":true,"color":"default"},"plain_text":"message","href":null},{"type":"text","text":{"content":" インプットを違う文字列に変えてみよう。そうするとテストが再実行されるが、画像の差分が出たことでテストが失敗するはずだ。","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default"},"plain_text":" インプットを違う文字列に変えてみよう。そうするとテストが再実行されるが、画像の差分が出たことでテストが失敗するはずだ。","href":null}],"color":"default"}},{"object":"block","id":"ddfc11c8-ab36-42a8-833b-30a9b5cd434f","parent":{"type":"page_id","page_id":"06291552-322a-4152-9379-de518e857222"},"created_time":"2022-10-08T02:45:00.000Z","last_edited_time":"2022-10-08T02:46:00.000Z","created_by":{"object":"user","id":"f4f222d4-d508-405d-ba6c-da82ee26ee54"},"last_edited_by":{"object":"user","id":"f4f222d4-d508-405d-ba6c-da82ee26ee54"},"has_children":false,"archived":false,"in_trash":false,"type":"code","code":{"caption":[],"rich_text":[{"type":"text","text":{"content":"describe('MessageComponent', () => {\n  it('mounts', () => {\n    cy.mount(MessageComponent, {\n      componentProperties: {\n        message: 'Hello Angular', // 文字列を変更する\n      },\n    });\n    cy.matchImage();\n  });\n});","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default"},"plain_text":"describe('MessageComponent', () => {\n  it('mounts', () => {\n    cy.mount(MessageComponent, {\n      componentProperties: {\n        message: 'Hello Angular', // 文字列を変更する\n      },\n    });\n    cy.matchImage();\n  });\n});","href":null}],"language":"typescript"}},{"object":"block","id":"e4c059c9-82eb-4cda-90d8-495eb54111f3","parent":{"type":"page_id","page_id":"06291552-322a-4152-9379-de518e857222"},"created_time":"2022-10-08T02:46:00.000Z","last_edited_time":"2022-10-08T02:46:00.000Z","created_by":{"object":"user","id":"f4f222d4-d508-405d-ba6c-da82ee26ee54"},"last_edited_by":{"object":"user","id":"f4f222d4-d508-405d-ba6c-da82ee26ee54"},"has_children":false,"archived":false,"in_trash":false,"type":"image","image":{"caption":[],"type":"file","file":{"url":"https://prod-files-secure.s3.us-west-2.amazonaws.com/3c6255ea-b6c7-4055-8126-638d2819f0c3/996a6475-6635-4258-8a50-2ad57b9c9be6/Untitled.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=AKIAT73L2G45HZZMZUHI%2F20240622%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20240622T003737Z&X-Amz-Expires=3600&X-Amz-Signature=0f9379107caea44eb419cc71253f6141ff672e208950de108c518d8cbd56c13f&X-Amz-SignedHeaders=host&x-id=GetObject","expiry_time":"2024-06-22T01:37:37.281Z"}}},{"object":"block","id":"3265dc08-6f60-42bc-8c13-f46b5714d273","parent":{"type":"page_id","page_id":"06291552-322a-4152-9379-de518e857222"},"created_time":"2022-10-08T02:46:00.000Z","last_edited_time":"2022-10-08T02:50:00.000Z","created_by":{"object":"user","id":"f4f222d4-d508-405d-ba6c-da82ee26ee54"},"last_edited_by":{"object":"user","id":"f4f222d4-d508-405d-ba6c-da82ee26ee54"},"has_children":false,"archived":false,"in_trash":false,"type":"paragraph","paragraph":{"rich_text":[{"type":"text","text":{"content":"画像比較の失敗メッセージの中にある “See comparison” リンクをクリックすると、保存されている画像と現在の画像の差分をGUIで確認することができる。うまくエラーにならない場合は、差分のエラースレッショルド設定を厳しくしてみるといいだろう。","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default"},"plain_text":"画像比較の失敗メッセージの中にある “See comparison” リンクをクリックすると、保存されている画像と現在の画像の差分をGUIで確認することができる。うまくエラーにならない場合は、差分のエラースレッショルド設定を厳しくしてみるといいだろう。","href":null}],"color":"default"}},{"object":"block","id":"0de2f25d-3a10-4df0-8315-8982bc928810","parent":{"type":"page_id","page_id":"06291552-322a-4152-9379-de518e857222"},"created_time":"2022-10-08T02:49:00.000Z","last_edited_time":"2022-10-08T02:50:00.000Z","created_by":{"object":"user","id":"f4f222d4-d508-405d-ba6c-da82ee26ee54"},"last_edited_by":{"object":"user","id":"f4f222d4-d508-405d-ba6c-da82ee26ee54"},"has_children":false,"archived":false,"in_trash":false,"type":"code","code":{"caption":[],"rich_text":[{"type":"text","text":{"content":"cy.matchImage({\n  maxDiffThreshold: 0.001, // 0.1%の差でエラーになる\n});","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default"},"plain_text":"cy.matchImage({\n  maxDiffThreshold: 0.001, // 0.1%の差でエラーになる\n});","href":null}],"language":"typescript"}},{"object":"block","id":"d3711307-edd7-4072-9d92-a70adb24958a","parent":{"type":"page_id","page_id":"06291552-322a-4152-9379-de518e857222"},"created_time":"2022-10-08T02:50:00.000Z","last_edited_time":"2022-10-08T02:50:00.000Z","created_by":{"object":"user","id":"f4f222d4-d508-405d-ba6c-da82ee26ee54"},"last_edited_by":{"object":"user","id":"f4f222d4-d508-405d-ba6c-da82ee26ee54"},"has_children":false,"archived":false,"in_trash":false,"type":"image","image":{"caption":[],"type":"file","file":{"url":"https://prod-files-secure.s3.us-west-2.amazonaws.com/3c6255ea-b6c7-4055-8126-638d2819f0c3/f32aacac-c7af-4508-8038-64acb7a3538e/Untitled.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=AKIAT73L2G45HZZMZUHI%2F20240622%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20240622T003737Z&X-Amz-Expires=3600&X-Amz-Signature=e00f385a4eeb59584f37cc482e5fc4148f06d60675eac8b01c009611d699c687&X-Amz-SignedHeaders=host&x-id=GetObject","expiry_time":"2024-06-22T01:37:37.200Z"}}},{"object":"block","id":"764246d5-6684-4870-9530-aba0c7d14b7c","parent":{"type":"page_id","page_id":"06291552-322a-4152-9379-de518e857222"},"created_time":"2022-10-08T02:49:00.000Z","last_edited_time":"2022-10-08T02:52:00.000Z","created_by":{"object":"user","id":"f4f222d4-d508-405d-ba6c-da82ee26ee54"},"last_edited_by":{"object":"user","id":"f4f222d4-d508-405d-ba6c-da82ee26ee54"},"has_children":false,"archived":false,"in_trash":false,"type":"paragraph","paragraph":{"rich_text":[{"type":"text","text":{"content":"比較画面で “Update screenshot” ボタンをクリックすると、新しいスクリーンショットを今後のテスト基準にするようアップデートしてくれる。アップデートしたあとテストを再実行すれば、画像の差分がなくなりテストが成功するようになる。","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default"},"plain_text":"比較画面で “Update screenshot” ボタンをクリックすると、新しいスクリーンショットを今後のテスト基準にするようアップデートしてくれる。アップデートしたあとテストを再実行すれば、画像の差分がなくなりテストが成功するようになる。","href":null}],"color":"default"}},{"object":"block","id":"7d97eb6f-c174-4690-81da-508138002e12","parent":{"type":"page_id","page_id":"06291552-322a-4152-9379-de518e857222"},"created_time":"2022-10-08T02:52:00.000Z","last_edited_time":"2022-10-08T02:52:00.000Z","created_by":{"object":"user","id":"f4f222d4-d508-405d-ba6c-da82ee26ee54"},"last_edited_by":{"object":"user","id":"f4f222d4-d508-405d-ba6c-da82ee26ee54"},"has_children":false,"archived":false,"in_trash":false,"type":"image","image":{"caption":[],"type":"file","file":{"url":"https://prod-files-secure.s3.us-west-2.amazonaws.com/3c6255ea-b6c7-4055-8126-638d2819f0c3/7ed9358a-cdb3-4c62-8b78-604e6df85c47/Untitled.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=AKIAT73L2G45HZZMZUHI%2F20240622%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20240622T003737Z&X-Amz-Expires=3600&X-Amz-Signature=4a7efa99c426204ac60a8315809d69f3b7b20c3766259a621dc13bca5c69e5cd&X-Amz-SignedHeaders=host&x-id=GetObject","expiry_time":"2024-06-22T01:37:37.373Z"}}},{"object":"block","id":"8d0eb9f9-93ee-4f21-b548-1b02c91c7c59","parent":{"type":"page_id","page_id":"06291552-322a-4152-9379-de518e857222"},"created_time":"2022-10-08T02:51:00.000Z","last_edited_time":"2022-10-08T02:53:00.000Z","created_by":{"object":"user","id":"f4f222d4-d508-405d-ba6c-da82ee26ee54"},"last_edited_by":{"object":"user","id":"f4f222d4-d508-405d-ba6c-da82ee26ee54"},"has_children":false,"archived":false,"in_trash":false,"type":"heading_3","heading_3":{"rich_text":[{"type":"text","text":{"content":"コマンドラインでの実行","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default"},"plain_text":"コマンドラインでの実行","href":null}],"is_toggleable":false,"color":"default"}},{"object":"block","id":"a32c6f1d-0005-456e-8743-e0f095206712","parent":{"type":"page_id","page_id":"06291552-322a-4152-9379-de518e857222"},"created_time":"2022-10-08T02:53:00.000Z","last_edited_time":"2022-10-08T02:55:00.000Z","created_by":{"object":"user","id":"f4f222d4-d508-405d-ba6c-da82ee26ee54"},"last_edited_by":{"object":"user","id":"f4f222d4-d508-405d-ba6c-da82ee26ee54"},"has_children":false,"archived":false,"in_trash":false,"type":"paragraph","paragraph":{"rich_text":[{"type":"text","text":{"content":"cypress run","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":true,"color":"default"},"plain_text":"cypress run","href":null},{"type":"text","text":{"content":" コマンドを使うと、GUIではなくコンソール上でコンポーネントテストを実行することができる。CIなどでテストを自動実行する場合に使うことになる。 ","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default"},"plain_text":" コマンドを使うと、GUIではなくコンソール上でコンポーネントテストを実行することができる。CIなどでテストを自動実行する場合に使うことになる。 ","href":null}],"color":"default"}},{"object":"block","id":"3b3841b6-adcb-4430-b0b8-d278373b7ff4","parent":{"type":"page_id","page_id":"06291552-322a-4152-9379-de518e857222"},"created_time":"2022-10-08T02:54:00.000Z","last_edited_time":"2022-10-08T03:03:00.000Z","created_by":{"object":"user","id":"f4f222d4-d508-405d-ba6c-da82ee26ee54"},"last_edited_by":{"object":"user","id":"f4f222d4-d508-405d-ba6c-da82ee26ee54"},"has_children":false,"archived":false,"in_trash":false,"type":"code","code":{"caption":[],"rich_text":[{"type":"text","text":{"content":"npx cypress run --component","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default"},"plain_text":"npx cypress run --component","href":null}],"language":"shell"}},{"object":"block","id":"bbc5c29f-9a82-45c1-968b-af3230baa0b8","parent":{"type":"page_id","page_id":"06291552-322a-4152-9379-de518e857222"},"created_time":"2022-10-08T02:54:00.000Z","last_edited_time":"2022-10-08T02:56:00.000Z","created_by":{"object":"user","id":"f4f222d4-d508-405d-ba6c-da82ee26ee54"},"last_edited_by":{"object":"user","id":"f4f222d4-d508-405d-ba6c-da82ee26ee54"},"has_children":false,"archived":false,"in_trash":false,"type":"paragraph","paragraph":{"rich_text":[{"type":"text","text":{"content":"cypress run","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":true,"color":"default"},"plain_text":"cypress run","href":null},{"type":"text","text":{"content":" コマンドではデフォルトでヘッドレスブラウザを使ってテストされる。デフォルトの振る舞いはほとんどがカスタマイズ可能なので、コマンドライン引数の詳細なリファレンスは公式ドキュメントを参照してほしい。","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default"},"plain_text":" コマンドではデフォルトでヘッドレスブラウザを使ってテストされる。デフォルトの振る舞いはほとんどがカスタマイズ可能なので、コマンドライン引数の詳細なリファレンスは公式ドキュメントを参照してほしい。","href":null}],"color":"default"}},{"object":"block","id":"ffeb597a-aa62-4c1c-af0d-2d0ab3781b08","parent":{"type":"page_id","page_id":"06291552-322a-4152-9379-de518e857222"},"created_time":"2022-10-08T02:56:00.000Z","last_edited_time":"2022-10-08T02:56:00.000Z","created_by":{"object":"user","id":"f4f222d4-d508-405d-ba6c-da82ee26ee54"},"last_edited_by":{"object":"user","id":"f4f222d4-d508-405d-ba6c-da82ee26ee54"},"has_children":false,"archived":false,"in_trash":false,"type":"bookmark","bookmark":{"caption":[],"url":"https://docs.cypress.io/guides/guides/command-line"}},{"object":"block","id":"cd7e8cb7-2609-44b2-936e-e8728e2b645d","parent":{"type":"page_id","page_id":"06291552-322a-4152-9379-de518e857222"},"created_time":"2022-10-08T02:56:00.000Z","last_edited_time":"2022-10-08T02:56:00.000Z","created_by":{"object":"user","id":"f4f222d4-d508-405d-ba6c-da82ee26ee54"},"last_edited_by":{"object":"user","id":"f4f222d4-d508-405d-ba6c-da82ee26ee54"},"has_children":false,"archived":false,"in_trash":false,"type":"heading_2","heading_2":{"rich_text":[{"type":"text","text":{"content":"まとめ","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default"},"plain_text":"まとめ","href":null}],"is_toggleable":false,"color":"default"}},{"object":"block","id":"5137e192-4449-40a5-9864-b4f6568d03b5","parent":{"type":"page_id","page_id":"06291552-322a-4152-9379-de518e857222"},"created_time":"2022-10-08T02:56:00.000Z","last_edited_time":"2022-10-08T02:59:00.000Z","created_by":{"object":"user","id":"f4f222d4-d508-405d-ba6c-da82ee26ee54"},"last_edited_by":{"object":"user","id":"f4f222d4-d508-405d-ba6c-da82ee26ee54"},"has_children":false,"archived":false,"in_trash":false,"type":"paragraph","paragraph":{"rich_text":[{"type":"text","text":{"content":"この記事ではAngularのコンポーネントをできるだけ少ない手順で画像回帰テストできるようにする方法を紹介した。冒頭にも書いたように、この方法が現状では追加要素が少なく、導入上の困難が少ないと思っているが、もっといい方法を知っている人がいたらぜひ Twitter ","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default"},"plain_text":"この記事ではAngularのコンポーネントをできるだけ少ない手順で画像回帰テストできるようにする方法を紹介した。冒頭にも書いたように、この方法が現状では追加要素が少なく、導入上の困難が少ないと思っているが、もっといい方法を知っている人がいたらぜひ Twitter ","href":null},{"type":"text","text":{"content":"@laco2net","link":{"url":"https://twitter.com/laco2net"}},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default"},"plain_text":"@laco2net","href":"https://twitter.com/laco2net"},{"type":"text","text":{"content":" などで教えてほしい。","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default"},"plain_text":" などで教えてほしい。","href":null}],"color":"default"}}]