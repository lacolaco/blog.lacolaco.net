[{"object":"block","id":"a44fb595-8a34-48cb-a935-0bf4408099b6","parent":{"type":"page_id","page_id":"cada7ee0-19fd-4cc1-b74d-399d78d01d80"},"created_time":"2023-05-21T00:21:00.000Z","last_edited_time":"2023-05-21T00:21:00.000Z","created_by":{"object":"user","id":"f4f222d4-d508-405d-ba6c-da82ee26ee54"},"last_edited_by":{"object":"user","id":"f4f222d4-d508-405d-ba6c-da82ee26ee54"},"has_children":false,"archived":false,"in_trash":false,"type":"paragraph","paragraph":{"rich_text":[{"type":"text","text":{"content":"GraphQL の Schema から静的なドキュメンテーションページを生成するツールとして、graphdoc というものがあります。","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default"},"plain_text":"GraphQL の Schema から静的なドキュメンテーションページを生成するツールとして、graphdoc というものがあります。","href":null}],"color":"default"}},{"object":"block","id":"21d95b9e-0ce8-4c13-b23d-5c8890874660","parent":{"type":"page_id","page_id":"cada7ee0-19fd-4cc1-b74d-399d78d01d80"},"created_time":"2023-05-21T03:10:00.000Z","last_edited_time":"2023-08-29T19:24:00.000Z","created_by":{"object":"user","id":"f4f222d4-d508-405d-ba6c-da82ee26ee54"},"last_edited_by":{"object":"user","id":"480a5159-f46b-4a81-895c-9d56a207d9cc"},"has_children":false,"archived":false,"in_trash":false,"type":"link_preview","link_preview":{"url":"https://github.com/2fd/graphdoc"}},{"object":"block","id":"f982870e-f8e4-48db-a6fd-dc8610641d37","parent":{"type":"page_id","page_id":"cada7ee0-19fd-4cc1-b74d-399d78d01d80"},"created_time":"2023-05-21T00:21:00.000Z","last_edited_time":"2023-05-21T00:21:00.000Z","created_by":{"object":"user","id":"f4f222d4-d508-405d-ba6c-da82ee26ee54"},"last_edited_by":{"object":"user","id":"f4f222d4-d508-405d-ba6c-da82ee26ee54"},"has_children":false,"archived":false,"in_trash":false,"type":"paragraph","paragraph":{"rich_text":[{"type":"text","text":{"content":"GraphQL Schema を渡すと、こんな感じの HTML を生成してくれます。 これは GraphQL 公式のサンプルにもある Star Wars API の例。","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default"},"plain_text":"GraphQL Schema を渡すと、こんな感じの HTML を生成してくれます。 これは GraphQL 公式のサンプルにもある Star Wars API の例。","href":null}],"color":"default"}},{"object":"block","id":"9655e0f6-0a7b-4b67-bd75-abb8827a617b","parent":{"type":"page_id","page_id":"cada7ee0-19fd-4cc1-b74d-399d78d01d80"},"created_time":"2023-05-21T03:10:00.000Z","last_edited_time":"2023-05-21T03:10:00.000Z","created_by":{"object":"user","id":"f4f222d4-d508-405d-ba6c-da82ee26ee54"},"last_edited_by":{"object":"user","id":"f4f222d4-d508-405d-ba6c-da82ee26ee54"},"has_children":false,"archived":false,"in_trash":false,"type":"bookmark","bookmark":{"caption":[],"url":"https://2fd.github.io/graphdoc/star-wars/"}},{"object":"block","id":"e087d892-f2f8-4fa6-9dd0-94294faf42f6","parent":{"type":"page_id","page_id":"cada7ee0-19fd-4cc1-b74d-399d78d01d80"},"created_time":"2023-05-21T00:21:00.000Z","last_edited_time":"2023-05-21T00:21:00.000Z","created_by":{"object":"user","id":"f4f222d4-d508-405d-ba6c-da82ee26ee54"},"last_edited_by":{"object":"user","id":"f4f222d4-d508-405d-ba6c-da82ee26ee54"},"has_children":false,"archived":false,"in_trash":false,"type":"image","image":{"caption":[],"type":"external","external":{"url":"https://cdn-ak.f.st-hatena.com/images/fotolife/l/lacolaco/20180213/20180213222120.png"}}},{"object":"block","id":"8c0ee9ef-02c0-43bb-844d-f28b729de4cf","parent":{"type":"page_id","page_id":"cada7ee0-19fd-4cc1-b74d-399d78d01d80"},"created_time":"2023-05-21T00:21:00.000Z","last_edited_time":"2023-05-21T00:21:00.000Z","created_by":{"object":"user","id":"f4f222d4-d508-405d-ba6c-da82ee26ee54"},"last_edited_by":{"object":"user","id":"f4f222d4-d508-405d-ba6c-da82ee26ee54"},"has_children":false,"archived":false,"in_trash":false,"type":"paragraph","paragraph":{"rich_text":[{"type":"text","text":{"content":"このドキュメンテーションを 複数の","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default"},"plain_text":"このドキュメンテーションを 複数の","href":null},{"type":"text","text":{"content":"*.gql","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":true,"color":"default"},"plain_text":"*.gql","href":null},{"type":"text","text":{"content":"ファイルからなる Schema から生成するために少し小細工が必要だったので紹介します。","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default"},"plain_text":"ファイルからなる Schema から生成するために少し小細工が必要だったので紹介します。","href":null}],"color":"default"}},{"object":"block","id":"e33cd2e7-4b67-4d22-8d90-5365ead07673","parent":{"type":"page_id","page_id":"cada7ee0-19fd-4cc1-b74d-399d78d01d80"},"created_time":"2023-05-21T00:21:00.000Z","last_edited_time":"2023-05-21T00:21:00.000Z","created_by":{"object":"user","id":"f4f222d4-d508-405d-ba6c-da82ee26ee54"},"last_edited_by":{"object":"user","id":"f4f222d4-d508-405d-ba6c-da82ee26ee54"},"has_children":false,"archived":false,"in_trash":false,"type":"heading_2","heading_2":{"rich_text":[{"type":"text","text":{"content":"GraphQL Schema Language","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default"},"plain_text":"GraphQL Schema Language","href":null}],"is_toggleable":false,"color":"default"}},{"object":"block","id":"b0ef2b0d-df0d-41c3-aa30-baef713bc309","parent":{"type":"page_id","page_id":"cada7ee0-19fd-4cc1-b74d-399d78d01d80"},"created_time":"2023-05-21T00:21:00.000Z","last_edited_time":"2023-05-21T00:21:00.000Z","created_by":{"object":"user","id":"f4f222d4-d508-405d-ba6c-da82ee26ee54"},"last_edited_by":{"object":"user","id":"f4f222d4-d508-405d-ba6c-da82ee26ee54"},"has_children":false,"archived":false,"in_trash":false,"type":"paragraph","paragraph":{"rich_text":[{"type":"text","text":{"content":"今回は GraphQL Schema Language を","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default"},"plain_text":"今回は GraphQL Schema Language を","href":null},{"type":"text","text":{"content":".gql","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":true,"color":"default"},"plain_text":".gql","href":null},{"type":"text","text":{"content":"という拡張子のファイル（便宜的に以降 ","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default"},"plain_text":"という拡張子のファイル（便宜的に以降 ","href":null},{"type":"text","text":{"content":"gqlファイル","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":true,"color":"default"},"plain_text":"gqlファイル","href":null},{"type":"text","text":{"content":" と呼びます）で管理します。 TypeScript や JavaScript ファイル中でテンプレートリテラルとして管理するよりも余計なコードがなくて見やすく、エディタによっては入力支援も得られます。","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default"},"plain_text":" と呼びます）で管理します。 TypeScript や JavaScript ファイル中でテンプレートリテラルとして管理するよりも余計なコードがなくて見やすく、エディタによっては入力支援も得られます。","href":null}],"color":"default"}},{"object":"block","id":"ec16ebb1-edc9-4faf-801f-28d2487f8418","parent":{"type":"page_id","page_id":"cada7ee0-19fd-4cc1-b74d-399d78d01d80"},"created_time":"2023-05-21T00:21:00.000Z","last_edited_time":"2023-05-21T00:21:00.000Z","created_by":{"object":"user","id":"f4f222d4-d508-405d-ba6c-da82ee26ee54"},"last_edited_by":{"object":"user","id":"f4f222d4-d508-405d-ba6c-da82ee26ee54"},"has_children":false,"archived":false,"in_trash":false,"type":"paragraph","paragraph":{"rich_text":[{"type":"text","text":{"content":"gql ファイルの欠点は、GraphQL Schema Language に外部ファイルの参照の仕様がないことです。 JSON Schema でいう","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default"},"plain_text":"gql ファイルの欠点は、GraphQL Schema Language に外部ファイルの参照の仕様がないことです。 JSON Schema でいう","href":null},{"type":"text","text":{"content":"$ref","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":true,"color":"default"},"plain_text":"$ref","href":null},{"type":"text","text":{"content":"に相当するものが定義されていないので、エントリポイントとなる Schema から分割された型定義などを参照できません。","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default"},"plain_text":"に相当するものが定義されていないので、エントリポイントとなる Schema から分割された型定義などを参照できません。","href":null}],"color":"default"}},{"object":"block","id":"c41e936a-518b-415e-abea-026ad3e0ba13","parent":{"type":"page_id","page_id":"cada7ee0-19fd-4cc1-b74d-399d78d01d80"},"created_time":"2023-05-21T00:21:00.000Z","last_edited_time":"2023-05-21T00:21:00.000Z","created_by":{"object":"user","id":"f4f222d4-d508-405d-ba6c-da82ee26ee54"},"last_edited_by":{"object":"user","id":"f4f222d4-d508-405d-ba6c-da82ee26ee54"},"has_children":false,"archived":false,"in_trash":false,"type":"heading_2","heading_2":{"rich_text":[{"type":"text","text":{"content":"graphdoc で gql ファイルをドキュメンテーションする","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default"},"plain_text":"graphdoc で gql ファイルをドキュメンテーションする","href":null}],"is_toggleable":false,"color":"default"}},{"object":"block","id":"c47525b2-4d99-42dc-81ae-22482bf28bed","parent":{"type":"page_id","page_id":"cada7ee0-19fd-4cc1-b74d-399d78d01d80"},"created_time":"2023-05-21T00:21:00.000Z","last_edited_time":"2023-05-21T00:21:00.000Z","created_by":{"object":"user","id":"f4f222d4-d508-405d-ba6c-da82ee26ee54"},"last_edited_by":{"object":"user","id":"f4f222d4-d508-405d-ba6c-da82ee26ee54"},"has_children":false,"archived":false,"in_trash":false,"type":"paragraph","paragraph":{"rich_text":[{"type":"text","text":{"content":"graphdoc はいくつかの方法で Schema を読み込めます。 代表的なものはエンドポイント URL を渡して HTTP 経由でドキュメンテーションを生成する機能ですが、 gql ファイルを渡すこともできます。 しかし gql ファイルを渡す場合は先述の理由により単一ファイルにすべての Schema が記述されている必要があるので、 大きな API 仕様になると管理が大変です。","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default"},"plain_text":"graphdoc はいくつかの方法で Schema を読み込めます。 代表的なものはエンドポイント URL を渡して HTTP 経由でドキュメンテーションを生成する機能ですが、 gql ファイルを渡すこともできます。 しかし gql ファイルを渡す場合は先述の理由により単一ファイルにすべての Schema が記述されている必要があるので、 大きな API 仕様になると管理が大変です。","href":null}],"color":"default"}},{"object":"block","id":"2c88c524-e1cb-46c5-8b1d-6e9be5d3ba13","parent":{"type":"page_id","page_id":"cada7ee0-19fd-4cc1-b74d-399d78d01d80"},"created_time":"2023-05-21T00:21:00.000Z","last_edited_time":"2023-05-21T00:21:00.000Z","created_by":{"object":"user","id":"f4f222d4-d508-405d-ba6c-da82ee26ee54"},"last_edited_by":{"object":"user","id":"f4f222d4-d508-405d-ba6c-da82ee26ee54"},"has_children":false,"archived":false,"in_trash":false,"type":"paragraph","paragraph":{"rich_text":[{"type":"text","text":{"content":"複数の gql ファイルからなる Schema を graphdoc で読み込むためには、JavaScript 読み込み機能を使います。 graphdoc の","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default"},"plain_text":"複数の gql ファイルからなる Schema を graphdoc で読み込むためには、JavaScript 読み込み機能を使います。 graphdoc の","href":null},{"type":"text","text":{"content":"schemaFile","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":true,"color":"default"},"plain_text":"schemaFile","href":null},{"type":"text","text":{"content":"として","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default"},"plain_text":"として","href":null},{"type":"text","text":{"content":".js","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":true,"color":"default"},"plain_text":".js","href":null},{"type":"text","text":{"content":"ファイルを渡すと、CommonJS として読み込まれ、","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default"},"plain_text":"ファイルを渡すと、CommonJS として読み込まれ、","href":null},{"type":"text","text":{"content":"exports.default","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":true,"color":"default"},"plain_text":"exports.default","href":null},{"type":"text","text":{"content":"の値を Schema として使用します。 そしてこのとき、エクスポートするのは Schema の","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default"},"plain_text":"の値を Schema として使用します。 そしてこのとき、エクスポートするのは Schema の","href":null},{"type":"text","text":{"content":"配列","link":null},"annotations":{"bold":true,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default"},"plain_text":"配列","href":null},{"type":"text","text":{"content":"なので、複数の gql ファイルを読み込んで文字列として渡してあげれば目的を達成できます。","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default"},"plain_text":"なので、複数の gql ファイルを読み込んで文字列として渡してあげれば目的を達成できます。","href":null}],"color":"default"}},{"object":"block","id":"b362cdca-2859-4f1a-81f9-c20e87eedfa6","parent":{"type":"page_id","page_id":"cada7ee0-19fd-4cc1-b74d-399d78d01d80"},"created_time":"2023-05-21T00:21:00.000Z","last_edited_time":"2023-05-21T00:21:00.000Z","created_by":{"object":"user","id":"f4f222d4-d508-405d-ba6c-da82ee26ee54"},"last_edited_by":{"object":"user","id":"f4f222d4-d508-405d-ba6c-da82ee26ee54"},"has_children":false,"archived":false,"in_trash":false,"type":"heading_3","heading_3":{"rich_text":[{"type":"text","text":{"content":"手順","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default"},"plain_text":"手順","href":null}],"is_toggleable":false,"color":"default"}},{"object":"block","id":"84aaae58-16fb-448f-8f24-74cb65323809","parent":{"type":"page_id","page_id":"cada7ee0-19fd-4cc1-b74d-399d78d01d80"},"created_time":"2023-05-21T00:21:00.000Z","last_edited_time":"2023-05-21T00:21:00.000Z","created_by":{"object":"user","id":"f4f222d4-d508-405d-ba6c-da82ee26ee54"},"last_edited_by":{"object":"user","id":"f4f222d4-d508-405d-ba6c-da82ee26ee54"},"has_children":false,"archived":false,"in_trash":false,"type":"heading_3","heading_3":{"rich_text":[{"type":"text","text":{"content":"npm パッケージを揃える","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default"},"plain_text":"npm パッケージを揃える","href":null}],"is_toggleable":false,"color":"default"}},{"object":"block","id":"665b0fbc-bd91-4cb1-86dc-c2d462e54c20","parent":{"type":"page_id","page_id":"cada7ee0-19fd-4cc1-b74d-399d78d01d80"},"created_time":"2023-05-21T00:21:00.000Z","last_edited_time":"2023-05-21T00:21:00.000Z","created_by":{"object":"user","id":"f4f222d4-d508-405d-ba6c-da82ee26ee54"},"last_edited_by":{"object":"user","id":"f4f222d4-d508-405d-ba6c-da82ee26ee54"},"has_children":false,"archived":false,"in_trash":false,"type":"paragraph","paragraph":{"rich_text":[{"type":"text","text":{"content":"必要なのは","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default"},"plain_text":"必要なのは","href":null},{"type":"text","text":{"content":"@2fd/graphdoc","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":true,"color":"default"},"plain_text":"@2fd/graphdoc","href":null},{"type":"text","text":{"content":"と","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default"},"plain_text":"と","href":null},{"type":"text","text":{"content":"glob","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":true,"color":"default"},"plain_text":"glob","href":null},{"type":"text","text":{"content":"の 2 つです","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default"},"plain_text":"の 2 つです","href":null}],"color":"default"}},{"object":"block","id":"8e0364f0-a587-41c3-8979-82459e600110","parent":{"type":"page_id","page_id":"cada7ee0-19fd-4cc1-b74d-399d78d01d80"},"created_time":"2023-05-21T00:21:00.000Z","last_edited_time":"2023-05-21T00:21:00.000Z","created_by":{"object":"user","id":"f4f222d4-d508-405d-ba6c-da82ee26ee54"},"last_edited_by":{"object":"user","id":"f4f222d4-d508-405d-ba6c-da82ee26ee54"},"has_children":false,"archived":false,"in_trash":false,"type":"code","code":{"caption":[],"rich_text":[{"type":"text","text":{"content":"> yarn add --dev @2fd/graphdoc glob","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default"},"plain_text":"> yarn add --dev @2fd/graphdoc glob","href":null}],"language":"plain text"}},{"object":"block","id":"be1cfcdd-e074-4de2-96ef-8c495e30da45","parent":{"type":"page_id","page_id":"cada7ee0-19fd-4cc1-b74d-399d78d01d80"},"created_time":"2023-05-21T00:21:00.000Z","last_edited_time":"2023-05-21T00:21:00.000Z","created_by":{"object":"user","id":"f4f222d4-d508-405d-ba6c-da82ee26ee54"},"last_edited_by":{"object":"user","id":"f4f222d4-d508-405d-ba6c-da82ee26ee54"},"has_children":false,"archived":false,"in_trash":false,"type":"heading_3","heading_3":{"rich_text":[{"type":"text","text":{"content":"schema.js","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":true,"color":"default"},"plain_text":"schema.js","href":null},{"type":"text","text":{"content":"ファイルを記述する","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default"},"plain_text":"ファイルを記述する","href":null}],"is_toggleable":false,"color":"default"}},{"object":"block","id":"aaa6dacb-6755-4dbe-a49e-f56bd0fad555","parent":{"type":"page_id","page_id":"cada7ee0-19fd-4cc1-b74d-399d78d01d80"},"created_time":"2023-05-21T00:21:00.000Z","last_edited_time":"2023-05-21T00:21:00.000Z","created_by":{"object":"user","id":"f4f222d4-d508-405d-ba6c-da82ee26ee54"},"last_edited_by":{"object":"user","id":"f4f222d4-d508-405d-ba6c-da82ee26ee54"},"has_children":false,"archived":false,"in_trash":false,"type":"paragraph","paragraph":{"rich_text":[{"type":"text","text":{"content":"複数の gql ファイルを読み込んで文字列として渡してあげ","link":null},"annotations":{"bold":true,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default"},"plain_text":"複数の gql ファイルを読み込んで文字列として渡してあげ","href":null},{"type":"text","text":{"content":"るための JavaScript ファイルを用意します。 ","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default"},"plain_text":"るための JavaScript ファイルを用意します。 ","href":null},{"type":"text","text":{"content":"glob","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":true,"color":"default"},"plain_text":"glob","href":null},{"type":"text","text":{"content":"と","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default"},"plain_text":"と","href":null},{"type":"text","text":{"content":"fs","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":true,"color":"default"},"plain_text":"fs","href":null},{"type":"text","text":{"content":"を使ってファイルを読み込むだけですが、同期的にエクスポートする必要があるのに注意します。","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default"},"plain_text":"を使ってファイルを読み込むだけですが、同期的にエクスポートする必要があるのに注意します。","href":null}],"color":"default"}},{"object":"block","id":"b0752ae5-6aac-4600-8e31-d55a82f5ebbf","parent":{"type":"page_id","page_id":"cada7ee0-19fd-4cc1-b74d-399d78d01d80"},"created_time":"2023-05-21T00:21:00.000Z","last_edited_time":"2023-05-21T03:10:00.000Z","created_by":{"object":"user","id":"f4f222d4-d508-405d-ba6c-da82ee26ee54"},"last_edited_by":{"object":"user","id":"f4f222d4-d508-405d-ba6c-da82ee26ee54"},"has_children":false,"archived":false,"in_trash":false,"type":"code","code":{"caption":[],"rich_text":[{"type":"text","text":{"content":"const glob = require(\"glob\");\nconst fs = require(\"fs\");\nconst path = require(\"path\");\n\nfunction loadSchemas() {\n  const files = glob.sync(\"schema/**/*.{gql,graphql}\");\n\n  return files.map(file =>\n    fs.readFileSync(path.resolve(file), { encoding: \"utf8\" })\n  );\n}\n\nconst schemas = loadSchemas();\nexports.default = schemas;","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default"},"plain_text":"const glob = require(\"glob\");\nconst fs = require(\"fs\");\nconst path = require(\"path\");\n\nfunction loadSchemas() {\n  const files = glob.sync(\"schema/**/*.{gql,graphql}\");\n\n  return files.map(file =>\n    fs.readFileSync(path.resolve(file), { encoding: \"utf8\" })\n  );\n}\n\nconst schemas = loadSchemas();\nexports.default = schemas;","href":null}],"language":"plain text"}},{"object":"block","id":"8e7771d5-118e-45d1-8cf5-845615d0c40b","parent":{"type":"page_id","page_id":"cada7ee0-19fd-4cc1-b74d-399d78d01d80"},"created_time":"2023-05-21T00:21:00.000Z","last_edited_time":"2023-05-21T00:21:00.000Z","created_by":{"object":"user","id":"f4f222d4-d508-405d-ba6c-da82ee26ee54"},"last_edited_by":{"object":"user","id":"f4f222d4-d508-405d-ba6c-da82ee26ee54"},"has_children":false,"archived":false,"in_trash":false,"type":"heading_3","heading_3":{"rich_text":[{"type":"text","text":{"content":"npm script を追加する","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default"},"plain_text":"npm script を追加する","href":null}],"is_toggleable":false,"color":"default"}},{"object":"block","id":"8024c510-3bf1-4d8b-b8d7-fb62ef244add","parent":{"type":"page_id","page_id":"cada7ee0-19fd-4cc1-b74d-399d78d01d80"},"created_time":"2023-05-21T00:21:00.000Z","last_edited_time":"2023-05-21T00:21:00.000Z","created_by":{"object":"user","id":"f4f222d4-d508-405d-ba6c-da82ee26ee54"},"last_edited_by":{"object":"user","id":"f4f222d4-d508-405d-ba6c-da82ee26ee54"},"has_children":false,"archived":false,"in_trash":false,"type":"paragraph","paragraph":{"rich_text":[{"type":"text","text":{"content":"graphdoc","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":true,"color":"default"},"plain_text":"graphdoc","href":null},{"type":"text","text":{"content":"コマンドを実行する npm スクリプトを追加します","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default"},"plain_text":"コマンドを実行する npm スクリプトを追加します","href":null}],"color":"default"}},{"object":"block","id":"e9b9e1a6-90b2-4dd2-8749-286fcdf3811f","parent":{"type":"page_id","page_id":"cada7ee0-19fd-4cc1-b74d-399d78d01d80"},"created_time":"2023-05-21T00:21:00.000Z","last_edited_time":"2023-05-21T00:21:00.000Z","created_by":{"object":"user","id":"f4f222d4-d508-405d-ba6c-da82ee26ee54"},"last_edited_by":{"object":"user","id":"f4f222d4-d508-405d-ba6c-da82ee26ee54"},"has_children":false,"archived":false,"in_trash":false,"type":"code","code":{"caption":[],"rich_text":[{"type":"text","text":{"content":"  \"scripts\": {\n    \"build\": \"graphdoc -s schema.js -o docs -f\"\n  },","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default"},"plain_text":"  \"scripts\": {\n    \"build\": \"graphdoc -s schema.js -o docs -f\"\n  },","href":null}],"language":"plain text"}},{"object":"block","id":"c44af3eb-4d4d-4207-a895-8080133ed25b","parent":{"type":"page_id","page_id":"cada7ee0-19fd-4cc1-b74d-399d78d01d80"},"created_time":"2023-05-21T00:21:00.000Z","last_edited_time":"2023-05-21T00:21:00.000Z","created_by":{"object":"user","id":"f4f222d4-d508-405d-ba6c-da82ee26ee54"},"last_edited_by":{"object":"user","id":"f4f222d4-d508-405d-ba6c-da82ee26ee54"},"has_children":false,"archived":false,"in_trash":false,"type":"heading_3","heading_3":{"rich_text":[{"type":"text","text":{"content":"schema","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":true,"color":"default"},"plain_text":"schema","href":null},{"type":"text","text":{"content":"ディレクトリに gql ファイルを配置する","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default"},"plain_text":"ディレクトリに gql ファイルを配置する","href":null}],"is_toggleable":false,"color":"default"}},{"object":"block","id":"53cd0ae6-51ae-43f6-bcc8-9334aebf8ec3","parent":{"type":"page_id","page_id":"cada7ee0-19fd-4cc1-b74d-399d78d01d80"},"created_time":"2023-05-21T00:21:00.000Z","last_edited_time":"2023-05-21T00:21:00.000Z","created_by":{"object":"user","id":"f4f222d4-d508-405d-ba6c-da82ee26ee54"},"last_edited_by":{"object":"user","id":"f4f222d4-d508-405d-ba6c-da82ee26ee54"},"has_children":false,"archived":false,"in_trash":false,"type":"paragraph","paragraph":{"rich_text":[{"type":"text","text":{"content":"あとはひたすら Schema を書いていくだけです。","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default"},"plain_text":"あとはひたすら Schema を書いていくだけです。","href":null}],"color":"default"}},{"object":"block","id":"3b5913f9-992f-40ea-ac7c-71d366f8d36c","parent":{"type":"page_id","page_id":"cada7ee0-19fd-4cc1-b74d-399d78d01d80"},"created_time":"2023-05-21T00:21:00.000Z","last_edited_time":"2023-05-21T00:21:00.000Z","created_by":{"object":"user","id":"f4f222d4-d508-405d-ba6c-da82ee26ee54"},"last_edited_by":{"object":"user","id":"f4f222d4-d508-405d-ba6c-da82ee26ee54"},"has_children":false,"archived":false,"in_trash":false,"type":"paragraph","paragraph":{"rich_text":[{"type":"text","text":{"content":"実際に Staw Wars API の Schema を分割して graphdoc にしたリポジトリを用意したので、詳細はそちらを参照してください。","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default"},"plain_text":"実際に Staw Wars API の Schema を分割して graphdoc にしたリポジトリを用意したので、詳細はそちらを参照してください。","href":null}],"color":"default"}},{"object":"block","id":"a54c5f1e-3258-4b9b-97b4-8953e0613d29","parent":{"type":"page_id","page_id":"cada7ee0-19fd-4cc1-b74d-399d78d01d80"},"created_time":"2023-05-21T03:11:00.000Z","last_edited_time":"2023-05-21T03:11:00.000Z","created_by":{"object":"user","id":"f4f222d4-d508-405d-ba6c-da82ee26ee54"},"last_edited_by":{"object":"user","id":"480a5159-f46b-4a81-895c-9d56a207d9cc"},"has_children":false,"archived":false,"in_trash":false,"type":"link_preview","link_preview":{"url":"https://github.com/lacolaco/graphdoc-example"}},{"object":"block","id":"e3a233bf-0710-470a-b257-7175187ba23e","parent":{"type":"page_id","page_id":"cada7ee0-19fd-4cc1-b74d-399d78d01d80"},"created_time":"2023-05-21T00:21:00.000Z","last_edited_time":"2023-05-21T00:21:00.000Z","created_by":{"object":"user","id":"f4f222d4-d508-405d-ba6c-da82ee26ee54"},"last_edited_by":{"object":"user","id":"f4f222d4-d508-405d-ba6c-da82ee26ee54"},"has_children":false,"archived":false,"in_trash":false,"type":"paragraph","paragraph":{"rich_text":[{"type":"text","text":{"content":"docs","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":true,"color":"default"},"plain_text":"docs","href":null},{"type":"text","text":{"content":"ディレクトリに出力しているので、GitHub Pages で簡単に API ドキュメントをホストできます。","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default"},"plain_text":"ディレクトリに出力しているので、GitHub Pages で簡単に API ドキュメントをホストできます。","href":null}],"color":"default"}},{"object":"block","id":"2be61674-029b-49ff-9bae-623f0eff3c3e","parent":{"type":"page_id","page_id":"cada7ee0-19fd-4cc1-b74d-399d78d01d80"},"created_time":"2023-05-21T03:11:00.000Z","last_edited_time":"2023-05-21T03:11:00.000Z","created_by":{"object":"user","id":"f4f222d4-d508-405d-ba6c-da82ee26ee54"},"last_edited_by":{"object":"user","id":"f4f222d4-d508-405d-ba6c-da82ee26ee54"},"has_children":false,"archived":false,"in_trash":false,"type":"bookmark","bookmark":{"caption":[],"url":"https://lacolaco.github.io/graphdoc-example/"}},{"object":"block","id":"7d227014-df1a-46b5-a420-71f07063aff4","parent":{"type":"page_id","page_id":"cada7ee0-19fd-4cc1-b74d-399d78d01d80"},"created_time":"2023-05-21T00:21:00.000Z","last_edited_time":"2023-05-21T00:21:00.000Z","created_by":{"object":"user","id":"f4f222d4-d508-405d-ba6c-da82ee26ee54"},"last_edited_by":{"object":"user","id":"f4f222d4-d508-405d-ba6c-da82ee26ee54"},"has_children":false,"archived":false,"in_trash":false,"type":"heading_2","heading_2":{"rich_text":[{"type":"text","text":{"content":"課題","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default"},"plain_text":"課題","href":null}],"is_toggleable":false,"color":"default"}},{"object":"block","id":"2186a380-c6cf-491a-bdc9-3b0a36208cb5","parent":{"type":"page_id","page_id":"cada7ee0-19fd-4cc1-b74d-399d78d01d80"},"created_time":"2023-05-21T00:21:00.000Z","last_edited_time":"2023-05-21T00:21:00.000Z","created_by":{"object":"user","id":"f4f222d4-d508-405d-ba6c-da82ee26ee54"},"last_edited_by":{"object":"user","id":"f4f222d4-d508-405d-ba6c-da82ee26ee54"},"has_children":false,"archived":false,"in_trash":false,"type":"bulleted_list_item","bulleted_list_item":{"rich_text":[{"type":"text","text":{"content":"gql ファイルに外部参照の仕組みがないので、分割すると参照が途切れる（リネームとかできない）","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default"},"plain_text":"gql ファイルに外部参照の仕組みがないので、分割すると参照が途切れる（リネームとかできない）","href":null}],"color":"default"}},{"object":"block","id":"6cdb6e7c-42e8-4f01-a6cc-2253995b3fcf","parent":{"type":"page_id","page_id":"cada7ee0-19fd-4cc1-b74d-399d78d01d80"},"created_time":"2023-05-21T00:21:00.000Z","last_edited_time":"2023-05-21T00:21:00.000Z","created_by":{"object":"user","id":"f4f222d4-d508-405d-ba6c-da82ee26ee54"},"last_edited_by":{"object":"user","id":"f4f222d4-d508-405d-ba6c-da82ee26ee54"},"has_children":false,"archived":false,"in_trash":false,"type":"paragraph","paragraph":{"rich_text":[{"type":"text","text":{"content":"サーバーサイドの実装に依存しない API 仕様 Centric な開発をしたいのだけど、 Open API Specification みたいな感じで GraphQL Schema を使う文化はあまり育っていないようで、苦労しそうな感じがあります。","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default"},"plain_text":"サーバーサイドの実装に依存しない API 仕様 Centric な開発をしたいのだけど、 Open API Specification みたいな感じで GraphQL Schema を使う文化はあまり育っていないようで、苦労しそうな感じがあります。","href":null}],"color":"default"}},{"object":"block","id":"a6965387-db30-49de-8353-4eddfc5af96d","parent":{"type":"page_id","page_id":"cada7ee0-19fd-4cc1-b74d-399d78d01d80"},"created_time":"2023-05-21T00:21:00.000Z","last_edited_time":"2023-05-21T00:21:00.000Z","created_by":{"object":"user","id":"f4f222d4-d508-405d-ba6c-da82ee26ee54"},"last_edited_by":{"object":"user","id":"f4f222d4-d508-405d-ba6c-da82ee26ee54"},"has_children":false,"archived":false,"in_trash":false,"type":"paragraph","paragraph":{"rich_text":[{"type":"text","text":{"content":"結局のところひとつの gql ファイルにドカドカ型定義書いていくほうが楽なのかもしれないけど、しばらく分割管理を試してみてから考えましょう。","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default"},"plain_text":"結局のところひとつの gql ファイルにドカドカ型定義書いていくほうが楽なのかもしれないけど、しばらく分割管理を試してみてから考えましょう。","href":null}],"color":"default"}}]