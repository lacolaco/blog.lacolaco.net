[{"object":"block","id":"348269c5-5ccc-49e1-9a9b-7dad7c3af031","parent":{"type":"page_id","page_id":"de2f47a3-3dcc-4621-8f6c-f56dc1b57062"},"created_time":"2023-05-21T00:22:00.000Z","last_edited_time":"2023-05-21T00:22:00.000Z","created_by":{"object":"user","id":"f4f222d4-d508-405d-ba6c-da82ee26ee54"},"last_edited_by":{"object":"user","id":"f4f222d4-d508-405d-ba6c-da82ee26ee54"},"has_children":false,"archived":false,"in_trash":false,"type":"paragraph","paragraph":{"rich_text":[{"type":"text","text":{"content":"TypeScript/JavaScript 用に状態管理のライブラリを作りました。","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default"},"plain_text":"TypeScript/JavaScript 用に状態管理のライブラリを作りました。","href":null}],"color":"default"}},{"object":"block","id":"3079c5c7-e911-468b-9652-956c8787916b","parent":{"type":"page_id","page_id":"de2f47a3-3dcc-4621-8f6c-f56dc1b57062"},"created_time":"2023-05-21T01:30:00.000Z","last_edited_time":"2023-05-21T01:30:00.000Z","created_by":{"object":"user","id":"f4f222d4-d508-405d-ba6c-da82ee26ee54"},"last_edited_by":{"object":"user","id":"f4f222d4-d508-405d-ba6c-da82ee26ee54"},"has_children":false,"archived":false,"in_trash":false,"type":"bookmark","bookmark":{"caption":[],"url":"https://www.npmjs.com/package/@lacolaco/reactive-store"}},{"object":"block","id":"86da4478-795d-4abf-8c14-960d04553268","parent":{"type":"page_id","page_id":"de2f47a3-3dcc-4621-8f6c-f56dc1b57062"},"created_time":"2023-05-21T00:22:00.000Z","last_edited_time":"2023-05-21T00:22:00.000Z","created_by":{"object":"user","id":"f4f222d4-d508-405d-ba6c-da82ee26ee54"},"last_edited_by":{"object":"user","id":"f4f222d4-d508-405d-ba6c-da82ee26ee54"},"has_children":false,"archived":false,"in_trash":false,"type":"paragraph","paragraph":{"rich_text":[{"type":"text","text":{"content":"広く使ってもらうためというよりは、自分のアプリケーションで何度も同じコードを書きたくないのがライブラリ化のモチベーションです。","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default"},"plain_text":"広く使ってもらうためというよりは、自分のアプリケーションで何度も同じコードを書きたくないのがライブラリ化のモチベーションです。","href":null}],"color":"default"}},{"object":"block","id":"941c26af-46c0-4f05-9127-8a3247c6a7e7","parent":{"type":"page_id","page_id":"de2f47a3-3dcc-4621-8f6c-f56dc1b57062"},"created_time":"2023-05-21T00:22:00.000Z","last_edited_time":"2023-05-21T00:22:00.000Z","created_by":{"object":"user","id":"f4f222d4-d508-405d-ba6c-da82ee26ee54"},"last_edited_by":{"object":"user","id":"f4f222d4-d508-405d-ba6c-da82ee26ee54"},"has_children":false,"archived":false,"in_trash":false,"type":"heading_3","heading_3":{"rich_text":[{"type":"text","text":{"content":"Inspired by repatch and ngrx/store","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default"},"plain_text":"Inspired by repatch and ngrx/store","href":null}],"is_toggleable":false,"color":"default"}},{"object":"block","id":"4b117271-bf7e-4f94-b5a5-25e8efde97ba","parent":{"type":"page_id","page_id":"de2f47a3-3dcc-4621-8f6c-f56dc1b57062"},"created_time":"2023-05-21T00:22:00.000Z","last_edited_time":"2023-05-21T00:22:00.000Z","created_by":{"object":"user","id":"f4f222d4-d508-405d-ba6c-da82ee26ee54"},"last_edited_by":{"object":"user","id":"f4f222d4-d508-405d-ba6c-da82ee26ee54"},"has_children":false,"archived":false,"in_trash":false,"type":"paragraph","paragraph":{"rich_text":[{"type":"text","text":{"content":"lacolaco/reactive-store の設計は","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default"},"plain_text":"lacolaco/reactive-store の設計は","href":null},{"type":"text","text":{"content":"repatch","link":{"url":"https://github.com/jaystack/repatch/"}},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default"},"plain_text":"repatch","href":"https://github.com/jaystack/repatch/"},{"type":"text","text":{"content":"と","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default"},"plain_text":"と","href":null},{"type":"text","text":{"content":"ngrx/store","link":{"url":"https://github.com/ngrx/platform/blob/master/docs/store/README.md"}},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default"},"plain_text":"ngrx/store","href":"https://github.com/ngrx/platform/blob/master/docs/store/README.md"},{"type":"text","text":{"content":"に影響を受けています。Angular でアプリケーションを書くことが多いので、RxJS フレンドリーなストアとして ngrx/store を使っていましたが、2 つの不満な点がありました。","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default"},"plain_text":"に影響を受けています。Angular でアプリケーションを書くことが多いので、RxJS フレンドリーなストアとして ngrx/store を使っていましたが、2 つの不満な点がありました。","href":null}],"color":"default"}},{"object":"block","id":"c3cfec22-639a-41e4-b33e-bc43b55c0159","parent":{"type":"page_id","page_id":"de2f47a3-3dcc-4621-8f6c-f56dc1b57062"},"created_time":"2023-05-21T00:22:00.000Z","last_edited_time":"2023-05-21T00:22:00.000Z","created_by":{"object":"user","id":"f4f222d4-d508-405d-ba6c-da82ee26ee54"},"last_edited_by":{"object":"user","id":"f4f222d4-d508-405d-ba6c-da82ee26ee54"},"has_children":false,"archived":false,"in_trash":false,"type":"bulleted_list_item","bulleted_list_item":{"rich_text":[{"type":"text","text":{"content":"現在の状態のスナップショットが取れない（非同期 API しか存在しない）","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default"},"plain_text":"現在の状態のスナップショットが取れない（非同期 API しか存在しない）","href":null}],"color":"default"}},{"object":"block","id":"32fa026a-3644-43fc-9836-c6f50a674c1f","parent":{"type":"page_id","page_id":"de2f47a3-3dcc-4621-8f6c-f56dc1b57062"},"created_time":"2023-05-21T00:22:00.000Z","last_edited_time":"2023-05-21T00:22:00.000Z","created_by":{"object":"user","id":"f4f222d4-d508-405d-ba6c-da82ee26ee54"},"last_edited_by":{"object":"user","id":"f4f222d4-d508-405d-ba6c-da82ee26ee54"},"has_children":false,"archived":false,"in_trash":false,"type":"bulleted_list_item","bulleted_list_item":{"rich_text":[{"type":"text","text":{"content":"Action と Reducer が冗長","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default"},"plain_text":"Action と Reducer が冗長","href":null}],"color":"default"}},{"object":"block","id":"78f21480-56f8-4b38-a541-ec1fd2c8e869","parent":{"type":"page_id","page_id":"de2f47a3-3dcc-4621-8f6c-f56dc1b57062"},"created_time":"2023-05-21T00:22:00.000Z","last_edited_time":"2023-05-21T00:22:00.000Z","created_by":{"object":"user","id":"f4f222d4-d508-405d-ba6c-da82ee26ee54"},"last_edited_by":{"object":"user","id":"f4f222d4-d508-405d-ba6c-da82ee26ee54"},"has_children":false,"archived":false,"in_trash":false,"type":"paragraph","paragraph":{"rich_text":[{"type":"text","text":{"content":"代わりになるストアのライブラリを探したところ、repatch は自分がほしいものにとても近かったのですが、RxJS の Observable と互換性がないことと、subscribe できる単位がストア全体という部分が不満で、結局自分で作ることにしました。","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default"},"plain_text":"代わりになるストアのライブラリを探したところ、repatch は自分がほしいものにとても近かったのですが、RxJS の Observable と互換性がないことと、subscribe できる単位がストア全体という部分が不満で、結局自分で作ることにしました。","href":null}],"color":"default"}},{"object":"block","id":"ae6c1b2b-a160-49c3-a5f9-44b7224c25a1","parent":{"type":"page_id","page_id":"de2f47a3-3dcc-4621-8f6c-f56dc1b57062"},"created_time":"2023-05-21T00:22:00.000Z","last_edited_time":"2023-05-21T01:30:00.000Z","created_by":{"object":"user","id":"f4f222d4-d508-405d-ba6c-da82ee26ee54"},"last_edited_by":{"object":"user","id":"f4f222d4-d508-405d-ba6c-da82ee26ee54"},"has_children":false,"archived":false,"in_trash":false,"type":"code","code":{"caption":[],"rich_text":[{"type":"text","text":{"content":"import { Store } from \"@lacolaco/reactive-store\";\n\nconst store: Store<string> = new Store(\"initialState\");\n\nstore.getValue(); //=> 'initialState';\nstore.subscribe(state => {});\nstore.patch(state => \"updated!\");","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default"},"plain_text":"import { Store } from \"@lacolaco/reactive-store\";\n\nconst store: Store<string> = new Store(\"initialState\");\n\nstore.getValue(); //=> 'initialState';\nstore.subscribe(state => {});\nstore.patch(state => \"updated!\");","href":null}],"language":"plain text"}},{"object":"block","id":"35e4f615-cf19-4461-8517-c359cb90ae69","parent":{"type":"page_id","page_id":"de2f47a3-3dcc-4621-8f6c-f56dc1b57062"},"created_time":"2023-05-21T00:22:00.000Z","last_edited_time":"2023-05-21T00:22:00.000Z","created_by":{"object":"user","id":"f4f222d4-d508-405d-ba6c-da82ee26ee54"},"last_edited_by":{"object":"user","id":"f4f222d4-d508-405d-ba6c-da82ee26ee54"},"has_children":false,"archived":false,"in_trash":false,"type":"paragraph","paragraph":{"rich_text":[{"type":"text","text":{"content":"lacolaco/reactive-store の実装は型定義を除くと 30 行程度で、ほとんどは RxJS の BehaviorSubject の機能をそのまま使っています。追加したのは patch メソッドと select メソッドと Middleware です。","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default"},"plain_text":"lacolaco/reactive-store の実装は型定義を除くと 30 行程度で、ほとんどは RxJS の BehaviorSubject の機能をそのまま使っています。追加したのは patch メソッドと select メソッドと Middleware です。","href":null}],"color":"default"}},{"object":"block","id":"223f6e0b-9abe-417e-b3ab-533ff8dce517","parent":{"type":"page_id","page_id":"de2f47a3-3dcc-4621-8f6c-f56dc1b57062"},"created_time":"2023-05-21T00:22:00.000Z","last_edited_time":"2023-05-21T00:22:00.000Z","created_by":{"object":"user","id":"f4f222d4-d508-405d-ba6c-da82ee26ee54"},"last_edited_by":{"object":"user","id":"f4f222d4-d508-405d-ba6c-da82ee26ee54"},"has_children":false,"archived":false,"in_trash":false,"type":"heading_3","heading_3":{"rich_text":[{"type":"text","text":{"content":"store.patch((state: T ) => T)","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default"},"plain_text":"store.patch((state: T ) => T)","href":null}],"is_toggleable":false,"color":"default"}},{"object":"block","id":"6ccef701-8445-4670-8474-d387c9b7ef12","parent":{"type":"page_id","page_id":"de2f47a3-3dcc-4621-8f6c-f56dc1b57062"},"created_time":"2023-05-21T00:22:00.000Z","last_edited_time":"2023-05-21T00:22:00.000Z","created_by":{"object":"user","id":"f4f222d4-d508-405d-ba6c-da82ee26ee54"},"last_edited_by":{"object":"user","id":"f4f222d4-d508-405d-ba6c-da82ee26ee54"},"has_children":false,"archived":false,"in_trash":false,"type":"paragraph","paragraph":{"rich_text":[{"type":"text","text":{"content":"現在の状態から新しい状態を作る関数を渡します。Redux 的な文脈で言えば Reducer と似ています。repatch に影響を受けています。","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default"},"plain_text":"現在の状態から新しい状態を作る関数を渡します。Redux 的な文脈で言えば Reducer と似ています。repatch に影響を受けています。","href":null}],"color":"default"}},{"object":"block","id":"414160d6-986c-4328-9e13-ddf0ca811186","parent":{"type":"page_id","page_id":"de2f47a3-3dcc-4621-8f6c-f56dc1b57062"},"created_time":"2023-05-21T00:22:00.000Z","last_edited_time":"2023-05-21T00:22:00.000Z","created_by":{"object":"user","id":"f4f222d4-d508-405d-ba6c-da82ee26ee54"},"last_edited_by":{"object":"user","id":"f4f222d4-d508-405d-ba6c-da82ee26ee54"},"has_children":false,"archived":false,"in_trash":false,"type":"heading_3","heading_3":{"rich_text":[{"type":"text","text":{"content":"store.select((state: T) => any)","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default"},"plain_text":"store.select((state: T) => any)","href":null}],"is_toggleable":false,"color":"default"}},{"object":"block","id":"73dc94cf-1309-4c0d-9eb2-b443e7317a17","parent":{"type":"page_id","page_id":"de2f47a3-3dcc-4621-8f6c-f56dc1b57062"},"created_time":"2023-05-21T00:22:00.000Z","last_edited_time":"2023-05-21T00:22:00.000Z","created_by":{"object":"user","id":"f4f222d4-d508-405d-ba6c-da82ee26ee54"},"last_edited_by":{"object":"user","id":"f4f222d4-d508-405d-ba6c-da82ee26ee54"},"has_children":false,"archived":false,"in_trash":false,"type":"paragraph","paragraph":{"rich_text":[{"type":"text","text":{"content":"ストアが管理している状態のいち部分だけの Observable を作るためのメソッドです。具体的には map して distinctUntilChanged した結果を返します。ngrx/store に影響を受けています。","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default"},"plain_text":"ストアが管理している状態のいち部分だけの Observable を作るためのメソッドです。具体的には map して distinctUntilChanged した結果を返します。ngrx/store に影響を受けています。","href":null}],"color":"default"}},{"object":"block","id":"0bedc7a4-af3f-44d1-a75f-d6769339e152","parent":{"type":"page_id","page_id":"de2f47a3-3dcc-4621-8f6c-f56dc1b57062"},"created_time":"2023-05-21T00:22:00.000Z","last_edited_time":"2023-05-21T01:31:00.000Z","created_by":{"object":"user","id":"f4f222d4-d508-405d-ba6c-da82ee26ee54"},"last_edited_by":{"object":"user","id":"f4f222d4-d508-405d-ba6c-da82ee26ee54"},"has_children":false,"archived":false,"in_trash":false,"type":"code","code":{"caption":[],"rich_text":[{"type":"text","text":{"content":"import { Store } from \"@lacolaco/reactive-store\";\n\nconst store: Store<{ count: number }> = new Store({ count: 0 });\n\nconst count$: Observable<number> = store.select(state => state.count);\ncount$.subscribe(count => {\n  console.log(count);\n});\n\nstore.patch(state => {\n  return {\n    count: state.count + 1\n  };\n});","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default"},"plain_text":"import { Store } from \"@lacolaco/reactive-store\";\n\nconst store: Store<{ count: number }> = new Store({ count: 0 });\n\nconst count$: Observable<number> = store.select(state => state.count);\ncount$.subscribe(count => {\n  console.log(count);\n});\n\nstore.patch(state => {\n  return {\n    count: state.count + 1\n  };\n});","href":null}],"language":"plain text"}},{"object":"block","id":"b53d25da-fc88-4ce2-9242-86ca403bcfc0","parent":{"type":"page_id","page_id":"de2f47a3-3dcc-4621-8f6c-f56dc1b57062"},"created_time":"2023-05-21T00:22:00.000Z","last_edited_time":"2023-05-21T00:22:00.000Z","created_by":{"object":"user","id":"f4f222d4-d508-405d-ba6c-da82ee26ee54"},"last_edited_by":{"object":"user","id":"f4f222d4-d508-405d-ba6c-da82ee26ee54"},"has_children":false,"archived":false,"in_trash":false,"type":"heading_3","heading_3":{"rich_text":[{"type":"text","text":{"content":"Middleware","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default"},"plain_text":"Middleware","href":null}],"is_toggleable":false,"color":"default"}},{"object":"block","id":"752eb139-9ff1-414d-b627-52a788c121a5","parent":{"type":"page_id","page_id":"de2f47a3-3dcc-4621-8f6c-f56dc1b57062"},"created_time":"2023-05-21T00:22:00.000Z","last_edited_time":"2023-05-21T00:22:00.000Z","created_by":{"object":"user","id":"f4f222d4-d508-405d-ba6c-da82ee26ee54"},"last_edited_by":{"object":"user","id":"f4f222d4-d508-405d-ba6c-da82ee26ee54"},"has_children":false,"archived":false,"in_trash":false,"type":"paragraph","paragraph":{"rich_text":[{"type":"text","text":{"content":"Middleware は dispatch メソッドに介入する仕組みです。lacolaco/reactive-store では dispatch された新しい状態を Observable に流す一番基本の部分も Middleware と同列に扱われています。実装の参考になったのは Angular の HttpInterceptor です。","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default"},"plain_text":"Middleware は dispatch メソッドに介入する仕組みです。lacolaco/reactive-store では dispatch された新しい状態を Observable に流す一番基本の部分も Middleware と同列に扱われています。実装の参考になったのは Angular の HttpInterceptor です。","href":null}],"color":"default"}},{"object":"block","id":"2d605f66-09c6-43d1-9adf-9fe50c14ae98","parent":{"type":"page_id","page_id":"de2f47a3-3dcc-4621-8f6c-f56dc1b57062"},"created_time":"2023-05-21T00:22:00.000Z","last_edited_time":"2023-05-21T00:22:00.000Z","created_by":{"object":"user","id":"f4f222d4-d508-405d-ba6c-da82ee26ee54"},"last_edited_by":{"object":"user","id":"f4f222d4-d508-405d-ba6c-da82ee26ee54"},"has_children":false,"archived":false,"in_trash":false,"type":"paragraph","paragraph":{"rich_text":[{"type":"text","text":{"content":"まず Middleware の前に、state を受け取り何かを返す関数として ","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default"},"plain_text":"まず Middleware の前に、state を受け取り何かを返す関数として ","href":null},{"type":"text","text":{"content":"StateHandler","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":true,"color":"default"},"plain_text":"StateHandler","href":null},{"type":"text","text":{"content":" という型があります。","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default"},"plain_text":" という型があります。","href":null}],"color":"default"}},{"object":"block","id":"b5e07ae1-58a6-4b92-a60f-272c777fd1c1","parent":{"type":"page_id","page_id":"de2f47a3-3dcc-4621-8f6c-f56dc1b57062"},"created_time":"2023-05-21T00:22:00.000Z","last_edited_time":"2023-05-21T00:22:00.000Z","created_by":{"object":"user","id":"f4f222d4-d508-405d-ba6c-da82ee26ee54"},"last_edited_by":{"object":"user","id":"f4f222d4-d508-405d-ba6c-da82ee26ee54"},"has_children":false,"archived":false,"in_trash":false,"type":"code","code":{"caption":[],"rich_text":[{"type":"text","text":{"content":"export type StateHandler = (state: any) => any;","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default"},"plain_text":"export type StateHandler = (state: any) => any;","href":null}],"language":"plain text"}},{"object":"block","id":"adf571a3-9cd2-4393-a0a4-51d82449af3b","parent":{"type":"page_id","page_id":"de2f47a3-3dcc-4621-8f6c-f56dc1b57062"},"created_time":"2023-05-21T00:22:00.000Z","last_edited_time":"2023-05-21T00:22:00.000Z","created_by":{"object":"user","id":"f4f222d4-d508-405d-ba6c-da82ee26ee54"},"last_edited_by":{"object":"user","id":"f4f222d4-d508-405d-ba6c-da82ee26ee54"},"has_children":false,"archived":false,"in_trash":false,"type":"paragraph","paragraph":{"rich_text":[{"type":"text","text":{"content":"そして Middleware は、StateHandler を受け取り StateHandler を返す関数です。","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default"},"plain_text":"そして Middleware は、StateHandler を受け取り StateHandler を返す関数です。","href":null}],"color":"default"}},{"object":"block","id":"276eae69-8078-4a3b-8541-30c310edfa00","parent":{"type":"page_id","page_id":"de2f47a3-3dcc-4621-8f6c-f56dc1b57062"},"created_time":"2023-05-21T00:22:00.000Z","last_edited_time":"2023-05-21T00:22:00.000Z","created_by":{"object":"user","id":"f4f222d4-d508-405d-ba6c-da82ee26ee54"},"last_edited_by":{"object":"user","id":"f4f222d4-d508-405d-ba6c-da82ee26ee54"},"has_children":false,"archived":false,"in_trash":false,"type":"code","code":{"caption":[],"rich_text":[{"type":"text","text":{"content":"export type Middleware = (next: StateHandler) => StateHandler;","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default"},"plain_text":"export type Middleware = (next: StateHandler) => StateHandler;","href":null}],"language":"plain text"}},{"object":"block","id":"821eaec8-65ae-42e5-8092-5c3ffeac8456","parent":{"type":"page_id","page_id":"de2f47a3-3dcc-4621-8f6c-f56dc1b57062"},"created_time":"2023-05-21T00:22:00.000Z","last_edited_time":"2023-05-21T00:22:00.000Z","created_by":{"object":"user","id":"f4f222d4-d508-405d-ba6c-da82ee26ee54"},"last_edited_by":{"object":"user","id":"f4f222d4-d508-405d-ba6c-da82ee26ee54"},"has_children":false,"archived":false,"in_trash":false,"type":"paragraph","paragraph":{"rich_text":[{"type":"text","text":{"content":"何もしない Middleware は次のように書けます。","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default"},"plain_text":"何もしない Middleware は次のように書けます。","href":null}],"color":"default"}},{"object":"block","id":"4d77b021-963d-498c-9ff9-51a267837fa3","parent":{"type":"page_id","page_id":"de2f47a3-3dcc-4621-8f6c-f56dc1b57062"},"created_time":"2023-05-21T00:22:00.000Z","last_edited_time":"2023-05-21T00:22:00.000Z","created_by":{"object":"user","id":"f4f222d4-d508-405d-ba6c-da82ee26ee54"},"last_edited_by":{"object":"user","id":"f4f222d4-d508-405d-ba6c-da82ee26ee54"},"has_children":false,"archived":false,"in_trash":false,"type":"code","code":{"caption":[],"rich_text":[{"type":"text","text":{"content":"const noopMiddleware = next => state => next(state);","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default"},"plain_text":"const noopMiddleware = next => state => next(state);","href":null}],"language":"plain text"}},{"object":"block","id":"10081974-065d-4fa9-acd3-5ccb0e8891e2","parent":{"type":"page_id","page_id":"de2f47a3-3dcc-4621-8f6c-f56dc1b57062"},"created_time":"2023-05-21T00:22:00.000Z","last_edited_time":"2023-05-21T00:22:00.000Z","created_by":{"object":"user","id":"f4f222d4-d508-405d-ba6c-da82ee26ee54"},"last_edited_by":{"object":"user","id":"f4f222d4-d508-405d-ba6c-da82ee26ee54"},"has_children":false,"archived":false,"in_trash":false,"type":"paragraph","paragraph":{"rich_text":[{"type":"text","text":{"content":"大した実装ではないので詳しくは","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default"},"plain_text":"大した実装ではないので詳しくは","href":null},{"type":"text","text":{"content":"ソースコード","link":{"url":"https://github.com/lacolaco/reactive-store#readme"}},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default"},"plain_text":"ソースコード","href":"https://github.com/lacolaco/reactive-store#readme"},{"type":"text","text":{"content":"を読んで下さい。ユニットテストも書いてあります。具体的なユースケースとしては Logging などが考えられます。次の例ではすべての StateHandler が処理を終えたあとに、新しい state をコンソールに書き出しています。","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default"},"plain_text":"を読んで下さい。ユニットテストも書いてあります。具体的なユースケースとしては Logging などが考えられます。次の例ではすべての StateHandler が処理を終えたあとに、新しい state をコンソールに書き出しています。","href":null}],"color":"default"}},{"object":"block","id":"94708841-888d-41e5-a0c5-2d2466b1975f","parent":{"type":"page_id","page_id":"de2f47a3-3dcc-4621-8f6c-f56dc1b57062"},"created_time":"2023-05-21T00:22:00.000Z","last_edited_time":"2023-05-21T01:31:00.000Z","created_by":{"object":"user","id":"f4f222d4-d508-405d-ba6c-da82ee26ee54"},"last_edited_by":{"object":"user","id":"f4f222d4-d508-405d-ba6c-da82ee26ee54"},"has_children":false,"archived":false,"in_trash":false,"type":"code","code":{"caption":[],"rich_text":[{"type":"text","text":{"content":"import { Store } from \"@lacolaco/reactive-store\";\n\nconst loggingMiddleware = next => {\n  return state => {\n    const newState = next(state);\n    console.log(`[State]`, newState);\n    return newState;\n  };\n};\n\nconst store = new Store(0, [loggingMiddleware]);","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default"},"plain_text":"import { Store } from \"@lacolaco/reactive-store\";\n\nconst loggingMiddleware = next => {\n  return state => {\n    const newState = next(state);\n    console.log(`[State]`, newState);\n    return newState;\n  };\n};\n\nconst store = new Store(0, [loggingMiddleware]);","href":null}],"language":"plain text"}},{"object":"block","id":"43fee4e9-3ecf-4561-96cf-c7ebd9d9f664","parent":{"type":"page_id","page_id":"de2f47a3-3dcc-4621-8f6c-f56dc1b57062"},"created_time":"2023-05-21T00:22:00.000Z","last_edited_time":"2023-05-21T00:22:00.000Z","created_by":{"object":"user","id":"f4f222d4-d508-405d-ba6c-da82ee26ee54"},"last_edited_by":{"object":"user","id":"f4f222d4-d508-405d-ba6c-da82ee26ee54"},"has_children":false,"archived":false,"in_trash":false,"type":"heading_3","heading_3":{"rich_text":[{"type":"text","text":{"content":"利点","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default"},"plain_text":"利点","href":null}],"is_toggleable":false,"color":"default"}},{"object":"block","id":"68671db1-ab95-4f12-894f-c904c828a927","parent":{"type":"page_id","page_id":"de2f47a3-3dcc-4621-8f6c-f56dc1b57062"},"created_time":"2023-05-21T00:22:00.000Z","last_edited_time":"2023-05-21T00:22:00.000Z","created_by":{"object":"user","id":"f4f222d4-d508-405d-ba6c-da82ee26ee54"},"last_edited_by":{"object":"user","id":"f4f222d4-d508-405d-ba6c-da82ee26ee54"},"has_children":false,"archived":false,"in_trash":false,"type":"bulleted_list_item","bulleted_list_item":{"rich_text":[{"type":"text","text":{"content":"実装が薄いので RxJS さえ信用できれば安心して使える","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default"},"plain_text":"実装が薄いので RxJS さえ信用できれば安心して使える","href":null}],"color":"default"}},{"object":"block","id":"825569c7-a3f4-4528-b5f1-59bbe6fffbf1","parent":{"type":"page_id","page_id":"de2f47a3-3dcc-4621-8f6c-f56dc1b57062"},"created_time":"2023-05-21T00:22:00.000Z","last_edited_time":"2023-05-21T00:22:00.000Z","created_by":{"object":"user","id":"f4f222d4-d508-405d-ba6c-da82ee26ee54"},"last_edited_by":{"object":"user","id":"f4f222d4-d508-405d-ba6c-da82ee26ee54"},"has_children":false,"archived":false,"in_trash":false,"type":"bulleted_list_item","bulleted_list_item":{"rich_text":[{"type":"text","text":{"content":"RxJS のエコシステムと簡単に接続できる","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default"},"plain_text":"RxJS のエコシステムと簡単に接続できる","href":null}],"color":"default"}},{"object":"block","id":"6095b677-dc8f-43ec-a74b-363fc90945ab","parent":{"type":"page_id","page_id":"de2f47a3-3dcc-4621-8f6c-f56dc1b57062"},"created_time":"2023-05-21T00:22:00.000Z","last_edited_time":"2023-05-21T00:22:00.000Z","created_by":{"object":"user","id":"f4f222d4-d508-405d-ba6c-da82ee26ee54"},"last_edited_by":{"object":"user","id":"f4f222d4-d508-405d-ba6c-da82ee26ee54"},"has_children":false,"archived":false,"in_trash":false,"type":"bulleted_list_item","bulleted_list_item":{"rich_text":[{"type":"text","text":{"content":"型安全","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default"},"plain_text":"型安全","href":null}],"color":"default"}},{"object":"block","id":"4c9c8194-f6a9-47ea-90aa-9af41b6061a9","parent":{"type":"page_id","page_id":"de2f47a3-3dcc-4621-8f6c-f56dc1b57062"},"created_time":"2023-05-21T00:22:00.000Z","last_edited_time":"2023-05-21T00:22:00.000Z","created_by":{"object":"user","id":"f4f222d4-d508-405d-ba6c-da82ee26ee54"},"last_edited_by":{"object":"user","id":"f4f222d4-d508-405d-ba6c-da82ee26ee54"},"has_children":false,"archived":false,"in_trash":false,"type":"paragraph","paragraph":{"rich_text":[{"type":"text","text":{"content":"もし興味があれば使ってみて Issue とかツイッターでフィードバックとかもらえるとうれしいです。","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default"},"plain_text":"もし興味があれば使ってみて Issue とかツイッターでフィードバックとかもらえるとうれしいです。","href":null}],"color":"default"}}]