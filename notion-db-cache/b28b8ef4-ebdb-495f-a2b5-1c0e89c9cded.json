[{"object":"block","id":"dc89afb7-cfcc-4787-b2b1-02687211f30c","parent":{"type":"page_id","page_id":"b28b8ef4-ebdb-495f-a2b5-1c0e89c9cded"},"created_time":"2023-12-18T13:55:00.000Z","last_edited_time":"2023-12-20T15:27:00.000Z","created_by":{"object":"user","id":"f4f222d4-d508-405d-ba6c-da82ee26ee54"},"last_edited_by":{"object":"user","id":"f4f222d4-d508-405d-ba6c-da82ee26ee54"},"has_children":false,"archived":false,"type":"paragraph","paragraph":{"rich_text":[{"type":"text","text":{"content":"この記事は ","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default"},"plain_text":"この記事は ","href":null},{"type":"text","text":{"content":"GitHub Actions Advent Calendar","link":{"url":"https://qiita.com/advent-calendar/2023/github-actions"}},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default"},"plain_text":"GitHub Actions Advent Calendar","href":"https://qiita.com/advent-calendar/2023/github-actions"},{"type":"text","text":{"content":" 21日目の記事です。昨日は@eno49conanさんの ","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default"},"plain_text":" 21日目の記事です。昨日は@eno49conanさんの ","href":null},{"type":"text","text":{"content":"GitHub Actions、キャッシュで時間短縮(とLambda更新で少し苦労)した話","link":{"url":"https://qiita.com/eno49conan/items/508bae516fa2ed089db9"}},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default"},"plain_text":"GitHub Actions、キャッシュで時間短縮(とLambda更新で少し苦労)した話","href":"https://qiita.com/eno49conan/items/508bae516fa2ed089db9"},{"type":"text","text":{"content":" でした。","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default"},"plain_text":" でした。","href":null}],"color":"default"}},{"object":"block","id":"40863335-5462-4902-8d9c-227e27a4abce","parent":{"type":"page_id","page_id":"b28b8ef4-ebdb-495f-a2b5-1c0e89c9cded"},"created_time":"2023-12-18T13:59:00.000Z","last_edited_time":"2023-12-18T13:59:00.000Z","created_by":{"object":"user","id":"f4f222d4-d508-405d-ba6c-da82ee26ee54"},"last_edited_by":{"object":"user","id":"f4f222d4-d508-405d-ba6c-da82ee26ee54"},"has_children":false,"archived":false,"type":"bookmark","bookmark":{"caption":[],"url":"https://qiita.com/advent-calendar/2023/github-actions"}},{"object":"block","id":"dec1ef02-82a4-4b13-9948-f87c723d79da","parent":{"type":"page_id","page_id":"b28b8ef4-ebdb-495f-a2b5-1c0e89c9cded"},"created_time":"2023-12-18T13:55:00.000Z","last_edited_time":"2023-12-18T13:59:00.000Z","created_by":{"object":"user","id":"f4f222d4-d508-405d-ba6c-da82ee26ee54"},"last_edited_by":{"object":"user","id":"f4f222d4-d508-405d-ba6c-da82ee26ee54"},"has_children":false,"archived":false,"type":"paragraph","paragraph":{"rich_text":[],"color":"default"}},{"object":"block","id":"f53cb45c-b20e-453d-9a88-e538377de402","parent":{"type":"page_id","page_id":"b28b8ef4-ebdb-495f-a2b5-1c0e89c9cded"},"created_time":"2023-12-18T13:55:00.000Z","last_edited_time":"2023-12-19T23:54:00.000Z","created_by":{"object":"user","id":"f4f222d4-d508-405d-ba6c-da82ee26ee54"},"last_edited_by":{"object":"user","id":"f4f222d4-d508-405d-ba6c-da82ee26ee54"},"has_children":false,"archived":false,"type":"paragraph","paragraph":{"rich_text":[{"type":"text","text":{"content":"アドベントカレンダーなので、小粒のちょっとした話を書きます。先日GitHub Actionsの","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default"},"plain_text":"アドベントカレンダーなので、小粒のちょっとした話を書きます。先日GitHub Actionsの","href":null},{"type":"text","text":{"content":"Job Outputs","link":null},"annotations":{"bold":true,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default"},"plain_text":"Job Outputs","href":null},{"type":"text","text":{"content":" 機能のめちゃくちゃ初歩的な仕様を勘違いしてしばらくハマってしまったので、備忘録も兼ねてその話を。","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default"},"plain_text":" 機能のめちゃくちゃ初歩的な仕様を勘違いしてしばらくハマってしまったので、備忘録も兼ねてその話を。","href":null}],"color":"default"}},{"object":"block","id":"7188b9ce-c413-4918-ba81-cd7debf1897f","parent":{"type":"page_id","page_id":"b28b8ef4-ebdb-495f-a2b5-1c0e89c9cded"},"created_time":"2023-12-18T13:55:00.000Z","last_edited_time":"2023-12-18T13:59:00.000Z","created_by":{"object":"user","id":"f4f222d4-d508-405d-ba6c-da82ee26ee54"},"last_edited_by":{"object":"user","id":"f4f222d4-d508-405d-ba6c-da82ee26ee54"},"has_children":false,"archived":false,"type":"heading_2","heading_2":{"rich_text":[{"type":"text","text":{"content":"Job Outputs","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default"},"plain_text":"Job Outputs","href":null}],"is_toggleable":false,"color":"default"}},{"object":"block","id":"5a05bb4e-a4ed-4591-84e1-536c2de78150","parent":{"type":"page_id","page_id":"b28b8ef4-ebdb-495f-a2b5-1c0e89c9cded"},"created_time":"2023-12-18T14:01:00.000Z","last_edited_time":"2023-12-18T14:02:00.000Z","created_by":{"object":"user","id":"f4f222d4-d508-405d-ba6c-da82ee26ee54"},"last_edited_by":{"object":"user","id":"f4f222d4-d508-405d-ba6c-da82ee26ee54"},"has_children":false,"archived":false,"type":"paragraph","paragraph":{"rich_text":[{"type":"text","text":{"content":"Job Outputsは、先行するジョブから出力された値を、後続のジョブで利用するための機能です。","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default"},"plain_text":"Job Outputsは、先行するジョブから出力された値を、後続のジョブで利用するための機能です。","href":null}],"color":"default"}},{"object":"block","id":"18351d67-3058-402a-afc0-aae94663cf32","parent":{"type":"page_id","page_id":"b28b8ef4-ebdb-495f-a2b5-1c0e89c9cded"},"created_time":"2023-12-18T14:02:00.000Z","last_edited_time":"2023-12-18T14:08:00.000Z","created_by":{"object":"user","id":"f4f222d4-d508-405d-ba6c-da82ee26ee54"},"last_edited_by":{"object":"user","id":"f4f222d4-d508-405d-ba6c-da82ee26ee54"},"has_children":false,"archived":false,"type":"quote","quote":{"rich_text":[{"type":"text","text":{"content":"You can use ","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default"},"plain_text":"You can use ","href":null},{"type":"text","text":{"content":"jobs.<job_id>.outputs","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":true,"color":"default"},"plain_text":"jobs.<job_id>.outputs","href":null},{"type":"text","text":{"content":" to create a map of outputs for a job. Job outputs are available to all downstream jobs that depend on this job. For more information on defining job dependencies, see ","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default"},"plain_text":" to create a map of outputs for a job. Job outputs are available to all downstream jobs that depend on this job. For more information on defining job dependencies, see ","href":null},{"type":"text","text":{"content":"jobs.<job_id>.needs","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":true,"color":"default"},"plain_text":"jobs.<job_id>.needs","href":null},{"type":"text","text":{"content":".","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default"},"plain_text":".","href":null}],"color":"default"}},{"object":"block","id":"375eb271-07bc-4f1e-9d27-27eda0c9ccb2","parent":{"type":"page_id","page_id":"b28b8ef4-ebdb-495f-a2b5-1c0e89c9cded"},"created_time":"2023-12-18T13:58:00.000Z","last_edited_time":"2023-12-18T13:58:00.000Z","created_by":{"object":"user","id":"f4f222d4-d508-405d-ba6c-da82ee26ee54"},"last_edited_by":{"object":"user","id":"f4f222d4-d508-405d-ba6c-da82ee26ee54"},"has_children":false,"archived":false,"type":"bookmark","bookmark":{"caption":[],"url":"https://docs.github.com/en/actions/using-jobs/defining-outputs-for-jobs"}},{"object":"block","id":"49b8055a-96ab-4676-a57d-81cf90339130","parent":{"type":"page_id","page_id":"b28b8ef4-ebdb-495f-a2b5-1c0e89c9cded"},"created_time":"2023-12-18T14:09:00.000Z","last_edited_time":"2023-12-18T14:11:00.000Z","created_by":{"object":"user","id":"f4f222d4-d508-405d-ba6c-da82ee26ee54"},"last_edited_by":{"object":"user","id":"f4f222d4-d508-405d-ba6c-da82ee26ee54"},"has_children":false,"archived":false,"type":"paragraph","paragraph":{"rich_text":[{"type":"text","text":{"content":"出力は各ステップに紐づき、同一ジョブ内では ","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default"},"plain_text":"出力は各ステップに紐づき、同一ジョブ内では ","href":null},{"type":"text","text":{"content":"steps.<step_id>.outputs","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":true,"color":"default"},"plain_text":"steps.<step_id>.outputs","href":null},{"type":"text","text":{"content":" でアクセスできますが、異なるジョブから参照するには一旦ジョブの出力としてマッピングしなおす必要があります。","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default"},"plain_text":" でアクセスできますが、異なるジョブから参照するには一旦ジョブの出力としてマッピングしなおす必要があります。","href":null}],"color":"default"}},{"object":"block","id":"defc6cb9-c9d0-4952-a906-a6ca60195725","parent":{"type":"page_id","page_id":"b28b8ef4-ebdb-495f-a2b5-1c0e89c9cded"},"created_time":"2023-12-18T14:11:00.000Z","last_edited_time":"2023-12-18T14:11:00.000Z","created_by":{"object":"user","id":"f4f222d4-d508-405d-ba6c-da82ee26ee54"},"last_edited_by":{"object":"user","id":"f4f222d4-d508-405d-ba6c-da82ee26ee54"},"has_children":false,"archived":false,"type":"code","code":{"caption":[],"rich_text":[{"type":"text","text":{"content":"# 公式ドキュメントより\njobs:\n  job1:\n    runs-on: ubuntu-latest\n    # Map a step output to a job output\n    outputs:\n      output1: ${{ steps.step1.outputs.test }}\n      output2: ${{ steps.step2.outputs.test }}\n    steps:\n      - id: step1\n        run: echo \"test=hello\" >> \"$GITHUB_OUTPUT\"\n      - id: step2\n        run: echo \"test=world\" >> \"$GITHUB_OUTPUT\"\n  job2:\n    runs-on: ubuntu-latest\n    needs: job1\n    steps:\n      - env:\n          OUTPUT1: ${{needs.job1.outputs.output1}}\n          OUTPUT2: ${{needs.job1.outputs.output2}}\n        run: echo \"$OUTPUT1 $OUTPUT2\"","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default"},"plain_text":"# 公式ドキュメントより\njobs:\n  job1:\n    runs-on: ubuntu-latest\n    # Map a step output to a job output\n    outputs:\n      output1: ${{ steps.step1.outputs.test }}\n      output2: ${{ steps.step2.outputs.test }}\n    steps:\n      - id: step1\n        run: echo \"test=hello\" >> \"$GITHUB_OUTPUT\"\n      - id: step2\n        run: echo \"test=world\" >> \"$GITHUB_OUTPUT\"\n  job2:\n    runs-on: ubuntu-latest\n    needs: job1\n    steps:\n      - env:\n          OUTPUT1: ${{needs.job1.outputs.output1}}\n          OUTPUT2: ${{needs.job1.outputs.output2}}\n        run: echo \"$OUTPUT1 $OUTPUT2\"","href":null}],"language":"yaml"}},{"object":"block","id":"7de37c43-908f-4ae8-a1a2-4ca693204d85","parent":{"type":"page_id","page_id":"b28b8ef4-ebdb-495f-a2b5-1c0e89c9cded"},"created_time":"2023-12-18T14:12:00.000Z","last_edited_time":"2023-12-18T14:12:00.000Z","created_by":{"object":"user","id":"f4f222d4-d508-405d-ba6c-da82ee26ee54"},"last_edited_by":{"object":"user","id":"f4f222d4-d508-405d-ba6c-da82ee26ee54"},"has_children":false,"archived":false,"type":"paragraph","paragraph":{"rich_text":[],"color":"default"}},{"object":"block","id":"f718d37b-ce55-4736-88ce-60c9195c28a2","parent":{"type":"page_id","page_id":"b28b8ef4-ebdb-495f-a2b5-1c0e89c9cded"},"created_time":"2023-12-18T14:12:00.000Z","last_edited_time":"2023-12-18T14:12:00.000Z","created_by":{"object":"user","id":"f4f222d4-d508-405d-ba6c-da82ee26ee54"},"last_edited_by":{"object":"user","id":"f4f222d4-d508-405d-ba6c-da82ee26ee54"},"has_children":false,"archived":false,"type":"heading_2","heading_2":{"rich_text":[{"type":"text","text":{"content":"出力は常に文字列エンコードされる","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default"},"plain_text":"出力は常に文字列エンコードされる","href":null}],"is_toggleable":false,"color":"default"}},{"object":"block","id":"98ea9eaf-e95b-4fbe-9602-8b45b496d784","parent":{"type":"page_id","page_id":"b28b8ef4-ebdb-495f-a2b5-1c0e89c9cded"},"created_time":"2023-12-18T14:12:00.000Z","last_edited_time":"2023-12-18T14:15:00.000Z","created_by":{"object":"user","id":"f4f222d4-d508-405d-ba6c-da82ee26ee54"},"last_edited_by":{"object":"user","id":"f4f222d4-d508-405d-ba6c-da82ee26ee54"},"has_children":false,"archived":false,"type":"paragraph","paragraph":{"rich_text":[{"type":"text","text":{"content":"ドキュメントを読めばそこかしこに書いてあるのですが、僕はこの仕様を完全に見落としていて時間を無駄にしました。ステップやジョブの出力は、常にUnicode文字列にエンコードされます。文字列以外のオブジェクトが出力された場合は、JSON文字列に変換されます。","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default"},"plain_text":"ドキュメントを読めばそこかしこに書いてあるのですが、僕はこの仕様を完全に見落としていて時間を無駄にしました。ステップやジョブの出力は、常にUnicode文字列にエンコードされます。文字列以外のオブジェクトが出力された場合は、JSON文字列に変換されます。","href":null}],"color":"default"}},{"object":"block","id":"f6ac5a92-aa62-46a6-876a-c5370ddcee4c","parent":{"type":"page_id","page_id":"b28b8ef4-ebdb-495f-a2b5-1c0e89c9cded"},"created_time":"2023-12-18T14:15:00.000Z","last_edited_time":"2023-12-18T14:18:00.000Z","created_by":{"object":"user","id":"f4f222d4-d508-405d-ba6c-da82ee26ee54"},"last_edited_by":{"object":"user","id":"f4f222d4-d508-405d-ba6c-da82ee26ee54"},"has_children":false,"archived":false,"type":"paragraph","paragraph":{"rich_text":[{"type":"text","text":{"content":"これが何を意味するかというと、 ","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default"},"plain_text":"これが何を意味するかというと、 ","href":null},{"type":"text","text":{"content":"false","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":true,"color":"default"},"plain_text":"false","href":null},{"type":"text","text":{"content":" が出力されると ","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default"},"plain_text":" が出力されると ","href":null},{"type":"text","text":{"content":"\"false\"","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":true,"color":"default"},"plain_text":"\"false\"","href":null},{"type":"text","text":{"content":" になるということです。もう察しがついたかもしれませんが、真偽値を出力していると思ったまま後続のジョブの ","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default"},"plain_text":" になるということです。もう察しがついたかもしれませんが、真偽値を出力していると思ったまま後続のジョブの ","href":null},{"type":"text","text":{"content":"if","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":true,"color":"default"},"plain_text":"if","href":null},{"type":"text","text":{"content":" 条件でその値を参照してしまい、 ","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default"},"plain_text":" 条件でその値を参照してしまい、 ","href":null},{"type":"text","text":{"content":"\"true\"","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":true,"color":"default"},"plain_text":"\"true\"","href":null},{"type":"text","text":{"content":" でも ","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default"},"plain_text":" でも ","href":null},{"type":"text","text":{"content":"\"false\"","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":true,"color":"default"},"plain_text":"\"false\"","href":null},{"type":"text","text":{"content":" でも常に ","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default"},"plain_text":" でも常に ","href":null},{"type":"text","text":{"content":"if","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":true,"color":"default"},"plain_text":"if","href":null},{"type":"text","text":{"content":" は真だと評価してしまう、というのをやらかしました。","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default"},"plain_text":" は真だと評価してしまう、というのをやらかしました。","href":null}],"color":"default"}},{"object":"block","id":"5970b50a-b863-4965-93c7-7a37d991c91b","parent":{"type":"page_id","page_id":"b28b8ef4-ebdb-495f-a2b5-1c0e89c9cded"},"created_time":"2023-12-18T14:18:00.000Z","last_edited_time":"2023-12-18T14:45:00.000Z","created_by":{"object":"user","id":"f4f222d4-d508-405d-ba6c-da82ee26ee54"},"last_edited_by":{"object":"user","id":"f4f222d4-d508-405d-ba6c-da82ee26ee54"},"has_children":false,"archived":false,"type":"code","code":{"caption":[],"rich_text":[{"type":"text","text":{"content":"# こんなイメージ\njobs:\n  check:\n    runs-on: ubuntu-latest\n    outputs:\n      release_ready: ${{ steps.release_check.outputs.ready }}\n    steps:\n      - id: release_check\n        uses: ... # 内部で ready=true|false を出力する\n  release:\n    runs-on: ubuntu-latest\n    needs: \n      - check\n    if: ${{ needs.check.outputs.release_ready }} # 常に真になる\n    steps:\n      - ...","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default"},"plain_text":"# こんなイメージ\njobs:\n  check:\n    runs-on: ubuntu-latest\n    outputs:\n      release_ready: ${{ steps.release_check.outputs.ready }}\n    steps:\n      - id: release_check\n        uses: ... # 内部で ready=true|false を出力する\n  release:\n    runs-on: ubuntu-latest\n    needs: \n      - check\n    if: ${{ needs.check.outputs.release_ready }} # 常に真になる\n    steps:\n      - ...","href":null}],"language":"yaml"}},{"object":"block","id":"7c0ccaa4-95a7-4fcd-8315-356596c602e7","parent":{"type":"page_id","page_id":"b28b8ef4-ebdb-495f-a2b5-1c0e89c9cded"},"created_time":"2023-12-18T14:18:00.000Z","last_edited_time":"2023-12-18T15:19:00.000Z","created_by":{"object":"user","id":"f4f222d4-d508-405d-ba6c-da82ee26ee54"},"last_edited_by":{"object":"user","id":"f4f222d4-d508-405d-ba6c-da82ee26ee54"},"has_children":false,"archived":false,"type":"paragraph","paragraph":{"rich_text":[{"type":"text","text":{"content":"これに気づくのが遅れた理由はいくつかあり、ひとつはその出力をしている部分のコードを読むと ","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default"},"plain_text":"これに気づくのが遅れた理由はいくつかあり、ひとつはその出力をしている部分のコードを読むと ","href":null},{"type":"text","text":{"content":"@actions/core","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":true,"color":"default"},"plain_text":"@actions/core","href":null},{"type":"text","text":{"content":" のJavaScript APIで、 ","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default"},"plain_text":" のJavaScript APIで、 ","href":null},{"type":"text","text":{"content":"setOutput()","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":true,"color":"default"},"plain_text":"setOutput()","href":null},{"type":"text","text":{"content":" 関数を呼び出しており、そこだけ見たら出力は間違いなくブール値であったためです。しかし、これは ","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default"},"plain_text":" 関数を呼び出しており、そこだけ見たら出力は間違いなくブール値であったためです。しかし、これは ","href":null},{"type":"text","text":{"content":"@actions/core","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":true,"color":"default"},"plain_text":"@actions/core","href":null},{"type":"text","text":{"content":" APIへの理解が不足しており、ソースコードのJSDocまで読んでいれば第2引数がJSONエンコードされることは明記してありました。","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default"},"plain_text":" APIへの理解が不足しており、ソースコードのJSDocまで読んでいれば第2引数がJSONエンコードされることは明記してありました。","href":null}],"color":"default"}},{"object":"block","id":"cfdfc060-4e07-46b3-8ca2-536996d740a4","parent":{"type":"page_id","page_id":"b28b8ef4-ebdb-495f-a2b5-1c0e89c9cded"},"created_time":"2023-12-18T14:25:00.000Z","last_edited_time":"2023-12-18T14:25:00.000Z","created_by":{"object":"user","id":"f4f222d4-d508-405d-ba6c-da82ee26ee54"},"last_edited_by":{"object":"user","id":"f4f222d4-d508-405d-ba6c-da82ee26ee54"},"has_children":false,"archived":false,"type":"paragraph","paragraph":{"rich_text":[{"type":"text","text":{"content":"https://github.com/actions/toolkit/tree/main/packages/core#inputsoutputs","link":{"url":"https://github.com/actions/toolkit/tree/main/packages/core#inputsoutputs"}},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default"},"plain_text":"https://github.com/actions/toolkit/tree/main/packages/core#inputsoutputs","href":"https://github.com/actions/toolkit/tree/main/packages/core#inputsoutputs"}],"color":"default"}},{"object":"block","id":"9a8ac698-eadc-4192-98cc-ededad278d0b","parent":{"type":"page_id","page_id":"b28b8ef4-ebdb-495f-a2b5-1c0e89c9cded"},"created_time":"2023-12-18T14:27:00.000Z","last_edited_time":"2023-12-18T14:27:00.000Z","created_by":{"object":"user","id":"f4f222d4-d508-405d-ba6c-da82ee26ee54"},"last_edited_by":{"object":"user","id":"f4f222d4-d508-405d-ba6c-da82ee26ee54"},"has_children":false,"archived":false,"type":"paragraph","paragraph":{"rich_text":[{"type":"text","text":{"content":"https://github.com/actions/toolkit/blob/main/packages/core/src/core.ts#L185-L200","link":{"url":"https://github.com/actions/toolkit/blob/main/packages/core/src/core.ts#L185-L200"}},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default"},"plain_text":"https://github.com/actions/toolkit/blob/main/packages/core/src/core.ts#L185-L200","href":"https://github.com/actions/toolkit/blob/main/packages/core/src/core.ts#L185-L200"}],"color":"default"}},{"object":"block","id":"5e65bfc5-8d9a-484a-abdc-e7267895b05c","parent":{"type":"page_id","page_id":"b28b8ef4-ebdb-495f-a2b5-1c0e89c9cded"},"created_time":"2023-12-18T14:27:00.000Z","last_edited_time":"2023-12-18T14:27:00.000Z","created_by":{"object":"user","id":"f4f222d4-d508-405d-ba6c-da82ee26ee54"},"last_edited_by":{"object":"user","id":"f4f222d4-d508-405d-ba6c-da82ee26ee54"},"has_children":false,"archived":false,"type":"code","code":{"caption":[],"rich_text":[{"type":"text","text":{"content":"/**\n * Sets the value of an output.\n *\n * @param     name     name of the output to set\n * @param     value    value to store. Non-string values will be converted to a string via JSON.stringify\n */\n// eslint-disable-next-line @typescript-eslint/no-explicit-any\nexport function setOutput(name: string, value: any): void {","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default"},"plain_text":"/**\n * Sets the value of an output.\n *\n * @param     name     name of the output to set\n * @param     value    value to store. Non-string values will be converted to a string via JSON.stringify\n */\n// eslint-disable-next-line @typescript-eslint/no-explicit-any\nexport function setOutput(name: string, value: any): void {","href":null}],"language":"typescript"}},{"object":"block","id":"1314f91f-ccb6-4a9a-b9bb-a34a66e9a6a2","parent":{"type":"page_id","page_id":"b28b8ef4-ebdb-495f-a2b5-1c0e89c9cded"},"created_time":"2023-12-18T14:24:00.000Z","last_edited_time":"2023-12-18T14:44:00.000Z","created_by":{"object":"user","id":"f4f222d4-d508-405d-ba6c-da82ee26ee54"},"last_edited_by":{"object":"user","id":"f4f222d4-d508-405d-ba6c-da82ee26ee54"},"has_children":false,"archived":false,"type":"paragraph","paragraph":{"rich_text":[{"type":"text","text":{"content":"ふたつめの理由は、上述の例でいうところの ","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default"},"plain_text":"ふたつめの理由は、上述の例でいうところの ","href":null},{"type":"text","text":{"content":"release_ready","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":true,"color":"default"},"plain_text":"release_ready","href":null},{"type":"text","text":{"content":" が本当に ","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default"},"plain_text":" が本当に ","href":null},{"type":"text","text":{"content":"false","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":true,"color":"default"},"plain_text":"false","href":null},{"type":"text","text":{"content":" になっているのかを確かめるためにログを入れての調査は早くに始めていたのですが、 ","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default"},"plain_text":" になっているのかを確かめるためにログを入れての調査は早くに始めていたのですが、 ","href":null},{"type":"text","text":{"content":"echo ${{steps.release_check.outputs.ready}}","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":true,"color":"default"},"plain_text":"echo ${{steps.release_check.outputs.ready}}","href":null},{"type":"text","text":{"content":"  では ","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default"},"plain_text":"  では ","href":null},{"type":"text","text":{"content":"false","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":true,"color":"default"},"plain_text":"false","href":null},{"type":"text","text":{"content":" と ","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default"},"plain_text":" と ","href":null},{"type":"text","text":{"content":"\"false\"","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":true,"color":"default"},"plain_text":"\"false\"","href":null},{"type":"text","text":{"content":" の区別がつかないことに気づくのが遅かったためです。ログには ","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default"},"plain_text":" の区別がつかないことに気づくのが遅かったためです。ログには ","href":null},{"type":"text","text":{"content":"false","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":true,"color":"default"},"plain_text":"false","href":null},{"type":"text","text":{"content":" と出力されるのに ","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default"},"plain_text":" と出力されるのに ","href":null},{"type":"text","text":{"content":"if","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":true,"color":"default"},"plain_text":"if","href":null},{"type":"text","text":{"content":" 条件が真になってしまうのが謎でかなり悩みました。","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default"},"plain_text":" 条件が真になってしまうのが謎でかなり悩みました。","href":null}],"color":"default"}},{"object":"block","id":"dd7904a2-8202-46c4-bd2e-2ac48b8e7e1b","parent":{"type":"page_id","page_id":"b28b8ef4-ebdb-495f-a2b5-1c0e89c9cded"},"created_time":"2023-12-18T14:32:00.000Z","last_edited_time":"2023-12-18T14:41:00.000Z","created_by":{"object":"user","id":"f4f222d4-d508-405d-ba6c-da82ee26ee54"},"last_edited_by":{"object":"user","id":"f4f222d4-d508-405d-ba6c-da82ee26ee54"},"has_children":false,"archived":false,"type":"heading_2","heading_2":{"rich_text":[{"type":"text","text":{"content":"文字列以外の出力には ","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default"},"plain_text":"文字列以外の出力には ","href":null},{"type":"text","text":{"content":"fromJSON()","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":true,"color":"default"},"plain_text":"fromJSON()","href":null},{"type":"text","text":{"content":" を","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default"},"plain_text":" を","href":null}],"is_toggleable":false,"color":"default"}},{"object":"block","id":"d704f9d7-f04c-4c02-a073-9097e0044d85","parent":{"type":"page_id","page_id":"b28b8ef4-ebdb-495f-a2b5-1c0e89c9cded"},"created_time":"2023-12-18T14:33:00.000Z","last_edited_time":"2023-12-18T14:34:00.000Z","created_by":{"object":"user","id":"f4f222d4-d508-405d-ba6c-da82ee26ee54"},"last_edited_by":{"object":"user","id":"f4f222d4-d508-405d-ba6c-da82ee26ee54"},"has_children":false,"archived":false,"type":"paragraph","paragraph":{"rich_text":[{"type":"text","text":{"content":"そういうわけでハマった問題の原因は暗黙的に文字列に変換されたことに気づいていなかったというしょーもないものでした。こういうしょーもないものほど盲点で、気づくのに時間がかかるのはあるあるですね。","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default"},"plain_text":"そういうわけでハマった問題の原因は暗黙的に文字列に変換されたことに気づいていなかったというしょーもないものでした。こういうしょーもないものほど盲点で、気づくのに時間がかかるのはあるあるですね。","href":null}],"color":"default"}},{"object":"block","id":"06c9bff1-d07c-4570-9fb5-2c3319fb08a0","parent":{"type":"page_id","page_id":"b28b8ef4-ebdb-495f-a2b5-1c0e89c9cded"},"created_time":"2023-12-18T14:34:00.000Z","last_edited_time":"2023-12-19T14:36:00.000Z","created_by":{"object":"user","id":"f4f222d4-d508-405d-ba6c-da82ee26ee54"},"last_edited_by":{"object":"user","id":"f4f222d4-d508-405d-ba6c-da82ee26ee54"},"has_children":false,"archived":false,"type":"paragraph","paragraph":{"rich_text":[{"type":"text","text":{"content":"今回の場合は ","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default"},"plain_text":"今回の場合は ","href":null},{"type":"text","text":{"content":"if","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":true,"color":"default"},"plain_text":"if","href":null},{"type":"text","text":{"content":" 条件で参照するときに ","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default"},"plain_text":" 条件で参照するときに ","href":null},{"type":"text","text":{"content":"fromJSON()","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":true,"color":"default"},"plain_text":"fromJSON()","href":null},{"type":"text","text":{"content":" 関数で文字列からデコードするのが適切な記述でした。あるいは、文字列として ","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default"},"plain_text":" 関数で文字列からデコードするのが適切な記述でした。あるいは、文字列として ","href":null},{"type":"text","text":{"content":"\"true\"","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":true,"color":"default"},"plain_text":"\"true\"","href":null},{"type":"text","text":{"content":" との一致をチェックすることもできますね。","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default"},"plain_text":" との一致をチェックすることもできますね。","href":null}],"color":"default"}},{"object":"block","id":"c4650b5f-d333-4445-9a7f-63bc2bad724a","parent":{"type":"page_id","page_id":"b28b8ef4-ebdb-495f-a2b5-1c0e89c9cded"},"created_time":"2023-12-18T14:43:00.000Z","last_edited_time":"2023-12-18T14:43:00.000Z","created_by":{"object":"user","id":"f4f222d4-d508-405d-ba6c-da82ee26ee54"},"last_edited_by":{"object":"user","id":"f4f222d4-d508-405d-ba6c-da82ee26ee54"},"has_children":false,"archived":false,"type":"paragraph","paragraph":{"rich_text":[{"type":"text","text":{"content":"https://docs.github.com/en/actions/learn-github-actions/expressions#fromjson","link":{"url":"https://docs.github.com/en/actions/learn-github-actions/expressions#fromjson"}},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default"},"plain_text":"https://docs.github.com/en/actions/learn-github-actions/expressions#fromjson","href":"https://docs.github.com/en/actions/learn-github-actions/expressions#fromjson"}],"color":"default"}},{"object":"block","id":"11d5ce81-9cb7-49ec-b4a3-068bae674eae","parent":{"type":"page_id","page_id":"b28b8ef4-ebdb-495f-a2b5-1c0e89c9cded"},"created_time":"2023-12-18T14:43:00.000Z","last_edited_time":"2023-12-18T15:19:00.000Z","created_by":{"object":"user","id":"f4f222d4-d508-405d-ba6c-da82ee26ee54"},"last_edited_by":{"object":"user","id":"f4f222d4-d508-405d-ba6c-da82ee26ee54"},"has_children":false,"archived":false,"type":"code","code":{"caption":[],"rich_text":[{"type":"text","text":{"content":"# こんなイメージ\njobs:\n  check:\n    runs-on: ubuntu-latest\n    outputs:\n      release_ready: ${{ steps.release_check.outputs.ready }}\n    steps:\n      - id: release_check\n        uses: ... # 内部で ready=true|false を出力する\n  release:\n    runs-on: ubuntu-latest\n    needs: \n      - check\n    if: fromJSON(needs.check.outputs.release_ready)\n    steps:\n      - ...","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default"},"plain_text":"# こんなイメージ\njobs:\n  check:\n    runs-on: ubuntu-latest\n    outputs:\n      release_ready: ${{ steps.release_check.outputs.ready }}\n    steps:\n      - id: release_check\n        uses: ... # 内部で ready=true|false を出力する\n  release:\n    runs-on: ubuntu-latest\n    needs: \n      - check\n    if: fromJSON(needs.check.outputs.release_ready)\n    steps:\n      - ...","href":null}],"language":"yaml"}},{"object":"block","id":"e9c6c6d4-9c80-4f80-b735-265c3bce22a9","parent":{"type":"page_id","page_id":"b28b8ef4-ebdb-495f-a2b5-1c0e89c9cded"},"created_time":"2023-12-18T14:43:00.000Z","last_edited_time":"2023-12-19T14:36:00.000Z","created_by":{"object":"user","id":"f4f222d4-d508-405d-ba6c-da82ee26ee54"},"last_edited_by":{"object":"user","id":"f4f222d4-d508-405d-ba6c-da82ee26ee54"},"has_children":false,"archived":false,"type":"paragraph","paragraph":{"rich_text":[],"color":"default"}},{"object":"block","id":"8ab6ef37-3459-42c9-ae09-4900bf7ae9c5","parent":{"type":"page_id","page_id":"b28b8ef4-ebdb-495f-a2b5-1c0e89c9cded"},"created_time":"2023-12-18T14:43:00.000Z","last_edited_time":"2023-12-19T14:41:00.000Z","created_by":{"object":"user","id":"f4f222d4-d508-405d-ba6c-da82ee26ee54"},"last_edited_by":{"object":"user","id":"f4f222d4-d508-405d-ba6c-da82ee26ee54"},"has_children":false,"archived":false,"type":"paragraph","paragraph":{"rich_text":[{"type":"text","text":{"content":"これにて一件落着、めでたしめでたしということで、今年もたくさんGitHub Actionsのお世話になりました。来年もたくさんお世話になると思います。みなさんも楽しいGitHub Actionsライフを！","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default"},"plain_text":"これにて一件落着、めでたしめでたしということで、今年もたくさんGitHub Actionsのお世話になりました。来年もたくさんお世話になると思います。みなさんも楽しいGitHub Actionsライフを！","href":null}],"color":"default"}}]