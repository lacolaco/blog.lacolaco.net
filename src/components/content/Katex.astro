---
import 'katex/dist/katex.min.css';

type Props = {
  content: string;
};

const { content } = Astro.props;
---

<katex-wrapper>
  {content}
</katex-wrapper>

<script>
  import renderMathInElement from 'katex/contrib/auto-render';

  class KatexWrapper extends HTMLElement {
    constructor() {
      super();

      renderMathInElement(this, {
        delimiters: [
          { left: '$$', right: '$$', display: true },
          { left: '$', right: '$', display: false },
        ],
      });
    }
  }

  customElements.define('katex-wrapper', KatexWrapper);
</script>
