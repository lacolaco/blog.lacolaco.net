---
import { getTagByName } from '@lib/post';
import { urlize } from '../libs/strings';

export interface Props {
  name: string;
  count?: number;
}

const { name, count } = Astro.props;
const urlizedName = urlize(name);
const color = getTagByName(name)?.color ?? 'default';
---

<a
  style={`--color-tag-bg: var(--color-tag-bg-${color}); --color-tag-text: var(--color-tag-text-${color});`}
  class={`leading-relaxed text-xs inline-block px-2 rounded bg-[var(--color-tag-bg)] text-[var(--color-tag-text)] hover:shadow-tag`}
  href={`/tags/${urlizedName}`}>{name}{count && ` (${count})`}</a
>
