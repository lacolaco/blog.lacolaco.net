---
title: 'Angular: ESLintサポートの現状 2020 Autumn'
date: '2020-11-12T00:00:00.000Z'
tags:
  - 'tech'
  - 'angular'
  - 'ESLint'
published: true
source: 'https://www.notion.so/Angular-ESLint-2020-Autumn-2d6a637a1d094e33b18128d0f15c450e'
---

import LinkPreview from '../../components/features/LinkPreview.astro';

Angular v11.0.0 のリリースとともに、Angular の開発ロードマップも更新された。 この記事では開発ロードマップから “Migrate To ESLint” が消えたことと、Linting に関する Angular CLI の動きについて簡単にまとめる。

## TL;DR

要点だけ知りたい人は次のことだけ持ち帰って欲しい。

- TSLint から ESLint への移行はサードパーティの[angular-eslint](https://github.com/angular-eslint/angular-eslint)の利用を公式に推奨している
- Angular CLI のデフォルト Linter(TSLint)は v12 で非推奨になる

## angular-eslint

Angular チームが TSLint から ESLint への移行を考え始める以前から、angular-eslint プロジェクトは TSLint+Codelyzer の機能を ESLint で再現するツールを開発してきた。 近々 angular-eslint のリリースはアルファからベータになり、実戦投入可能なレベルに仕上がりつつある。 これまで Codelyzer が提供してきた TSLint のルールに対応する ESLint ルールはまだ不完全ではあるが、多くが対応済みだ。

Rules List [https://github.com/angular-eslint/angular-eslint#rules-list](https://github.com/angular-eslint/angular-eslint#rules-list)

## デフォルト Linter の廃止

当初は Angular CLI のデフォルト Linter を ESLint に移行するために、ESLint 対応のファーストパーティ実装を追加する方向で進んでいたが、 すでにサードパーティで存在していて活発に開発されている angular-eslint の意向を尊重し、angular-eslint と連携する方針に固まった。

<LinkPreview src="https://github.com/angular/angular-cli/issues/13732#issuecomment-719724640" />

v12 で Angular CLI はデフォルトの TSLint サポートを非推奨にする（おそらく Opt-in に切り替え、利用者に警告を出す）。その後はそもそも“デフォルト Linter”というものを持たないようになる予定だ。 `ng deploy` コマンドと同じように、`ng lint` コマンドはエントリポイントだけを提供し、実体はプラグインが提供するようになるだろう。

v11 のリリースブログにも同様のことが書かれている。

<LinkPreview src="https://blog.angular.io/version-11-of-angular-now-available-74721b7952f7" />

Angular 外のエコシステムへ柔軟に対応するためのプラグイン化という側面もあるが、Angular チームの開発リソースをより本質的なプロジェクトへ集中するため、コミュニティに任せられるところは任せたい、ということもあるだろう。

そういう流れで、Angular チームの開発ロードマップからは “Migrate to ESLint” は無くなった。 Angular チームが取り組むまでもなく、すでにコミュニティが推進していたからだ。

<LinkPreview src="https://angular.io/guide/roadmap" />

## 今できること

Lint の設定をデフォルトからほとんど変えていないのであれば、v12, v13 あたりで公式に推奨されるであろう移行ガイドを待っていてもよいだろう。 もちろん今すぐ angular-eslint に切り替えるのも自由だ。

ただ、もし Angular のプロジェクトで TSLint のカスタムルールを今から追加しようとしているのであれば、それは angular-eslint に移行してから ESLint のカスタムルールを追加するように切り替えたほうがいいだろう。 特に Codelyzer によるテンプレート AST の解析に依存するカスタムルールであれば、今から新たに追加するのは将来移行するのを難しくする可能性がある。 むしろ angular-eslint へ移行した上で足りない機能があれば早めにフィードバックしておくのがオープンソース利用者の振る舞いとしても好ましいだろう。
